(function(){if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;const e=HTMLElement,t={HTMLElement:function(){return Reflect.construct(e,[],this.constructor)}};window.HTMLElement=t.HTMLElement,HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)})();(function(e){if(typeof e.requestSubmit=="function")return;e.requestSubmit=function(i){i?(t(i,this),i.click()):(i=document.createElement("input"),i.type="submit",i.hidden=!0,this.appendChild(i),i.click(),this.removeChild(i))};function t(i,n){i instanceof HTMLElement||r(TypeError,"parameter 1 is not of type 'HTMLElement'"),i.type=="submit"||r(TypeError,"The specified element is not a submit button"),i.form==n||r(DOMException,"The specified element is not owned by this form element","NotFoundError")}function r(i,n,s){throw new i("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+n+".",s)}})(HTMLFormElement.prototype);const so=new WeakMap;function xf(e){const t=e instanceof Element?e:e instanceof Node?e.parentElement:null,r=t?t.closest("input, button"):null;return(r==null?void 0:r.type)=="submit"?r:null}function Pf(e){const t=xf(e.target);t&&t.form&&so.set(t.form,t)}(function(){if("submitter"in Event.prototype)return;let e=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))e=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",Pf,!0),Object.defineProperty(e,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return so.get(this.target)}})})();var at;(function(e){e.eager="eager",e.lazy="lazy"})(at||(at={}));class Ye extends HTMLElement{static get observedAttributes(){return["disabled","complete","loading","src"]}constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new Ye.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(t){t=="loading"?this.delegate.loadingStyleChanged():t=="complete"?this.delegate.completeChanged():t=="src"?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(t){t?this.setAttribute("src",t):this.removeAttribute("src")}get loading(){return Lf(this.getAttribute("loading")||"")}set loading(t){t?this.setAttribute("loading",t):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(t){t?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var t,r;return(r=(t=this.ownerDocument)===null||t===void 0?void 0:t.documentElement)===null||r===void 0?void 0:r.hasAttribute("data-turbo-preview")}}function Lf(e){switch(e.toLowerCase()){case"lazy":return at.lazy;default:return at.eager}}function Te(e){return new URL(e.toString(),document.baseURI)}function yt(e){let t;if(e.hash)return e.hash.slice(1);if(t=e.href.match(/#(.*)$/))return t[1]}function Sn(e,t){const r=(t==null?void 0:t.getAttribute("formaction"))||e.getAttribute("action")||e.action;return Te(r)}function Mf(e){return(Of(e).match(/\.[^.]*$/)||[])[0]||""}function Rf(e){return!!Mf(e).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function $f(e,t){const r=Ff(t);return e.href===Te(r).href||e.href.startsWith(r)}function Ht(e,t){return $f(e,t)&&Rf(e)}function zi(e){const t=yt(e);return t!=null?e.href.slice(0,-(t.length+1)):e.href}function xr(e){return zi(e)}function If(e,t){return Te(e).href==Te(t).href}function Nf(e){return e.pathname.split("/").slice(1)}function Of(e){return Nf(e).slice(-1)[0]}function Ff(e){return Hf(e.origin+e.pathname)}function Hf(e){return e.endsWith("/")?e:e+"/"}class kn{constructor(t){this.response=t}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return Te(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(t){return this.response.headers.get(t)}}function nr(e){if(e.getAttribute("data-turbo-eval")=="false")return e;{const t=document.createElement("script"),r=Br("csp-nonce");return r&&(t.nonce=r),t.textContent=e.textContent,t.async=!1,qf(t,e),t}}function qf(e,t){for(const{name:r,value:i}of t.attributes)e.setAttribute(r,i)}function Df(e){const t=document.createElement("template");return t.innerHTML=e,t.content}function Se(e,{target:t,cancelable:r,detail:i}={}){const n=new CustomEvent(e,{cancelable:r,bubbles:!0,composed:!0,detail:i});return t&&t.isConnected?t.dispatchEvent(n):document.documentElement.dispatchEvent(n),n}function Ir(){return new Promise(e=>requestAnimationFrame(()=>e()))}function Bf(){return new Promise(e=>setTimeout(()=>e(),0))}function jf(){return Promise.resolve()}function ao(e=""){return new DOMParser().parseFromString(e,"text/html")}function oo(e,...t){const r=Vf(e,t).replace(/^\n/,"").split(`
`),i=r[0].match(/^\s+/),n=i?i[0].length:0;return r.map(s=>s.slice(n)).join(`
`)}function Vf(e,t){return e.reduce((r,i,n)=>{const s=t[n]==null?"":t[n];return r+i+s},"")}function qt(){return Array.from({length:36}).map((e,t)=>t==8||t==13||t==18||t==23?"-":t==14?"4":t==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function Dr(e,...t){for(const r of t.map(i=>i==null?void 0:i.getAttribute(e)))if(typeof r=="string")return r;return null}function Wf(e,...t){return t.some(r=>r&&r.hasAttribute(e))}function Ki(...e){for(const t of e)t.localName=="turbo-frame"&&t.setAttribute("busy",""),t.setAttribute("aria-busy","true")}function Gi(...e){for(const t of e)t.localName=="turbo-frame"&&t.removeAttribute("busy"),t.removeAttribute("aria-busy")}function Uf(e,t=2e3){return new Promise(r=>{const i=()=>{e.removeEventListener("error",i),e.removeEventListener("load",i),r()};e.addEventListener("load",i,{once:!0}),e.addEventListener("error",i,{once:!0}),setTimeout(r,t)})}function lo(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function zf(e){return e=="advance"||e=="replace"||e=="restore"}function Yr(...e){const t=Dr("data-turbo-action",...e);return zf(t)?t:null}function co(e){return document.querySelector(`meta[name="${e}"]`)}function Br(e){const t=co(e);return t&&t.content}function Kf(e,t){let r=co(e);return r||(r=document.createElement("meta"),r.setAttribute("name",e),document.head.appendChild(r)),r.setAttribute("content",t),r}function jr(e,t){var r;if(e instanceof Element)return e.closest(t)||jr(e.assignedSlot||((r=e.getRootNode())===null||r===void 0?void 0:r.host),t)}var xe;(function(e){e[e.get=0]="get",e[e.post=1]="post",e[e.put=2]="put",e[e.patch=3]="patch",e[e.delete=4]="delete"})(xe||(xe={}));function Gf(e){switch(e.toLowerCase()){case"get":return xe.get;case"post":return xe.post;case"put":return xe.put;case"patch":return xe.patch;case"delete":return xe.delete}}class Tn{constructor(t,r,i,n=new URLSearchParams,s=null){this.abortController=new AbortController,this.resolveRequestPromise=l=>{},this.delegate=t,this.method=r,this.headers=this.defaultHeaders,this.body=n,this.url=i,this.target=s}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:t}=this;this.delegate.prepareRequest(this),await this.allowRequestToBeIntercepted(t);try{this.delegate.requestStarted(this);const r=await fetch(this.url.href,t);return await this.receive(r)}catch(r){if(r.name!=="AbortError")throw this.willDelegateErrorHandling(r)&&this.delegate.requestErrored(this,r),r}finally{this.delegate.requestFinished(this)}}async receive(t){const r=new kn(t);return Se("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:r},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,r):r.succeeded?this.delegate.requestSucceededWithResponse(this,r):this.delegate.requestFailedWithResponse(this,r),r}get fetchOptions(){var t;return{method:xe[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isSafe?null:this.body,signal:this.abortSignal,referrer:(t=this.delegate.referrer)===null||t===void 0?void 0:t.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return this.method===xe.get}get abortSignal(){return this.abortController.signal}acceptResponseType(t){this.headers.Accept=[t,this.headers.Accept].join(", ")}async allowRequestToBeIntercepted(t){const r=new Promise(n=>this.resolveRequestPromise=n);Se("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:t,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await r}willDelegateErrorHandling(t){return!Se("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:t}}).defaultPrevented}}class Yf{constructor(t,r){this.started=!1,this.intersect=i=>{const n=i.slice(-1)[0];n!=null&&n.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=t,this.element=r,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class kt{static wrap(t){return typeof t=="string"?new this(Df(t)):t}constructor(t){this.fragment=Xf(t)}}kt.contentType="text/vnd.turbo-stream.html";function Xf(e){for(const t of e.querySelectorAll("turbo-stream")){const r=document.importNode(t,!0);for(const i of r.templateElement.content.querySelectorAll("script"))i.replaceWith(nr(i));t.replaceWith(r)}return e}var rt;(function(e){e[e.initialized=0]="initialized",e[e.requesting=1]="requesting",e[e.waiting=2]="waiting",e[e.receiving=3]="receiving",e[e.stopping=4]="stopping",e[e.stopped=5]="stopped"})(rt||(rt={}));var it;(function(e){e.urlEncoded="application/x-www-form-urlencoded",e.multipart="multipart/form-data",e.plain="text/plain"})(it||(it={}));function Jf(e){switch(e.toLowerCase()){case it.multipart:return it.multipart;case it.plain:return it.plain;default:return it.urlEncoded}}class ur{static confirmMethod(t,r,i){return Promise.resolve(confirm(t))}constructor(t,r,i,n=!1){this.state=rt.initialized,this.delegate=t,this.formElement=r,this.submitter=i,this.formData=Qf(r,i),this.location=Te(this.action),this.method==xe.get&&tp(this.location,[...this.body.entries()]),this.fetchRequest=new Tn(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=n}get method(){var t;const r=((t=this.submitter)===null||t===void 0?void 0:t.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return Gf(r.toLowerCase())||xe.get}get action(){var t;const r=typeof this.formElement.action=="string"?this.formElement.action:null;return!((t=this.submitter)===null||t===void 0)&&t.hasAttribute("formaction")?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||r||""}get body(){return this.enctype==it.urlEncoded||this.method==xe.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var t;return Jf(((t=this.submitter)===null||t===void 0?void 0:t.getAttribute("formenctype"))||this.formElement.enctype)}get isSafe(){return this.fetchRequest.isSafe}get stringFormData(){return[...this.formData].reduce((t,[r,i])=>t.concat(typeof i=="string"?[[r,i]]:[]),[])}async start(){const{initialized:t,requesting:r}=rt,i=Dr("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof i=="string"&&!await ur.confirmMethod(i,this.formElement,this.submitter))&&this.state==t)return this.state=r,this.fetchRequest.perform()}stop(){const{stopping:t,stopped:r}=rt;if(this.state!=t&&this.state!=r)return this.state=t,this.fetchRequest.cancel(),!0}prepareRequest(t){if(!t.isSafe){const r=Zf(Br("csrf-param"))||Br("csrf-token");r&&(t.headers["X-CSRF-Token"]=r)}this.requestAcceptsTurboStreamResponse(t)&&t.acceptResponseType(kt.contentType)}requestStarted(t){var r;this.state=rt.waiting,(r=this.submitter)===null||r===void 0||r.setAttribute("disabled",""),this.setSubmitsWith(),Se("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(t,r){this.result={success:r.succeeded,fetchResponse:r}}requestSucceededWithResponse(t,r){if(r.clientError||r.serverError)this.delegate.formSubmissionFailedWithResponse(this,r);else if(this.requestMustRedirect(t)&&ep(r)){const i=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,i)}else this.state=rt.receiving,this.result={success:!0,fetchResponse:r},this.delegate.formSubmissionSucceededWithResponse(this,r)}requestFailedWithResponse(t,r){this.result={success:!1,fetchResponse:r},this.delegate.formSubmissionFailedWithResponse(this,r)}requestErrored(t,r){this.result={success:!1,error:r},this.delegate.formSubmissionErrored(this,r)}requestFinished(t){var r;this.state=rt.stopped,(r=this.submitter)===null||r===void 0||r.removeAttribute("disabled"),this.resetSubmitterText(),Se("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){const t=this.submitter;this.originalSubmitText=t.value,t.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){const t=this.submitter;t.value=this.originalSubmitText}}}requestMustRedirect(t){return!t.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(t){return!t.isSafe||Wf("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var t;return(t=this.submitter)===null||t===void 0?void 0:t.getAttribute("data-turbo-submits-with")}}function Qf(e,t){const r=new FormData(e),i=t==null?void 0:t.getAttribute("name"),n=t==null?void 0:t.getAttribute("value");return i&&r.append(i,n||""),r}function Zf(e){if(e!=null){const r=(document.cookie?document.cookie.split("; "):[]).find(i=>i.startsWith(e));if(r){const i=r.split("=").slice(1).join("=");return i?decodeURIComponent(i):void 0}}}function ep(e){return e.statusCode==200&&!e.redirected}function tp(e,t){const r=new URLSearchParams;for(const[i,n]of t)n instanceof File||r.append(i,n);return e.search=r.toString(),e}class Xr{constructor(t){this.element=t}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(t){return this.getElementForAnchor(t)!=null}getElementForAnchor(t){return t?this.element.querySelector(`[id='${t}'], a[name='${t}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){const t="[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";for(const r of this.element.querySelectorAll("[autofocus]"))if(r.closest(t)==null)return r;return null}get permanentElements(){return ho(this.element)}getPermanentElementById(t){return uo(this.element,t)}getPermanentElementMapForSnapshot(t){const r={};for(const i of this.permanentElements){const{id:n}=i,s=t.getPermanentElementById(n);s&&(r[n]=[i,s])}return r}}function uo(e,t){return e.querySelector(`#${t}[data-turbo-permanent]`)}function ho(e){return e.querySelectorAll("[id][data-turbo-permanent]")}class Cn{constructor(t,r){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=i=>{if(!i.defaultPrevented){const n=i.target instanceof HTMLFormElement?i.target:void 0,s=i.submitter||void 0;n&&rp(n,s)&&ip(n,s)&&this.delegate.willSubmitForm(n,s)&&(i.preventDefault(),i.stopImmediatePropagation(),this.delegate.formSubmitted(n,s))}},this.delegate=t,this.eventTarget=r}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}function rp(e,t){return((t==null?void 0:t.getAttribute("formmethod"))||e.getAttribute("method"))!="dialog"}function ip(e,t){if(t!=null&&t.hasAttribute("formtarget")||e.hasAttribute("target")){const r=(t==null?void 0:t.getAttribute("formtarget"))||e.target;for(const i of document.getElementsByName(r))if(i instanceof HTMLIFrameElement)return!1;return!0}else return!0}class fo{constructor(t,r){this.resolveRenderPromise=i=>{},this.resolveInterceptionPromise=i=>{},this.delegate=t,this.element=r}scrollToAnchor(t){const r=this.snapshot.getElementForAnchor(t);r?(this.scrollToElement(r),this.focusElement(r)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(t){this.scrollToAnchor(yt(t))}scrollToElement(t){t.scrollIntoView()}focusElement(t){t instanceof HTMLElement&&(t.hasAttribute("tabindex")?t.focus():(t.setAttribute("tabindex","-1"),t.focus(),t.removeAttribute("tabindex")))}scrollToPosition({x:t,y:r}){this.scrollRoot.scrollTo(t,r)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(t){const{isPreview:r,shouldRender:i,newSnapshot:n}=t;if(i)try{this.renderPromise=new Promise(f=>this.resolveRenderPromise=f),this.renderer=t,await this.prepareToRenderSnapshot(t);const s=new Promise(f=>this.resolveInterceptionPromise=f),l={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(n,l)||await s,await this.renderSnapshot(t),this.delegate.viewRenderedSnapshot(n,r),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(t)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(t.reloadReason)}invalidate(t){this.delegate.viewInvalidated(t)}async prepareToRenderSnapshot(t){this.markAsPreview(t.isPreview),await t.prepareToRender()}markAsPreview(t){t?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(t){await t.render()}finishRenderingSnapshot(t){t.finishRendering()}}class np extends fo{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new Xr(this.element)}}class po{constructor(t,r){this.clickBubbled=i=>{this.respondsToEventTarget(i.target)?this.clickEvent=i:delete this.clickEvent},this.linkClicked=i=>{this.clickEvent&&this.respondsToEventTarget(i.target)&&i.target instanceof Element&&this.delegate.shouldInterceptLinkClick(i.target,i.detail.url,i.detail.originalEvent)&&(this.clickEvent.preventDefault(),i.preventDefault(),this.delegate.linkClickIntercepted(i.target,i.detail.url,i.detail.originalEvent)),delete this.clickEvent},this.willVisit=i=>{delete this.clickEvent},this.delegate=t,this.element=r}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(t){const r=t instanceof Element?t:t instanceof Node?t.parentElement:null;return r&&r.closest("turbo-frame, html")==this.element}}class mo{constructor(t,r){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=i=>{if(i instanceof MouseEvent&&this.clickEventIsSignificant(i)){const n=i.composedPath&&i.composedPath()[0]||i.target,s=this.findLinkFromClickTarget(n);if(s&&sp(s)){const l=this.getLocationForLink(s);this.delegate.willFollowLinkToLocation(s,l,i)&&(i.preventDefault(),this.delegate.followedLinkToLocation(s,l))}}},this.delegate=t,this.eventTarget=r}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(t){return!(t.target&&t.target.isContentEditable||t.defaultPrevented||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)}findLinkFromClickTarget(t){return jr(t,"a[href]:not([target^=_]):not([download])")}getLocationForLink(t){return Te(t.getAttribute("href")||"")}}function sp(e){if(e.hasAttribute("target")){for(const t of document.getElementsByName(e.target))if(t instanceof HTMLIFrameElement)return!1;return!0}else return!0}class go{constructor(t,r){this.delegate=t,this.linkInterceptor=new mo(this,r)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(t,r,i){return this.delegate.willSubmitFormLinkToLocation(t,r,i)&&t.hasAttribute("data-turbo-method")}followedLinkToLocation(t,r){const i=document.createElement("form"),n="hidden";for(const[T,_]of r.searchParams)i.append(Object.assign(document.createElement("input"),{type:n,name:T,value:_}));const s=Object.assign(r,{search:""});i.setAttribute("data-turbo","true"),i.setAttribute("action",s.href),i.setAttribute("hidden","");const l=t.getAttribute("data-turbo-method");l&&i.setAttribute("method",l);const u=t.getAttribute("data-turbo-frame");u&&i.setAttribute("data-turbo-frame",u);const f=Yr(t);f&&i.setAttribute("data-turbo-action",f);const v=t.getAttribute("data-turbo-confirm");v&&i.setAttribute("data-turbo-confirm",v),t.hasAttribute("data-turbo-stream")&&i.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(t,r,i),document.body.appendChild(i),i.addEventListener("turbo:submit-end",()=>i.remove(),{once:!0}),requestAnimationFrame(()=>i.requestSubmit())}}class vo{static async preservingPermanentElements(t,r,i){const n=new this(t,r);n.enter(),await i(),n.leave()}constructor(t,r){this.delegate=t,this.permanentElementMap=r}enter(){for(const t in this.permanentElementMap){const[r,i]=this.permanentElementMap[t];this.delegate.enteringBardo(r,i),this.replaceNewPermanentElementWithPlaceholder(i)}}leave(){for(const t in this.permanentElementMap){const[r]=this.permanentElementMap[t];this.replaceCurrentPermanentElementWithClone(r),this.replacePlaceholderWithPermanentElement(r),this.delegate.leavingBardo(r)}}replaceNewPermanentElementWithPlaceholder(t){const r=ap(t);t.replaceWith(r)}replaceCurrentPermanentElementWithClone(t){const r=t.cloneNode(!0);t.replaceWith(r)}replacePlaceholderWithPermanentElement(t){const r=this.getPlaceholderById(t.id);r==null||r.replaceWith(t)}getPlaceholderById(t){return this.placeholders.find(r=>r.content==t)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}function ap(e){const t=document.createElement("meta");return t.setAttribute("name","turbo-permanent-placeholder"),t.setAttribute("content",e.id),t}class An{constructor(t,r,i,n,s=!0){this.activeElement=null,this.currentSnapshot=t,this.newSnapshot=r,this.isPreview=n,this.willRender=s,this.renderElement=i,this.promise=new Promise((l,u)=>this.resolvingFunctions={resolve:l,reject:u})}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(t){await vo.preservingPermanentElements(this,this.permanentElementMap,t)}focusFirstAutofocusableElement(){const t=this.connectedSnapshot.firstAutofocusableElement;op(t)&&t.focus()}enteringBardo(t){this.activeElement||t.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(t){t.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}}function op(e){return e&&typeof e.focus=="function"}class Yi extends An{static renderElement(t,r){var i;const n=document.createRange();n.selectNodeContents(t),n.deleteContents();const s=r,l=(i=s.ownerDocument)===null||i===void 0?void 0:i.createRange();l&&(l.selectNodeContents(s),t.appendChild(l.extractContents()))}constructor(t,r,i,n,s,l=!0){super(r,i,n,s,l),this.delegate=t}get shouldRender(){return!0}async render(){await Ir(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await Ir(),this.focusFirstAutofocusableElement(),await Ir(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const t=this.currentElement.firstElementChild,r=lp(this.currentElement.getAttribute("data-autoscroll-block"),"end"),i=cp(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(t)return t.scrollIntoView({block:r,behavior:i}),!0}return!1}activateScriptElements(){for(const t of this.newScriptElements){const r=nr(t);t.replaceWith(r)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}function lp(e,t){return e=="end"||e=="start"||e=="center"||e=="nearest"?e:t}function cp(e,t){return e=="auto"||e=="smooth"?e:t}class We{static get defaultCSS(){return oo`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${We.animationDuration}ms ease-out,
          opacity ${We.animationDuration/2}ms ${We.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(t){this.value=t,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(t){this.progressElement.style.opacity="0",setTimeout(t,We.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,We.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){const t=document.createElement("style");return t.type="text/css",t.textContent=We.defaultCSS,this.cspNonce&&(t.nonce=this.cspNonce),t}createProgressElement(){const t=document.createElement("div");return t.className="turbo-progress-bar",t}get cspNonce(){return Br("csp-nonce")}}We.animationDuration=300;class up extends Xr{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter(t=>!pp(t)).map(t=>vp(t)).reduce((t,r)=>{const{outerHTML:i}=r,n=i in t?t[i]:{type:hp(r),tracked:dp(r),elements:[]};return Object.assign(Object.assign({},t),{[i]:Object.assign(Object.assign({},n),{elements:[...n.elements,r]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(t=>this.detailsByOuterHTML[t].tracked).join("")}getScriptElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("script",t)}getStylesheetElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",t)}getElementsMatchingTypeNotInSnapshot(t,r){return Object.keys(this.detailsByOuterHTML).filter(i=>!(i in r.detailsByOuterHTML)).map(i=>this.detailsByOuterHTML[i]).filter(({type:i})=>i==t).map(({elements:[i]})=>i)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((t,r)=>{const{type:i,tracked:n,elements:s}=this.detailsByOuterHTML[r];return i==null&&!n?[...t,...s]:s.length>1?[...t,...s.slice(1)]:t},[])}getMetaValue(t){const r=this.findMetaElementByName(t);return r?r.getAttribute("content"):null}findMetaElementByName(t){return Object.keys(this.detailsByOuterHTML).reduce((r,i)=>{const{elements:[n]}=this.detailsByOuterHTML[i];return gp(n,t)?n:r},void 0)}}function hp(e){if(fp(e))return"script";if(mp(e))return"stylesheet"}function dp(e){return e.getAttribute("data-turbo-track")=="reload"}function fp(e){return e.localName=="script"}function pp(e){return e.localName=="noscript"}function mp(e){const t=e.localName;return t=="style"||t=="link"&&e.getAttribute("rel")=="stylesheet"}function gp(e,t){return e.localName=="meta"&&e.getAttribute("name")==t}function vp(e){return e.hasAttribute("nonce")&&e.setAttribute("nonce",""),e}class Ne extends Xr{static fromHTMLString(t=""){return this.fromDocument(ao(t))}static fromElement(t){return this.fromDocument(t.ownerDocument)}static fromDocument({head:t,body:r}){return new this(r,new up(t))}constructor(t,r){super(t),this.headSnapshot=r}clone(){const t=this.element.cloneNode(!0),r=this.element.querySelectorAll("select"),i=t.querySelectorAll("select");for(const[n,s]of r.entries()){const l=i[n];for(const u of l.selectedOptions)u.selected=!1;for(const u of s.selectedOptions)l.options[u.index].selected=!0}for(const n of t.querySelectorAll('input[type="password"]'))n.value="";return new Ne(t,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var t;const r=(t=this.getSetting("root"))!==null&&t!==void 0?t:"/";return Te(r)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}getSetting(t){return this.headSnapshot.getMetaValue(`turbo-${t}`)}}var Ft;(function(e){e.visitStart="visitStart",e.requestStart="requestStart",e.requestEnd="requestEnd",e.visitEnd="visitEnd"})(Ft||(Ft={}));var $e;(function(e){e.initialized="initialized",e.started="started",e.canceled="canceled",e.failed="failed",e.completed="completed"})($e||($e={}));const bp={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1};var lt;(function(e){e[e.networkFailure=0]="networkFailure",e[e.timeoutFailure=-1]="timeoutFailure",e[e.contentTypeMismatch=-2]="contentTypeMismatch"})(lt||(lt={}));class yp{constructor(t,r,i,n={}){this.identifier=qt(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=$e.initialized,this.delegate=t,this.location=r,this.restorationIdentifier=i||qt();const{action:s,historyChanged:l,referrer:u,snapshot:f,snapshotHTML:v,response:w,visitCachedSnapshot:T,willRender:_,updateHistory:N,shouldCacheSnapshot:H,acceptsStreamResponse:S}=Object.assign(Object.assign({},bp),n);this.action=s,this.historyChanged=l,this.referrer=u,this.snapshot=f,this.snapshotHTML=v,this.response=w,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=T,this.willRender=_,this.updateHistory=N,this.scrolled=!_,this.shouldCacheSnapshot=H,this.acceptsStreamResponse=S}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==$e.initialized&&(this.recordTimingMetric(Ft.visitStart),this.state=$e.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==$e.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=$e.canceled)}complete(){this.state==$e.started&&(this.recordTimingMetric(Ft.visitEnd),this.state=$e.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==$e.started&&(this.state=$e.failed,this.adapter.visitFailed(this))}changeHistory(){var t;if(!this.historyChanged&&this.updateHistory){const r=this.location.href===((t=this.referrer)===null||t===void 0?void 0:t.href)?"replace":this.action,i=lo(r);this.history.update(i,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new Tn(this,xe.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(Ft.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(t=this.response){if(this.response=t,t){const{statusCode:r}=t;Ma(r)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,r)}}finishRequest(){this.recordTimingMetric(Ft.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:t,responseHTML:r}=this.response;this.render(async()=>{this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,Ma(t)&&r!=null?(await this.view.renderPage(Ne.fromHTMLString(r),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(Ne.fromHTMLString(r),this),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){const t=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(t&&(!yt(this.location)||t.hasAnchor(yt(this.location)))&&(this.action=="restore"||t.isPreviewable))return t}getPreloadedSnapshot(){if(this.snapshotHTML)return Ne.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){const t=this.getCachedSnapshot();if(t){const r=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(t,r,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),r||this.complete())})}}followRedirect(){var t;this.redirectedToLocation&&!this.followedRedirect&&(!((t=this.response)===null||t===void 0)&&t.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(t){this.acceptsStreamResponse&&t.acceptResponseType(kt.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(t,r){}async requestSucceededWithResponse(t,r){const i=await r.responseHTML,{redirected:n,statusCode:s}=r;i==null?this.recordResponse({statusCode:lt.contentTypeMismatch,redirected:n}):(this.redirectedToLocation=r.redirected?r.location:void 0,this.recordResponse({statusCode:s,responseHTML:i,redirected:n}))}async requestFailedWithResponse(t,r){const i=await r.responseHTML,{redirected:n,statusCode:s}=r;i==null?this.recordResponse({statusCode:lt.contentTypeMismatch,redirected:n}):this.recordResponse({statusCode:s,responseHTML:i,redirected:n})}requestErrored(t,r){this.recordResponse({statusCode:lt.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:t}=this.restorationData;if(t)return this.view.scrollToPosition(t),!0}scrollToAnchor(){const t=yt(this.location);if(t!=null)return this.view.scrollToAnchor(t),!0}recordTimingMetric(t){this.timingMetrics[t]=new Date().getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(t){switch(t){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(t=>t&&this.visitCachedSnapshot(t)),this.snapshotCached=!0)}async render(t){this.cancelRender(),await new Promise(r=>{this.frame=requestAnimationFrame(()=>r())}),await t(),delete this.frame}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function Ma(e){return e>=200&&e<300}class wp{constructor(t){this.progressBar=new We,this.showProgressBar=()=>{this.progressBar.show()},this.session=t}visitProposedToLocation(t,r){this.navigator.startVisit(t,(r==null?void 0:r.restorationIdentifier)||qt(),r)}visitStarted(t){this.location=t.location,t.loadCachedSnapshot(),t.issueRequest(),t.goToSamePageAnchor()}visitRequestStarted(t){this.progressBar.setValue(0),t.hasCachedSnapshot()||t.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(t){t.loadResponse()}visitRequestFailedWithStatusCode(t,r){switch(r){case lt.networkFailure:case lt.timeoutFailure:case lt.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:r}});default:return t.loadResponse()}}visitRequestFinished(t){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(t){}pageInvalidated(t){this.reload(t)}visitFailed(t){}visitRendered(t){}formSubmissionStarted(t){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(t){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(t){var r;Se("turbo:reload",{detail:t}),window.location.href=((r=this.location)===null||r===void 0?void 0:r.toString())||window.location.href}get navigator(){return this.session.navigator}}class Ep{constructor(){this.selector="[data-turbo-temporary]",this.deprecatedSelector="[data-turbo-cache=false]",this.started=!1,this.removeTemporaryElements=t=>{for(const r of this.temporaryElements)r.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){const t=document.querySelectorAll(this.deprecatedSelector);return t.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...t]}}class _p{constructor(t,r){this.session=t,this.element=r,this.linkInterceptor=new po(this,r),this.formSubmitObserver=new Cn(this,r)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(t,r,i){return this.shouldRedirect(t)}linkClickIntercepted(t,r,i){const n=this.findFrameElement(t);n&&n.delegate.linkClickIntercepted(t,r,i)}willSubmitForm(t,r){return t.closest("turbo-frame")==null&&this.shouldSubmit(t,r)&&this.shouldRedirect(t,r)}formSubmitted(t,r){const i=this.findFrameElement(t,r);i&&i.delegate.formSubmitted(t,r)}shouldSubmit(t,r){var i;const n=Sn(t,r),s=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),l=Te((i=s==null?void 0:s.content)!==null&&i!==void 0?i:"/");return this.shouldRedirect(t,r)&&Ht(n,l)}shouldRedirect(t,r){if(t instanceof HTMLFormElement?this.session.submissionIsNavigatable(t,r):this.session.elementIsNavigatable(t)){const n=this.findFrameElement(t,r);return n?n!=t.closest("turbo-frame"):!1}else return!1}findFrameElement(t,r){const i=(r==null?void 0:r.getAttribute("data-turbo-frame"))||t.getAttribute("data-turbo-frame");if(i&&i!="_top"){const n=this.element.querySelector(`#${i}:not([disabled])`);if(n instanceof Ye)return n}}}class Sp{constructor(t){this.restorationIdentifier=qt(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=r=>{if(this.shouldHandlePopState()){const{turbo:i}=r.state||{};if(i){this.location=new URL(window.location.href);const{restorationIdentifier:n}=i;this.restorationIdentifier=n,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,n)}}},this.onPageLoad=async r=>{await jf(),this.pageLoaded=!0},this.delegate=t}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(t,r){this.update(history.pushState,t,r)}replace(t,r){this.update(history.replaceState,t,r)}update(t,r,i=qt()){const n={turbo:{restorationIdentifier:i}};t.call(history,n,"",r.href),this.location=r,this.restorationIdentifier=i}getRestorationDataForIdentifier(t){return this.restorationData[t]||{}}updateRestorationData(t){const{restorationIdentifier:r}=this,i=this.restorationData[r];this.restorationData[r]=Object.assign(Object.assign({},i),t)}assumeControlOfScrollRestoration(){var t;this.previousScrollRestoration||(this.previousScrollRestoration=(t=history.scrollRestoration)!==null&&t!==void 0?t:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}}class kp{constructor(t){this.delegate=t}proposeVisit(t,r={}){this.delegate.allowsVisitingLocationWithAction(t,r.action)&&(Ht(t,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(t,r):window.location.href=t.toString())}startVisit(t,r,i={}){this.stop(),this.currentVisit=new yp(this,Te(t),r,Object.assign({referrer:this.location},i)),this.currentVisit.start()}submitForm(t,r){this.stop(),this.formSubmission=new ur(this,t,r,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(t){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(t)}async formSubmissionSucceededWithResponse(t,r){if(t==this.formSubmission){const i=await r.responseHTML;if(i){const n=t.isSafe;n||this.view.clearSnapshotCache();const{statusCode:s,redirected:l}=r,f={action:this.getActionForFormSubmission(t),shouldCacheSnapshot:n,response:{statusCode:s,responseHTML:i,redirected:l}};this.proposeVisit(r.location,f)}}}async formSubmissionFailedWithResponse(t,r){const i=await r.responseHTML;if(i){const n=Ne.fromHTMLString(i);r.serverError?await this.view.renderError(n,this.currentVisit):await this.view.renderPage(n,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(t,r){console.error(r)}formSubmissionFinished(t){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(t)}visitStarted(t){this.delegate.visitStarted(t)}visitCompleted(t){this.delegate.visitCompleted(t)}locationWithActionIsSamePage(t,r){const i=yt(t),n=yt(this.view.lastRenderedLocation),s=r==="restore"&&typeof i>"u";return r!=="replace"&&zi(t)===zi(this.view.lastRenderedLocation)&&(s||i!=null&&i!==n)}visitScrolledToSamePageLocation(t,r){this.delegate.visitScrolledToSamePageLocation(t,r)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission({submitter:t,formElement:r}){return Yr(t,r)||"advance"}}var Ve;(function(e){e[e.initial=0]="initial",e[e.loading=1]="loading",e[e.interactive=2]="interactive",e[e.complete=3]="complete"})(Ve||(Ve={}));class Tp{constructor(t){this.stage=Ve.initial,this.started=!1,this.interpretReadyState=()=>{const{readyState:r}=this;r=="interactive"?this.pageIsInteractive():r=="complete"&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=t}start(){this.started||(this.stage==Ve.initial&&(this.stage=Ve.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==Ve.loading&&(this.stage=Ve.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==Ve.interactive&&(this.stage=Ve.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class Cp{constructor(t){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=t}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(t){this.delegate.scrollPositionChanged(t)}}class Ap{render({fragment:t}){vo.preservingPermanentElements(this,xp(t),()=>document.documentElement.appendChild(t))}enteringBardo(t,r){r.replaceWith(t.cloneNode(!0))}leavingBardo(){}}function xp(e){const t=ho(document.documentElement),r={};for(const i of t){const{id:n}=i;for(const s of e.querySelectorAll("turbo-stream")){const l=uo(s.templateElement.content,n);l&&(r[n]=[i,l])}}return r}class Pp{constructor(t){this.sources=new Set,this.started=!1,this.inspectFetchResponse=r=>{const i=Lp(r);i&&Mp(i)&&(r.preventDefault(),this.receiveMessageResponse(i))},this.receiveMessageEvent=r=>{this.started&&typeof r.data=="string"&&this.receiveMessageHTML(r.data)},this.delegate=t}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(t){this.streamSourceIsConnected(t)||(this.sources.add(t),t.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(t){this.streamSourceIsConnected(t)&&(this.sources.delete(t),t.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(t){return this.sources.has(t)}async receiveMessageResponse(t){const r=await t.responseHTML;r&&this.receiveMessageHTML(r)}receiveMessageHTML(t){this.delegate.receivedMessageFromStream(kt.wrap(t))}}function Lp(e){var t;const r=(t=e.detail)===null||t===void 0?void 0:t.fetchResponse;if(r instanceof kn)return r}function Mp(e){var t;return((t=e.contentType)!==null&&t!==void 0?t:"").startsWith(kt.contentType)}class Ra extends An{static renderElement(t,r){const{documentElement:i,body:n}=document;i.replaceChild(r,n)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:t,head:r}=document;t.replaceChild(this.newHead,r),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const t of this.scriptElements){const r=t.parentNode;if(r){const i=nr(t);r.replaceChild(i,t)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}class Xi extends An{static renderElement(t,r){document.body&&r instanceof HTMLBodyElement?document.body.replaceWith(r):document.documentElement.appendChild(r)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){const t=this.mergeProvisionalElements(),r=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await t,await r}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const t=[];for(const r of this.newHeadStylesheetElements)t.push(Uf(r)),document.head.appendChild(r);await Promise.all(t)}copyNewHeadScriptElements(){for(const t of this.newHeadScriptElements)document.head.appendChild(nr(t))}async mergeProvisionalElements(){const t=[...this.newHeadProvisionalElements];for(const r of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(r,t)||document.head.removeChild(r);for(const r of t)document.head.appendChild(r)}isCurrentElementInElementList(t,r){for(const[i,n]of r.entries()){if(t.tagName=="TITLE"){if(n.tagName!="TITLE")continue;if(t.innerHTML==n.innerHTML)return r.splice(i,1),!0}if(n.isEqualNode(t))return r.splice(i,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(const t of this.currentHeadProvisionalElements)document.head.removeChild(t)}copyNewHeadProvisionalElements(){for(const t of this.newHeadProvisionalElements)document.head.appendChild(t)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const t of this.newBodyScriptElements){const r=nr(t);t.replaceWith(r)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}class Rp{constructor(t){this.keys=[],this.snapshots={},this.size=t}has(t){return xr(t)in this.snapshots}get(t){if(this.has(t)){const r=this.read(t);return this.touch(t),r}}put(t,r){return this.write(t,r),this.touch(t),r}clear(){this.snapshots={}}read(t){return this.snapshots[xr(t)]}write(t,r){this.snapshots[xr(t)]=r}touch(t){const r=xr(t),i=this.keys.indexOf(r);i>-1&&this.keys.splice(i,1),this.keys.unshift(r),this.trim()}trim(){for(const t of this.keys.splice(this.size))delete this.snapshots[t]}}class $p extends fo{constructor(){super(...arguments),this.snapshotCache=new Rp(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(t,r=!1,i=!0,n){const s=new Xi(this.snapshot,t,Xi.renderElement,r,i);return s.shouldRender?n==null||n.changeHistory():this.forceReloaded=!0,this.render(s)}renderError(t,r){r==null||r.changeHistory();const i=new Ra(this.snapshot,t,Ra.renderElement,!1);return this.render(i)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(t=this.snapshot){if(t.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:r}=this;await Bf();const i=t.clone();return this.snapshotCache.put(r,i),i}}getCachedSnapshotForLocation(t){return this.snapshotCache.get(t)}get snapshot(){return Ne.fromElement(this.element)}}class Ip{constructor(t){this.selector="a[data-turbo-preload]",this.delegate=t}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if(document.readyState==="loading")return document.addEventListener("DOMContentLoaded",()=>{this.preloadOnLoadLinksForView(document.body)});this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(t){for(const r of t.querySelectorAll(this.selector))this.preloadURL(r)}async preloadURL(t){const r=new URL(t.href);if(!this.snapshotCache.has(r))try{const n=await(await fetch(r.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}})).text(),s=Ne.fromHTMLString(n);this.snapshotCache.put(r,s)}catch{}}}class Np{constructor(){this.navigator=new kp(this),this.history=new Sp(this),this.preloader=new Ip(this),this.view=new $p(this,document.documentElement),this.adapter=new wp(this),this.pageObserver=new Tp(this),this.cacheObserver=new Ep,this.linkClickObserver=new mo(this,window),this.formSubmitObserver=new Cn(this,document),this.scrollObserver=new Cp(this),this.streamObserver=new Pp(this),this.formLinkClickObserver=new go(this,document.documentElement),this.frameRedirector=new _p(this,document.documentElement),this.streamMessageRenderer=new Ap,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(t){this.adapter=t}visit(t,r={}){const i=r.frame?document.getElementById(r.frame):null;i instanceof Ye?(i.src=t.toString(),i.loaded):this.navigator.proposeVisit(Te(t),r)}connectStreamSource(t){this.streamObserver.connectStreamSource(t)}disconnectStreamSource(t){this.streamObserver.disconnectStreamSource(t)}renderStreamMessage(t){this.streamMessageRenderer.render(kt.wrap(t))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(t){this.progressBarDelay=t}setFormMode(t){this.formMode=t}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(t,r){this.enabled?this.navigator.startVisit(t,r,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(t){this.history.updateRestorationData({scrollPosition:t})}willSubmitFormLinkToLocation(t,r){return this.elementIsNavigatable(t)&&Ht(r,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(t,r,i){return this.elementIsNavigatable(t)&&Ht(r,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(t,r,i)}followedLinkToLocation(t,r){const i=this.getActionForLink(t),n=t.hasAttribute("data-turbo-stream");this.visit(r.href,{action:i,acceptsStreamResponse:n})}allowsVisitingLocationWithAction(t,r){return this.locationWithActionIsSamePage(t,r)||this.applicationAllowsVisitingLocation(t)}visitProposedToLocation(t,r){$a(t),this.adapter.visitProposedToLocation(t,r)}visitStarted(t){t.acceptsStreamResponse||Ki(document.documentElement),$a(t.location),t.silent||this.notifyApplicationAfterVisitingLocation(t.location,t.action)}visitCompleted(t){Gi(document.documentElement),this.notifyApplicationAfterPageLoad(t.getTimingMetrics())}locationWithActionIsSamePage(t,r){return this.navigator.locationWithActionIsSamePage(t,r)}visitScrolledToSamePageLocation(t,r){this.notifyApplicationAfterVisitingSamePageLocation(t,r)}willSubmitForm(t,r){const i=Sn(t,r);return this.submissionIsNavigatable(t,r)&&Ht(Te(i),this.snapshot.rootLocation)}formSubmitted(t,r){this.navigator.submitForm(t,r)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(t){this.renderStreamMessage(t)}viewWillCacheSnapshot(){var t;!((t=this.navigator.currentVisit)===null||t===void 0)&&t.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:t},r){const i=this.notifyApplicationBeforeRender(t,r),{defaultPrevented:n,detail:{render:s}}=i;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!n}viewRenderedSnapshot(t,r){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(t){this.preloader.preloadOnLoadLinksForView(t)}viewInvalidated(t){this.adapter.pageInvalidated(t)}frameLoaded(t){this.notifyApplicationAfterFrameLoad(t)}frameRendered(t,r){this.notifyApplicationAfterFrameRender(t,r)}applicationAllowsFollowingLinkToLocation(t,r,i){return!this.notifyApplicationAfterClickingLinkToLocation(t,r,i).defaultPrevented}applicationAllowsVisitingLocation(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(t,r,i){return Se("turbo:click",{target:t,detail:{url:r.href,originalEvent:i},cancelable:!0})}notifyApplicationBeforeVisitingLocation(t){return Se("turbo:before-visit",{detail:{url:t.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(t,r){return Se("turbo:visit",{detail:{url:t.href,action:r}})}notifyApplicationBeforeCachingSnapshot(){return Se("turbo:before-cache")}notifyApplicationBeforeRender(t,r){return Se("turbo:before-render",{detail:Object.assign({newBody:t},r),cancelable:!0})}notifyApplicationAfterRender(){return Se("turbo:render")}notifyApplicationAfterPageLoad(t={}){return Se("turbo:load",{detail:{url:this.location.href,timing:t}})}notifyApplicationAfterVisitingSamePageLocation(t,r){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:t.toString(),newURL:r.toString()}))}notifyApplicationAfterFrameLoad(t){return Se("turbo:frame-load",{target:t})}notifyApplicationAfterFrameRender(t,r){return Se("turbo:frame-render",{detail:{fetchResponse:t},target:r,cancelable:!0})}submissionIsNavigatable(t,r){if(this.formMode=="off")return!1;{const i=r?this.elementIsNavigatable(r):!0;return this.formMode=="optin"?i&&t.closest('[data-turbo="true"]')!=null:i&&this.elementIsNavigatable(t)}}elementIsNavigatable(t){const r=jr(t,"[data-turbo]"),i=jr(t,"turbo-frame");return this.drive||i?r?r.getAttribute("data-turbo")!="false":!0:r?r.getAttribute("data-turbo")=="true":!1}getActionForLink(t){return Yr(t)||"advance"}get snapshot(){return this.view.snapshot}}function $a(e){Object.defineProperties(e,Op)}const Op={absoluteURL:{get(){return this.toString()}}};class Fp{constructor(t){this.session=t}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(t){Kf("turbo-cache-control",t)}}const bo={after(){this.targetElements.forEach(e=>{var t;return(t=e.parentElement)===null||t===void 0?void 0:t.insertBefore(this.templateContent,e.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(e=>e.append(this.templateContent))},before(){this.targetElements.forEach(e=>{var t;return(t=e.parentElement)===null||t===void 0?void 0:t.insertBefore(this.templateContent,e)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(e=>e.prepend(this.templateContent))},remove(){this.targetElements.forEach(e=>e.remove())},replace(){this.targetElements.forEach(e=>e.replaceWith(this.templateContent))},update(){this.targetElements.forEach(e=>{e.innerHTML="",e.append(this.templateContent)})}},ce=new Np,Hp=new Fp(ce),{navigator:qp}=ce;function yo(){ce.start()}function Dp(e){ce.registerAdapter(e)}function Bp(e,t){ce.visit(e,t)}function wo(e){ce.connectStreamSource(e)}function Eo(e){ce.disconnectStreamSource(e)}function jp(e){ce.renderStreamMessage(e)}function Vp(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),ce.clearCache()}function Wp(e){ce.setProgressBarDelay(e)}function Up(e){ur.confirmMethod=e}function zp(e){ce.setFormMode(e)}var Kp=Object.freeze({__proto__:null,navigator:qp,session:ce,cache:Hp,PageRenderer:Xi,PageSnapshot:Ne,FrameRenderer:Yi,start:yo,registerAdapter:Dp,visit:Bp,connectStreamSource:wo,disconnectStreamSource:Eo,renderStreamMessage:jp,clearCache:Vp,setProgressBarDelay:Wp,setConfirmMethod:Up,setFormMode:zp,StreamActions:bo});class Gp extends Error{}class Yp{constructor(t){this.fetchResponseLoaded=r=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:r})=>{const i=r.querySelector("#"+this.element.id);i&&this.previousFrameElement&&i.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=t,this.view=new np(this,this.element),this.appearanceObserver=new Yf(this,this.element),this.formLinkClickObserver=new go(this,this.element),this.linkInterceptor=new po(this,this.element),this.restorationIdentifier=qt(),this.formSubmitObserver=new Cn(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==at.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==at.eager&&this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==at.eager||this.hasBeenLoaded)&&this.loadSourceURL())}sourceURLReloaded(){const{src:t}=this.element;return this.ignoringChangesToAttribute("complete",()=>{this.element.removeAttribute("complete")}),this.element.src=null,this.element.src=t,this.element.loaded}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==at.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit(Te(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(t){(t.redirected||t.succeeded&&t.isHTML)&&(this.sourceURL=t.response.url);try{const r=await t.responseHTML;if(r){const i=ao(r);Ne.fromDocument(i).isVisitable?await this.loadFrameResponse(t,i):await this.handleUnvisitableFrameResponse(t)}}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(t){this.proposeVisitIfNavigatedWithAction(t,t),this.loadSourceURL()}willSubmitFormLinkToLocation(t){return this.shouldInterceptNavigation(t)}submittedFormLinkToLocation(t,r,i){const n=this.findFrameElement(t);n&&i.setAttribute("data-turbo-frame",n.id)}shouldInterceptLinkClick(t,r,i){return this.shouldInterceptNavigation(t)}linkClickIntercepted(t,r){this.navigateFrame(t,r)}willSubmitForm(t,r){return t.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(t,r)}formSubmitted(t,r){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new ur(this,t,r);const{fetchRequest:i}=this.formSubmission;this.prepareRequest(i),this.formSubmission.start()}prepareRequest(t){var r;t.headers["Turbo-Frame"]=this.id,!((r=this.currentNavigationElement)===null||r===void 0)&&r.hasAttribute("data-turbo-stream")&&t.acceptResponseType(kt.contentType)}requestStarted(t){Ki(this.element)}requestPreventedHandlingResponse(t,r){this.resolveVisitPromise()}async requestSucceededWithResponse(t,r){await this.loadResponse(r),this.resolveVisitPromise()}async requestFailedWithResponse(t,r){await this.loadResponse(r),this.resolveVisitPromise()}requestErrored(t,r){console.error(r),this.resolveVisitPromise()}requestFinished(t){Gi(this.element)}formSubmissionStarted({formElement:t}){Ki(t,this.findFrameElement(t))}formSubmissionSucceededWithResponse(t,r){const i=this.findFrameElement(t.formElement,t.submitter);i.delegate.proposeVisitIfNavigatedWithAction(i,t.formElement,t.submitter),i.delegate.loadResponse(r),t.isSafe||ce.clearCache()}formSubmissionFailedWithResponse(t,r){this.element.delegate.loadResponse(r),ce.clearCache()}formSubmissionErrored(t,r){console.error(r)}formSubmissionFinished({formElement:t}){Gi(t,this.findFrameElement(t))}allowsImmediateRender({element:t},r){const i=Se("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:t},r),cancelable:!0}),{defaultPrevented:n,detail:{render:s}}=i;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!n}viewRenderedSnapshot(t,r){}preloadOnLoadLinksForView(t){ce.preloadOnLoadLinksForView(t)}viewInvalidated(){}willRenderFrame(t,r){this.previousFrameElement=t.cloneNode(!0)}async loadFrameResponse(t,r){const i=await this.extractForeignFrameElement(r.body);if(i){const n=new Xr(i),s=new Yi(this,this.view.snapshot,n,Yi.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(s),this.complete=!0,ce.frameRendered(t,this.element),ce.frameLoaded(this.element),this.fetchResponseLoaded(t)}else this.willHandleFrameMissingFromResponse(t)&&this.handleFrameMissingFromResponse(t)}async visit(t){var r;const i=new Tn(this,xe.get,t,new URLSearchParams,this.element);return(r=this.currentFetchRequest)===null||r===void 0||r.cancel(),this.currentFetchRequest=i,new Promise(n=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,n()},i.perform()})}navigateFrame(t,r,i){const n=this.findFrameElement(t,i);n.delegate.proposeVisitIfNavigatedWithAction(n,t,i),this.withCurrentNavigationElement(t,()=>{n.src=r})}proposeVisitIfNavigatedWithAction(t,r,i){if(this.action=Yr(i,r,t),this.action){const n=Ne.fromElement(t).clone(),{visitCachedSnapshot:s}=t.delegate;t.delegate.fetchResponseLoaded=l=>{if(t.src){const{statusCode:u,redirected:f}=l,v=t.ownerDocument.documentElement.outerHTML,T={response:{statusCode:u,redirected:f,responseHTML:v},visitCachedSnapshot:s,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:n};this.action&&(T.action=this.action),ce.visit(t.src,T)}}}}changeHistory(){if(this.action){const t=lo(this.action);ce.history.update(t,Te(this.element.src||""),this.restorationIdentifier)}}async handleUnvisitableFrameResponse(t){console.warn(`The response (${t.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.visitResponse(t.response)}willHandleFrameMissingFromResponse(t){this.element.setAttribute("complete","");const r=t.response,i=async(s,l={})=>{s instanceof Response?this.visitResponse(s):ce.visit(s,l)};return!Se("turbo:frame-missing",{target:this.element,detail:{response:r,visit:i},cancelable:!0}).defaultPrevented}handleFrameMissingFromResponse(t){this.view.missing(),this.throwFrameMissingError(t)}throwFrameMissingError(t){const r=`The response (${t.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new Gp(r)}async visitResponse(t){const r=new kn(t),i=await r.responseHTML,{location:n,redirected:s,statusCode:l}=r;return ce.visit(n,{response:{redirected:s,statusCode:l,responseHTML:i}})}findFrameElement(t,r){var i;const n=Dr("data-turbo-frame",r,t)||this.element.getAttribute("target");return(i=Ia(n))!==null&&i!==void 0?i:this.element}async extractForeignFrameElement(t){let r;const i=CSS.escape(this.id);try{if(r=Na(t.querySelector(`turbo-frame#${i}`),this.sourceURL),r)return r;if(r=Na(t.querySelector(`turbo-frame[src][recurse~=${i}]`),this.sourceURL),r)return await r.loaded,await this.extractForeignFrameElement(r)}catch(n){return console.error(n),new Ye}return null}formActionIsVisitable(t,r){const i=Sn(t,r);return Ht(Te(i),this.rootLocation)}shouldInterceptNavigation(t,r){const i=Dr("data-turbo-frame",r,t)||this.element.getAttribute("target");if(t instanceof HTMLFormElement&&!this.formActionIsVisitable(t,r)||!this.enabled||i=="_top")return!1;if(i){const n=Ia(i);if(n)return!n.disabled}return!(!ce.elementIsNavigatable(t)||r&&!ce.elementIsNavigatable(r))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(t){this.ignoringChangesToAttribute("src",()=>{this.element.src=t??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.resolveVisitPromise()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(t){this.ignoringChangesToAttribute("complete",()=>{t?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")})}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var t;const r=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),i=(t=r==null?void 0:r.content)!==null&&t!==void 0?t:"/";return Te(i)}isIgnoringChangesTo(t){return this.ignoredAttributes.has(t)}ignoringChangesToAttribute(t,r){this.ignoredAttributes.add(t),r(),this.ignoredAttributes.delete(t)}withCurrentNavigationElement(t,r){this.currentNavigationElement=t,r(),delete this.currentNavigationElement}}function Ia(e){if(e!=null){const t=document.getElementById(e);if(t instanceof Ye)return t}}function Na(e,t){if(e){const r=e.getAttribute("src");if(r!=null&&t!=null&&If(r,t))throw new Error(`Matching <turbo-frame id="${e.id}"> element has a source URL which references itself`);if(e.ownerDocument!==document&&(e=document.importNode(e,!0)),e instanceof Ye)return e.connectedCallback(),e.disconnectedCallback(),e}}class xn extends HTMLElement{static async renderElement(t){await t.performAction()}async connectedCallback(){try{await this.render()}catch(t){console.error(t)}finally{this.disconnect()}}async render(){var t;return(t=this.renderPromise)!==null&&t!==void 0?t:this.renderPromise=(async()=>{const r=this.beforeRenderEvent;this.dispatchEvent(r)&&(await Ir(),await r.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(t=>t.remove())}get duplicateChildren(){var t;const r=this.targetElements.flatMap(n=>[...n.children]).filter(n=>!!n.id),i=[...((t=this.templateContent)===null||t===void 0?void 0:t.children)||[]].filter(n=>!!n.id).map(n=>n.id);return r.filter(n=>i.includes(n.id))}get performAction(){if(this.action){const t=bo[this.action];if(t)return t;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){const t=this.ownerDocument.createElement("template");return this.appendChild(t),t}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(t){throw new Error(`${this.description}: ${t}`)}get description(){var t,r;return(r=((t=this.outerHTML.match(/<[^>]+>/))!==null&&t!==void 0?t:[])[0])!==null&&r!==void 0?r:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:xn.renderElement}})}get targetElementsById(){var t;const r=(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.target);return r!==null?[r]:[]}get targetElementsByQuery(){var t;const r=(t=this.ownerDocument)===null||t===void 0?void 0:t.querySelectorAll(this.targets);return r.length!==0?Array.prototype.slice.call(r):[]}}class Xp extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),wo(this.streamSource)}disconnectedCallback(){this.streamSource&&Eo(this.streamSource)}get src(){return this.getAttribute("src")||""}}Ye.delegateConstructor=Yp;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",Ye);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",xn);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",Xp);(()=>{let e=document.currentScript;if(e&&!e.hasAttribute("data-turbo-suppress-warning"))for(e=e.parentElement;e;){if(e==document.body)return console.warn(oo`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,e.outerHTML);e=e.parentElement}})();window.Turbo=Kp;yo();function M(e,t,r){return(t=Qp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jp(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qp(e){var t=Jp(e,"string");return typeof t=="symbol"?t:String(t)}function Zp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oa(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function em(e,t,r){return t&&Oa(e.prototype,t),r&&Oa(e,r),e}function tm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fa(Object(r),!0).forEach(function(i){tm(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fa(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var qa={addCSS:!0,thumbWidth:15,watch:!0};function rm(e,t){return(function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function im(e,t){if(e&&t){var r=new Event(t,{bubbles:!0});e.dispatchEvent(r)}}var hr=function(e){return e!=null?e.constructor:null},Pn=function(e,t){return!!(e&&t&&e instanceof t)},_o=function(e){return e==null},So=function(e){return hr(e)===Object},nm=function(e){return hr(e)===Number&&!Number.isNaN(e)},ko=function(e){return hr(e)===String},sm=function(e){return hr(e)===Boolean},am=function(e){return hr(e)===Function},To=function(e){return Array.isArray(e)},Co=function(e){return Pn(e,NodeList)},om=function(e){return Pn(e,Element)},lm=function(e){return Pn(e,Event)},cm=function(e){return _o(e)||(ko(e)||To(e)||Co(e))&&!e.length||So(e)&&!Object.keys(e).length},ke={nullOrUndefined:_o,object:So,number:nm,string:ko,boolean:sm,function:am,array:To,nodeList:Co,element:om,event:lm,empty:cm};function um(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function hm(e,t){if(1>t){var r=um(t);return parseFloat(e.toFixed(r))}return Math.round(e/t)*t}var dm=function(){function e(t,r){Zp(this,e),ke.element(t)?this.element=t:ke.string(t)&&(this.element=document.querySelector(t)),ke.element(this.element)&&ke.empty(this.element.rangeTouch)&&(this.config=Ha({},qa,{},r),this.init())}return em(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var r=this,i=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(n){r.element[i](n,function(s){return r.set(s)},!1)})}},{key:"get",value:function(t){if(!e.enabled||!ke.event(t))return null;var r,i=t.target,n=t.changedTouches[0],s=parseFloat(i.getAttribute("min"))||0,l=parseFloat(i.getAttribute("max"))||100,u=parseFloat(i.getAttribute("step"))||1,f=i.getBoundingClientRect(),v=100/f.width*(this.config.thumbWidth/2)/100;return 0>(r=100/f.width*(n.clientX-f.left))?r=0:100<r&&(r=100),50>r?r-=(100-2*r)*v:50<r&&(r+=2*(r-50)*v),s+hm(r/100*(l-s),u)}},{key:"set",value:function(t){e.enabled&&ke.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),im(t.target,t.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=null;if(ke.empty(t)||ke.string(t)?i=Array.from(document.querySelectorAll(ke.string(t)?t:'input[type="range"]')):ke.element(t)?i=[t]:ke.nodeList(t)?i=Array.from(t):ke.array(t)&&(i=t.filter(ke.element)),ke.empty(i))return null;var n=Ha({},qa,{},r);if(ke.string(t)&&n.watch){var s=new MutationObserver(function(l){Array.from(l).forEach(function(u){Array.from(u.addedNodes).forEach(function(f){ke.element(f)&&rm(f,t)&&new e(f,n)})})});s.observe(document.body,{childList:!0,subtree:!0})}return i.map(function(l){return new e(l,r)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const dr=e=>e!=null?e.constructor:null,ze=(e,t)=>!!(e&&t&&e instanceof t),Ln=e=>e==null,Ao=e=>dr(e)===Object,fm=e=>dr(e)===Number&&!Number.isNaN(e),Jr=e=>dr(e)===String,pm=e=>dr(e)===Boolean,xo=e=>typeof e=="function",Po=e=>Array.isArray(e),mm=e=>ze(e,WeakMap),Lo=e=>ze(e,NodeList),gm=e=>dr(e)===Text,vm=e=>ze(e,Event),bm=e=>ze(e,KeyboardEvent),ym=e=>ze(e,window.TextTrackCue)||ze(e,window.VTTCue),wm=e=>ze(e,TextTrack)||!Ln(e)&&Jr(e.kind),Em=e=>ze(e,Promise)&&xo(e.then),_m=e=>e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object",Mo=e=>Ln(e)||(Jr(e)||Po(e)||Lo(e))&&!e.length||Ao(e)&&!Object.keys(e).length,Sm=e=>{if(ze(e,window.URL))return!0;if(!Jr(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!Mo(new URL(t).hostname)}catch{return!1}};var d={nullOrUndefined:Ln,object:Ao,number:fm,string:Jr,boolean:pm,function:xo,array:Po,weakMap:mm,nodeList:Lo,element:_m,textNode:gm,event:vm,keyboardEvent:bm,cue:ym,track:wm,promise:Em,url:Sm,empty:Mo};const Ji=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},r=Object.keys(t).find(i=>e.style[i]!==void 0);return!!d.string(r)&&t[r]})();function Ro(e,t){setTimeout(()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch{}},t)}const km=!!window.document.documentMode,Tm=/Edge/g.test(navigator.userAgent),Cm="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),Am=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,xm=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,Pm=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var we={isIE:km,isEdge:Tm,isWebKit:Cm,isIPhone:Am,isIPadOS:xm,isIos:Pm};function Lm(e){return JSON.parse(JSON.stringify(e))}function $o(e,t){return t.split(".").reduce((r,i)=>r&&r[i],e)}function ue(e={},...t){if(!t.length)return e;const r=t.shift();return d.object(r)?(Object.keys(r).forEach(i=>{d.object(r[i])?(Object.keys(e).includes(i)||Object.assign(e,{[i]:{}}),ue(e[i],r[i])):Object.assign(e,{[i]:r[i]})}),ue(e,...t)):e}function Io(e,t){const r=e.length?e:[e];Array.from(r).reverse().forEach((i,n)=>{const s=n>0?t.cloneNode(!0):t,l=i.parentNode,u=i.nextSibling;s.appendChild(i),u?l.insertBefore(s,u):l.appendChild(s)})}function Qi(e,t){d.element(e)&&!d.empty(t)&&Object.entries(t).filter(([,r])=>!d.nullOrUndefined(r)).forEach(([r,i])=>e.setAttribute(r,i))}function B(e,t,r){const i=document.createElement(e);return d.object(t)&&Qi(i,t),d.string(r)&&(i.innerText=r),i}function Mm(e,t){d.element(e)&&d.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)}function Da(e,t,r,i){d.element(t)&&t.appendChild(B(e,r,i))}function Ue(e){d.nodeList(e)||d.array(e)?Array.from(e).forEach(Ue):d.element(e)&&d.element(e.parentNode)&&e.parentNode.removeChild(e)}function Nr(e){if(!d.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function Vr(e,t){return d.element(t)&&d.element(t.parentNode)&&d.element(e)?(t.parentNode.replaceChild(e,t),e):null}function He(e,t){if(!d.string(e)||d.empty(e))return{};const r={},i=ue({},t);return e.split(",").forEach(n=>{const s=n.trim(),l=s.replace(".",""),u=s.replace(/[[\]]/g,"").split("="),[f]=u,v=u.length>1?u[1].replace(/["']/g,""):"";switch(s.charAt(0)){case".":d.string(i.class)?r.class=`${i.class} ${l}`:r.class=l;break;case"#":r.id=s.replace("#","");break;case"[":r[f]=v}}),ue(i,r)}function mt(e,t){if(!d.element(e))return;let r=t;d.boolean(r)||(r=!e.hidden),e.hidden=r}function re(e,t,r){if(d.nodeList(e))return Array.from(e).map(i=>re(i,t,r));if(d.element(e)){let i="toggle";return r!==void 0&&(i=r?"add":"remove"),e.classList[i](t),e.classList.contains(t)}return!1}function Wr(e,t){return d.element(e)&&e.classList.contains(t)}function vt(e,t){const{prototype:r}=Element;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function Rm(e,t){const{prototype:r}=Element;return(r.closest||function(){let i=this;do{if(vt.matches(i,t))return i;i=i.parentElement||i.parentNode}while(i!==null&&i.nodeType===1);return null}).call(e,t)}function sr(e){return this.elements.container.querySelectorAll(e)}function pe(e){return this.elements.container.querySelector(e)}function Fi(e=null,t=!1){d.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const Ba={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},he={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const r=he[e]||t!=="html5";return{api:r,ui:r&&he.rangeInput}},pip:!(we.isIPhone||!d.function(B("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||B("video").disablePictureInPicture)),airplay:d.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(d.empty(e))return!1;const[t]=e.split("/");let r=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(Ba).includes(r)&&(r+=`; codecs="${Ba[e]}"`);try{return!!(r&&this.media.canPlayType(r).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range",e.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:Ji!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},$m=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e})();function ar(e,t,r,i=!1,n=!0,s=!1){if(!e||!("addEventListener"in e)||d.empty(t)||!d.function(r))return;const l=t.split(" ");let u=s;$m&&(u={passive:n,capture:s}),l.forEach(f=>{this&&this.eventListeners&&i&&this.eventListeners.push({element:e,type:f,callback:r,options:u}),e[i?"addEventListener":"removeEventListener"](f,r,u)})}function J(e,t="",r,i=!0,n=!1){ar.call(this,e,t,r,!0,i,n)}function Qr(e,t="",r,i=!0,n=!1){ar.call(this,e,t,r,!1,i,n)}function Mn(e,t="",r,i=!0,n=!1){const s=(...l)=>{Qr(e,t,s,i,n),r.apply(this,l)};ar.call(this,e,t,s,!0,i,n)}function j(e,t="",r=!1,i={}){if(!d.element(e)||d.empty(t))return;const n=new CustomEvent(t,{bubbles:r,detail:{...i,plyr:this}});e.dispatchEvent(n)}function Im(){this&&this.eventListeners&&(this.eventListeners.forEach(e=>{const{element:t,type:r,callback:i,options:n}=e;t.removeEventListener(r,i,n)}),this.eventListeners=[])}function Nm(){return new Promise(e=>this.ready?setTimeout(e,0):J.call(this,this.elements.container,"ready",e)).then(()=>{})}function De(e){d.promise(e)&&e.then(null,()=>{})}function Zi(e){return d.array(e)?e.filter((t,r)=>e.indexOf(t)===r):e}function No(e,t){return d.array(e)&&e.length?e.reduce((r,i)=>Math.abs(i-t)<Math.abs(r-t)?i:r):null}function Oo(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const ja=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((e,[t,r])=>({...e,[t/r]:[t,r]}),{});function Fo(e){return d.array(e)||d.string(e)&&e.includes(":")?(d.array(e)?e:e.split(":")).map(Number).every(d.number):!1}function Ur(e){if(!d.array(e)||!e.every(d.number))return null;const[t,r]=e,i=(s,l)=>l===0?s:i(l,s%l),n=i(t,r);return[t/n,r/n]}function Rn(e){const t=i=>Fo(i)?i.split(":").map(Number):null;let r=t(e);if(r===null&&(r=t(this.config.ratio)),r===null&&!d.empty(this.embed)&&d.array(this.embed.ratio)&&({ratio:r}=this.embed),r===null&&this.isHTML5){const{videoWidth:i,videoHeight:n}=this.media;r=[i,n]}return Ur(r)}function Dt(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,r=Rn.call(this,e);if(!d.array(r))return{};const[i,n]=Ur(r),s=100/i*n;if(Oo(`aspect-ratio: ${i}/${n}`)?t.style.aspectRatio=`${i}/${n}`:t.style.paddingBottom=`${s}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const l=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),u=(l-s)/(l/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${u}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:s,ratio:r}}function Ho(e,t,r=.05){const i=e/t,n=No(Object.keys(ja),i);return Math.abs(n-i)<=r?ja[n]:[e,t]}function Om(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const ot={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(e=>{const t=e.getAttribute("type");return!!d.empty(t)||he.mime.call(this,t)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:ot.getSources.call(this).map(e=>Number(e.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,d.empty(this.config.ratio)||Dt.call(e),Object.defineProperty(e.media,"quality",{get(){const t=ot.getSources.call(e).find(r=>r.getAttribute("src")===e.source);return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&d.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const r=ot.getSources.call(e).find(f=>Number(f.getAttribute("size"))===t);if(!r)return;const{currentTime:i,paused:n,preload:s,readyState:l,playbackRate:u}=e.media;e.media.src=r.getAttribute("src"),(s!=="none"||l)&&(e.once("loadedmetadata",()=>{e.speed=u,e.currentTime=i,n||De(e.play())}),e.media.load())}j.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(Ue(ot.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Fm(e){return`${e}-${Math.floor(1e4*Math.random())}`}function en(e,...t){return d.empty(e)?e:e.toString().replace(/{(\d+)}/g,(r,i)=>t[i].toString())}function Hm(e,t){return e===0||t===0||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)}const er=(e="",t="",r="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),r.toString()),qo=(e="")=>e.toString().replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase());function qm(e=""){let t=e.toString();return t=er(t,"-"," "),t=er(t,"_"," "),t=qo(t),er(t," ","")}function Dm(e=""){let t=e.toString();return t=qm(t),t.charAt(0).toLowerCase()+t.slice(1)}function Bm(e){const t=document.createDocumentFragment(),r=document.createElement("div");return t.appendChild(r),r.innerHTML=e,t.firstChild.innerText}function jm(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const Va={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},ye={get(e="",t={}){if(d.empty(e)||d.empty(t))return"";let r=$o(t.i18n,e);if(d.empty(r))return Object.keys(Va).includes(e)?Va[e]:"";const i={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(i).forEach(([n,s])=>{r=er(r,n,s)}),r}};class or{constructor(t){M(this,"get",r=>{if(!or.supported||!this.enabled)return null;const i=window.localStorage.getItem(this.key);if(d.empty(i))return null;const n=JSON.parse(i);return d.string(r)&&r.length?n[r]:n}),M(this,"set",r=>{if(!or.supported||!this.enabled||!d.object(r))return;let i=this.get();d.empty(i)&&(i={}),ue(i,r);try{window.localStorage.setItem(this.key,JSON.stringify(i))}catch{}}),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}}function fr(e,t="text"){return new Promise((r,i)=>{try{const n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",()=>{if(t==="text")try{r(JSON.parse(n.responseText))}catch{r(n.responseText)}else r(n.response)}),n.addEventListener("error",()=>{throw new Error(n.status)}),n.open("GET",e,!0),n.responseType=t,n.send()}catch(n){i(n)}})}function Do(e,t){if(!d.string(e))return;const r="cache",i=d.string(t);let n=!1;const s=()=>document.getElementById(t)!==null,l=(u,f)=>{u.innerHTML=f,i&&s()||document.body.insertAdjacentElement("afterbegin",u)};if(!i||!s()){const u=or.supported,f=document.createElement("div");if(f.setAttribute("hidden",""),i&&f.setAttribute("id",t),u){const v=window.localStorage.getItem(`${r}-${t}`);if(n=v!==null,n){const w=JSON.parse(v);l(f,w.content)}}fr(e).then(v=>{if(!d.empty(v)){if(u)try{window.localStorage.setItem(`${r}-${t}`,JSON.stringify({content:v}))}catch{}l(f,v)}}).catch(()=>{})}}const Bo=e=>Math.trunc(e/60/60%60,10),Vm=e=>Math.trunc(e/60%60,10),Wm=e=>Math.trunc(e%60,10);function Zr(e=0,t=!1,r=!1){if(!d.number(e))return Zr(void 0,t,r);const i=u=>`0${u}`.slice(-2);let n=Bo(e);const s=Vm(e),l=Wm(e);return n=t||n>0?`${n}:`:"",`${r&&e>0?"-":""}${n}${i(s)}:${i(l)}`}const L={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,r=e.host!==t||we.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:r}},findElements(){try{return this.elements.controls=pe.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:sr.call(this,this.config.selectors.buttons.play),pause:pe.call(this,this.config.selectors.buttons.pause),restart:pe.call(this,this.config.selectors.buttons.restart),rewind:pe.call(this,this.config.selectors.buttons.rewind),fastForward:pe.call(this,this.config.selectors.buttons.fastForward),mute:pe.call(this,this.config.selectors.buttons.mute),pip:pe.call(this,this.config.selectors.buttons.pip),airplay:pe.call(this,this.config.selectors.buttons.airplay),settings:pe.call(this,this.config.selectors.buttons.settings),captions:pe.call(this,this.config.selectors.buttons.captions),fullscreen:pe.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=pe.call(this,this.config.selectors.progress),this.elements.inputs={seek:pe.call(this,this.config.selectors.inputs.seek),volume:pe.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:pe.call(this,this.config.selectors.display.buffer),currentTime:pe.call(this,this.config.selectors.display.currentTime),duration:pe.call(this,this.config.selectors.display.duration)},d.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const r="http://www.w3.org/2000/svg",i=L.getIconUrl.call(this),n=`${i.cors?"":i.url}#${this.config.iconPrefix}`,s=document.createElementNS(r,"svg");Qi(s,ue(t,{"aria-hidden":"true",focusable:"false"}));const l=document.createElementNS(r,"use"),u=`${n}-${e}`;return"href"in l&&l.setAttributeNS("http://www.w3.org/1999/xlink","href",u),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u),s.appendChild(l),s},createLabel(e,t={}){const r=ye.get(e,this.config);return B("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},r)},createBadge(e){if(d.empty(e))return null;const t=B("span",{class:this.config.classNames.menu.value});return t.appendChild(B("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const r=ue({},t);let i=Dm(e);const n={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(l=>{Object.keys(r).includes(l)&&(n[l]=r[l],delete r[l])}),n.element!=="button"||Object.keys(r).includes("type")||(r.type="button"),Object.keys(r).includes("class")?r.class.split(" ").some(l=>l===this.config.classNames.control)||ue(r,{class:`${r.class} ${this.config.classNames.control}`}):r.class=this.config.classNames.control,e){case"play":n.toggle=!0,n.label="play",n.labelPressed="pause",n.icon="play",n.iconPressed="pause";break;case"mute":n.toggle=!0,n.label="mute",n.labelPressed="unmute",n.icon="volume",n.iconPressed="muted";break;case"captions":n.toggle=!0,n.label="enableCaptions",n.labelPressed="disableCaptions",n.icon="captions-off",n.iconPressed="captions-on";break;case"fullscreen":n.toggle=!0,n.label="enterFullscreen",n.labelPressed="exitFullscreen",n.icon="enter-fullscreen",n.iconPressed="exit-fullscreen";break;case"play-large":r.class+=` ${this.config.classNames.control}--overlaid`,i="play",n.label="play",n.icon="play";break;default:d.empty(n.label)&&(n.label=i),d.empty(n.icon)&&(n.icon=e)}const s=B(n.element);return n.toggle?(s.appendChild(L.createIcon.call(this,n.iconPressed,{class:"icon--pressed"})),s.appendChild(L.createIcon.call(this,n.icon,{class:"icon--not-pressed"})),s.appendChild(L.createLabel.call(this,n.labelPressed,{class:"label--pressed"})),s.appendChild(L.createLabel.call(this,n.label,{class:"label--not-pressed"}))):(s.appendChild(L.createIcon.call(this,n.icon)),s.appendChild(L.createLabel.call(this,n.label))),ue(r,He(this.config.selectors.buttons[i],r)),Qi(s,r),i==="play"?(d.array(this.elements.buttons[i])||(this.elements.buttons[i]=[]),this.elements.buttons[i].push(s)):this.elements.buttons[i]=s,s},createRange(e,t){const r=B("input",ue(He(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":ye.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=r,L.updateRangeFill.call(this,r),dm.setup(r),r},createProgress(e,t){const r=B("progress",ue(He(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if(e!=="volume"){r.appendChild(B("span",null,"0"));const i={played:"played",buffer:"buffered"}[e],n=i?ye.get(i,this.config):"";r.innerText=`% ${n.toLowerCase()}`}return this.elements.display[e]=r,r},createTime(e,t){const r=He(this.config.selectors.display[e],t),i=B("div",ue(r,{class:`${r.class?r.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":ye.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=i,i},bindMenuItemShortcuts(e,t){J.call(this,e,"keydown keyup",r=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(r.key)||(r.preventDefault(),r.stopPropagation(),r.type==="keydown"))return;const i=vt(e,'[role="menuitemradio"]');if(!i&&[" ","ArrowRight"].includes(r.key))L.showMenuPanel.call(this,t,!0);else{let n;r.key!==" "&&(r.key==="ArrowDown"||i&&r.key==="ArrowRight"?(n=e.nextElementSibling,d.element(n)||(n=e.parentNode.firstElementChild)):(n=e.previousElementSibling,d.element(n)||(n=e.parentNode.lastElementChild)),Fi.call(this,n,!0))}},!1),J.call(this,e,"keyup",r=>{r.key==="Return"&&L.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:e,list:t,type:r,title:i,badge:n=null,checked:s=!1}){const l=He(this.config.selectors.inputs[r]),u=B("button",ue(l,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${l.class?l.class:""}`.trim(),"aria-checked":s,value:e})),f=B("span");f.innerHTML=i,d.element(n)&&f.appendChild(n),u.appendChild(f),Object.defineProperty(u,"checked",{enumerable:!0,get:()=>u.getAttribute("aria-checked")==="true",set(v){v&&Array.from(u.parentNode.children).filter(w=>vt(w,'[role="menuitemradio"]')).forEach(w=>w.setAttribute("aria-checked","false")),u.setAttribute("aria-checked",v?"true":"false")}}),this.listeners.bind(u,"click keyup",v=>{if(!d.keyboardEvent(v)||v.key===" "){switch(v.preventDefault(),v.stopPropagation(),u.checked=!0,r){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}L.showMenuPanel.call(this,"home",d.keyboardEvent(v))}},r,!1),L.bindMenuItemShortcuts.call(this,u,r),t.appendChild(u)},formatTime(e=0,t=!1){return d.number(e)?Zr(e,Bo(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,r=!1){d.element(e)&&d.number(t)&&(e.innerText=L.formatTime(t,r))},updateVolume(){this.supported.ui&&(d.element(this.elements.inputs.volume)&&L.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),d.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(e,t=0){d.element(e)&&(e.value=t,L.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!d.event(e))return;let t=0;const r=(i,n)=>{const s=d.number(n)?n:0,l=d.element(i)?i:this.elements.display.buffer;if(d.element(l)){l.value=s;const u=l.getElementsByTagName("span")[0];d.element(u)&&(u.childNodes[0].nodeValue=s)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=Hm(this.currentTime,this.duration),e.type==="timeupdate"&&L.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":r(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){const t=d.event(e)?e.target:e;if(d.element(t)&&t.getAttribute("type")==="range"){if(vt(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const r=L.formatTime(this.currentTime),i=L.formatTime(this.duration),n=ye.get("seekLabel",this.config);t.setAttribute("aria-valuetext",n.replace("{currentTime}",r).replace("{duration}",i))}else if(vt(t,this.config.selectors.inputs.volume)){const r=100*t.value;t.setAttribute("aria-valuenow",r),t.setAttribute("aria-valuetext",`${r.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(we.isWebKit||we.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,r;if(!this.config.tooltips.seek||!d.element(this.elements.inputs.seek)||!d.element(this.elements.display.seekTooltip)||this.duration===0)return;const i=this.elements.display.seekTooltip,n=`${this.config.classNames.tooltip}--visible`,s=w=>re(i,n,w);if(this.touch)return void s(!1);let l=0;const u=this.elements.progress.getBoundingClientRect();if(d.event(e))l=100/u.width*(e.pageX-u.left);else{if(!Wr(i,n))return;l=parseFloat(i.style.left,10)}l<0?l=0:l>100&&(l=100);const f=this.duration/100*l;i.innerText=L.formatTime(f);const v=(t=this.config.markers)===null||t===void 0||(r=t.points)===null||r===void 0?void 0:r.find(({time:w})=>w===Math.round(f));v&&i.insertAdjacentHTML("afterbegin",`${v.label}<br>`),i.style.left=`${l}%`,d.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&s(e.type==="mouseenter")},timeUpdate(e){const t=!d.element(this.elements.display.duration)&&this.config.invertTime;L.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&e.type==="timeupdate"&&this.media.seeking||L.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return mt(this.elements.display.currentTime,!0),void mt(this.elements.progress,!0);d.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=d.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&L.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&L.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&L.setMarkers.call(this),L.updateSeekTooltip.call(this)},toggleMenuButton(e,t){mt(this.elements.settings.buttons[e],!t)},updateSetting(e,t,r){const i=this.elements.settings.panels[e];let n=null,s=t;if(e==="captions")n=this.currentTrack;else{if(n=d.empty(r)?this[e]:r,d.empty(n)&&(n=this.config[e].default),!d.empty(this.options[e])&&!this.options[e].includes(n))return void this.debug.warn(`Unsupported value of '${n}' for ${e}`);if(!this.config[e].options.includes(n))return void this.debug.warn(`Disabled value of '${n}' for ${e}`)}if(d.element(s)||(s=i&&i.querySelector('[role="menu"]')),!d.element(s))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=L.getLabel.call(this,e,n);const l=s&&s.querySelector(`[value="${n}"]`);d.element(l)&&(l.checked=!0)},getLabel(e,t){switch(e){case"speed":return t===1?ye.get("normal",this.config):`${t}&times;`;case"quality":if(d.number(t)){const r=ye.get(`qualityLabel.${t}`,this.config);return r.length?r:`${t}p`}return qo(t);case"captions":return Q.getLabel.call(this);default:return null}},setQualityMenu(e){if(!d.element(this.elements.settings.panels.quality))return;const t="quality",r=this.elements.settings.panels.quality.querySelector('[role="menu"]');d.array(e)&&(this.options.quality=Zi(e).filter(s=>this.config.quality.options.includes(s)));const i=!d.empty(this.options.quality)&&this.options.quality.length>1;if(L.toggleMenuButton.call(this,t,i),Nr(r),L.checkMenu.call(this),!i)return;const n=s=>{const l=ye.get(`qualityBadge.${s}`,this.config);return l.length?L.createBadge.call(this,l):null};this.options.quality.sort((s,l)=>{const u=this.config.quality.options;return u.indexOf(s)>u.indexOf(l)?1:-1}).forEach(s=>{L.createMenuItem.call(this,{value:s,list:r,type:t,title:L.getLabel.call(this,"quality",s),badge:n(s)})}),L.updateSetting.call(this,t,r)},setCaptionsMenu(){if(!d.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),r=Q.getTracks.call(this),i=!!r.length;if(L.toggleMenuButton.call(this,e,i),Nr(t),L.checkMenu.call(this),!i)return;const n=r.map((s,l)=>({value:l,checked:this.captions.toggled&&this.currentTrack===l,title:Q.getLabel.call(this,s),badge:s.language&&L.createBadge.call(this,s.language.toUpperCase()),list:t,type:"language"}));n.unshift({value:-1,checked:!this.captions.toggled,title:ye.get("disabled",this.config),list:t,type:"language"}),n.forEach(L.createMenuItem.bind(this)),L.updateSetting.call(this,e,t)},setSpeedMenu(){if(!d.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(i=>i>=this.minimumSpeed&&i<=this.maximumSpeed);const r=!d.empty(this.options.speed)&&this.options.speed.length>1;L.toggleMenuButton.call(this,e,r),Nr(t),L.checkMenu.call(this),r&&(this.options.speed.forEach(i=>{L.createMenuItem.call(this,{value:i,list:t,type:e,title:L.getLabel.call(this,"speed",i)})}),L.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!d.empty(e)&&Object.values(e).some(r=>!r.hidden);mt(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let r=e;d.element(r)||(r=Object.values(this.elements.settings.panels).find(n=>!n.hidden));const i=r.querySelector('[role^="menuitem"]');Fi.call(this,i,t)},toggleMenu(e){const{popup:t}=this.elements.settings,r=this.elements.buttons.settings;if(!d.element(t)||!d.element(r))return;const{hidden:i}=t;let n=i;if(d.boolean(e))n=e;else if(d.keyboardEvent(e)&&e.key==="Escape")n=!1;else if(d.event(e)){const s=d.function(e.composedPath)?e.composedPath()[0]:e.target,l=t.contains(s);if(l||!l&&e.target!==r&&n)return}r.setAttribute("aria-expanded",n),mt(t,!n),re(this.elements.container,this.config.classNames.menu.open,n),n&&d.keyboardEvent(e)?L.focusFirstMenuItem.call(this,null,!0):n||i||Fi.call(this,r,d.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const r=t.scrollWidth,i=t.scrollHeight;return Ue(t),{width:r,height:i}},showMenuPanel(e="",t=!1){const r=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!d.element(r))return;const i=r.parentNode,n=Array.from(i.children).find(s=>!s.hidden);if(he.transitions&&!he.reducedMotion){i.style.width=`${n.scrollWidth}px`,i.style.height=`${n.scrollHeight}px`;const s=L.getMenuSize.call(this,r),l=u=>{u.target===i&&["width","height"].includes(u.propertyName)&&(i.style.width="",i.style.height="",Qr.call(this,i,Ji,l))};J.call(this,i,Ji,l),i.style.width=`${s.width}px`,i.style.height=`${s.height}px`}mt(n,!0),mt(r,!1),L.focusFirstMenuItem.call(this,r,t)},setDownloadUrl(){const e=this.elements.buttons.download;d.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:r,createProgress:i,createRange:n,createTime:s,setQualityMenu:l,setSpeedMenu:u,showMenuPanel:f}=L;this.elements.controls=null,d.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(r.call(this,"play-large"));const v=B("div",He(this.config.selectors.controls.wrapper));this.elements.controls=v;const w={class:"plyr__controls__item"};return Zi(d.array(this.config.controls)?this.config.controls:[]).forEach(T=>{if(T==="restart"&&v.appendChild(r.call(this,"restart",w)),T==="rewind"&&v.appendChild(r.call(this,"rewind",w)),T==="play"&&v.appendChild(r.call(this,"play",w)),T==="fast-forward"&&v.appendChild(r.call(this,"fast-forward",w)),T==="progress"){const _=B("div",{class:`${w.class} plyr__progress__container`}),N=B("div",He(this.config.selectors.progress));if(N.appendChild(n.call(this,"seek",{id:`plyr-seek-${e.id}`})),N.appendChild(i.call(this,"buffer")),this.config.tooltips.seek){const H=B("span",{class:this.config.classNames.tooltip},"00:00");N.appendChild(H),this.elements.display.seekTooltip=H}this.elements.progress=N,_.appendChild(this.elements.progress),v.appendChild(_)}if(T==="current-time"&&v.appendChild(s.call(this,"currentTime",w)),T==="duration"&&v.appendChild(s.call(this,"duration",w)),T==="mute"||T==="volume"){let{volume:_}=this.elements;if(d.element(_)&&v.contains(_)||(_=B("div",ue({},w,{class:`${w.class} plyr__volume`.trim()})),this.elements.volume=_,v.appendChild(_)),T==="mute"&&_.appendChild(r.call(this,"mute")),T==="volume"&&!we.isIos&&!we.isIPadOS){const N={max:1,step:.05,value:this.config.volume};_.appendChild(n.call(this,"volume",ue(N,{id:`plyr-volume-${e.id}`})))}}if(T==="captions"&&v.appendChild(r.call(this,"captions",w)),T==="settings"&&!d.empty(this.config.settings)){const _=B("div",ue({},w,{class:`${w.class} plyr__menu`.trim(),hidden:""}));_.appendChild(r.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const N=B("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),H=B("div"),S=B("div",{id:`plyr-settings-${e.id}-home`}),P=B("div",{role:"menu"});S.appendChild(P),H.appendChild(S),this.elements.settings.panels.home=S,this.config.settings.forEach($=>{const x=B("button",ue(He(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,x,$),J.call(this,x,"click",()=>{f.call(this,$,!1)});const q=B("span",null,ye.get($,this.config)),V=B("span",{class:this.config.classNames.menu.value});V.innerHTML=e[$],q.appendChild(V),x.appendChild(q),P.appendChild(x);const le=B("div",{id:`plyr-settings-${e.id}-${$}`,hidden:""}),F=B("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});F.appendChild(B("span",{"aria-hidden":!0},ye.get($,this.config))),F.appendChild(B("span",{class:this.config.classNames.hidden},ye.get("menuBack",this.config))),J.call(this,le,"keydown",ge=>{ge.key==="ArrowLeft"&&(ge.preventDefault(),ge.stopPropagation(),f.call(this,"home",!0))},!1),J.call(this,F,"click",()=>{f.call(this,"home",!1)}),le.appendChild(F),le.appendChild(B("div",{role:"menu"})),H.appendChild(le),this.elements.settings.buttons[$]=x,this.elements.settings.panels[$]=le}),N.appendChild(H),_.appendChild(N),v.appendChild(_),this.elements.settings.popup=N,this.elements.settings.menu=_}if(T==="pip"&&he.pip&&v.appendChild(r.call(this,"pip",w)),T==="airplay"&&he.airplay&&v.appendChild(r.call(this,"airplay",w)),T==="download"){const _=ue({},w,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(_.download="");const{download:N}=this.config.urls;!d.url(N)&&this.isEmbed&&ue(_,{icon:`logo-${this.provider}`,label:this.provider}),v.appendChild(r.call(this,"download",_))}T==="fullscreen"&&v.appendChild(r.call(this,"fullscreen",w))}),this.isHTML5&&l.call(this,ot.getQualityOptions.call(this)),u.call(this),v},inject(){if(this.config.loadSprite){const n=L.getIconUrl.call(this);n.cors&&Do(n.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let r=!0;d.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),d.element(this.config.controls)||d.string(this.config.controls)?e=this.config.controls:(e=L.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Q.getLabel.call(this)}),r=!1);let i;if(r&&d.string(this.config.controls)&&(e=(n=>{let s=n;return Object.entries(t).forEach(([l,u])=>{s=er(s,`{${l}}`,u)}),s})(e)),d.string(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),d.element(i)||(i=this.elements.container),i[d.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),d.element(this.elements.controls)||L.findElements.call(this),!d.empty(this.elements.buttons)){const n=s=>{const l=this.config.classNames.controlPressed;s.setAttribute("aria-pressed","false"),Object.defineProperty(s,"pressed",{configurable:!0,enumerable:!0,get:()=>Wr(s,l),set(u=!1){re(s,l,u),s.setAttribute("aria-pressed",u?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(s=>{d.array(s)||d.nodeList(s)?Array.from(s).filter(Boolean).forEach(n):n(s)})}if(we.isEdge&&Ro(i),this.config.tooltips.controls){const{classNames:n,selectors:s}=this.config,l=`${s.controls.wrapper} ${s.labels} .${n.hidden}`,u=sr.call(this,l);Array.from(u).forEach(f=>{re(f,this.config.classNames.hidden,!1),re(f,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const r=(e=this.config.markers)===null||e===void 0||(t=e.points)===null||t===void 0?void 0:t.filter(({time:f})=>f>0&&f<this.duration);if(r==null||!r.length)return;const i=document.createDocumentFragment(),n=document.createDocumentFragment();let s=null;const l=`${this.config.classNames.tooltip}--visible`,u=f=>re(s,l,f);r.forEach(f=>{const v=B("span",{class:this.config.classNames.marker},""),w=f.time/this.duration*100+"%";s&&(v.addEventListener("mouseenter",()=>{f.label||(s.style.left=w,s.innerHTML=f.label,u(!0))}),v.addEventListener("mouseleave",()=>{u(!1)})),v.addEventListener("click",()=>{this.currentTime=f.time}),v.style.left=w,n.appendChild(v)}),i.appendChild(n),this.config.tooltips.seek||(s=B("span",{class:this.config.classNames.tooltip},""),i.appendChild(s)),this.elements.markers={points:n,tip:s},this.elements.progress.appendChild(i)}};function jo(e,t=!0){let r=e;if(t){const i=document.createElement("a");i.href=r,r=i.href}try{return new URL(r)}catch{return null}}function Vo(e){const t=new URLSearchParams;return d.object(e)&&Object.entries(e).forEach(([r,i])=>{t.set(r,i)}),t}const Q={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!he.textTracks)return void(d.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&L.setCaptionsMenu.call(this));if(d.element(this.elements.captions)||(this.elements.captions=B("div",He(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),Mm(this.elements.captions,this.elements.wrapper)),we.isIE&&window.URL){const i=this.media.querySelectorAll("track");Array.from(i).forEach(n=>{const s=n.getAttribute("src"),l=jo(s);l!==null&&l.hostname!==window.location.href.hostname&&["http:","https:"].includes(l.protocol)&&fr(s,"blob").then(u=>{n.setAttribute("src",window.URL.createObjectURL(u))}).catch(()=>{Ue(n)})})}const e=Zi((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(i=>i.split("-")[0]));let t=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();t==="auto"&&([t]=e);let r=this.storage.get("captions");if(d.boolean(r)||({active:r}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:r,language:t,languages:e}),this.isHTML5){const i=this.config.captions.update?"addtrack removetrack":"removetrack";J.call(this,this.media.textTracks,i,Q.update.bind(this))}setTimeout(Q.update.bind(this),0)},update(){const e=Q.getTracks.call(this,!0),{active:t,language:r,meta:i,currentTrackNode:n}=this.captions,s=!!e.find(l=>l.language===r);this.isHTML5&&this.isVideo&&e.filter(l=>!i.get(l)).forEach(l=>{this.debug.log("Track added",l),i.set(l,{default:l.mode==="showing"}),l.mode==="showing"&&(l.mode="hidden"),J.call(this,l,"cuechange",()=>Q.updateCues.call(this))}),(s&&this.language!==r||!e.includes(n))&&(Q.setLanguage.call(this,r),Q.toggle.call(this,t&&s)),this.elements&&re(this.elements.container,this.config.classNames.captions.enabled,!d.empty(e)),d.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&L.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:r}=this.captions,i=this.config.classNames.captions.active,n=d.nullOrUndefined(e)?!r:e;if(n!==r){if(t||(this.captions.active=n,this.storage.set({captions:n})),!this.language&&n&&!t){const s=Q.getTracks.call(this),l=Q.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=l.language,void Q.set.call(this,s.indexOf(l))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=n),re(this.elements.container,i,n),this.captions.toggled=n,L.updateSetting.call(this,"captions"),j.call(this,this.media,n?"captionsenabled":"captionsdisabled")}setTimeout(()=>{n&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(e,t=!0){const r=Q.getTracks.call(this);if(e!==-1)if(d.number(e))if(e in r){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const i=r[e],{language:n}=i||{};this.captions.currentTrackNode=i,L.updateSetting.call(this,"captions"),t||(this.captions.language=n,this.storage.set({language:n})),this.isVimeo&&this.embed.enableTextTrack(n),j.call(this,this.media,"languagechange")}Q.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&Q.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else Q.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!d.string(e))return void this.debug.warn("Invalid language argument",e);const r=e.toLowerCase();this.captions.language=r;const i=Q.getTracks.call(this),n=Q.findTrack.call(this,[r]);Q.set.call(this,i.indexOf(n),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter(t=>!this.isHTML5||e||this.captions.meta.has(t)).filter(t=>["captions","subtitles"].includes(t.kind))},findTrack(e,t=!1){const r=Q.getTracks.call(this),i=l=>Number((this.captions.meta.get(l)||{}).default),n=Array.from(r).sort((l,u)=>i(u)-i(l));let s;return e.every(l=>(s=n.find(u=>u.language===l),!s)),s||(t?n[0]:void 0)},getCurrentTrack(){return Q.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!d.track(t)&&he.textTracks&&this.captions.toggled&&(t=Q.getCurrentTrack.call(this)),d.track(t)?d.empty(t.label)?d.empty(t.language)?ye.get("enabled",this.config):e.language.toUpperCase():t.label:ye.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!d.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!d.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const i=Q.getCurrentTrack.call(this);t=Array.from((i||{}).activeCues||[]).map(n=>n.getCueAsHTML()).map(jm)}const r=t.map(i=>i.trim()).join(`
`);if(r!==this.elements.captions.innerHTML){Nr(this.elements.captions);const i=B("span",He(this.config.selectors.caption));i.innerHTML=r,this.elements.captions.appendChild(i),j.call(this,this.media,"cuechange")}}},Wo={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Hi={active:"picture-in-picture",inactive:"inline"},nt={html5:"html5",youtube:"youtube",vimeo:"vimeo"},qi={audio:"audio",video:"video"};function Um(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?nt.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?nt.vimeo:null}const Di=()=>{};class zm{constructor(t=!1){this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):Di}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):Di}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):Di}}class Ie{constructor(t){M(this,"onChange",()=>{if(!this.supported)return;const r=this.player.elements.buttons.fullscreen;d.element(r)&&(r.pressed=this.active);const i=this.target===this.player.media?this.target:this.player.elements.container;j.call(this.player,i,this.active?"enterfullscreen":"exitfullscreen",!0)}),M(this,"toggleFallback",(r=!1)=>{if(r?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=r?"hidden":"",re(this.target,this.player.config.classNames.fullscreen.fallback,r),we.isIos){let i=document.head.querySelector('meta[name="viewport"]');const n="viewport-fit=cover";i||(i=document.createElement("meta"),i.setAttribute("name","viewport"));const s=d.string(i.content)&&i.content.includes(n);r?(this.cleanupViewport=!s,s||(i.content+=`,${n}`)):this.cleanupViewport&&(i.content=i.content.split(",").filter(l=>l.trim()!==n).join(","))}this.onChange()}),M(this,"trapFocus",r=>{if(we.isIos||we.isIPadOS||!this.active||r.key!=="Tab")return;const i=document.activeElement,n=sr.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[s]=n,l=n[n.length-1];i!==l||r.shiftKey?i===s&&r.shiftKey&&(l.focus(),r.preventDefault()):(s.focus(),r.preventDefault())}),M(this,"update",()=>{if(this.supported){let r;r=this.forceFallback?"Fallback (forced)":Ie.nativeSupported?"Native":"Fallback",this.player.debug.log(`${r} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");re(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),M(this,"enter",()=>{this.supported&&(we.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Ie.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?d.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),M(this,"exit",()=>{if(this.supported)if(we.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),De(this.player.play());else if(!Ie.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!d.empty(this.prefix)){const r=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${r}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),M(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=t,this.prefix=Ie.prefix,this.property=Ie.property,this.scrollPosition={x:0,y:0},this.forceFallback=t.config.fullscreen.fallback==="force",this.player.elements.fullscreen=t.config.fullscreen.container&&Rm(this.player.elements.container,t.config.fullscreen.container),J.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),J.call(this.player,this.player.elements.container,"dblclick",r=>{d.element(this.player.elements.controls)&&this.player.elements.controls.contains(r.target)||this.player.listeners.proxy(r,this.toggle,"fullscreen")}),J.call(this,this.player.elements.container,"keydown",r=>this.trapFocus(r)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return Ie.nativeSupported&&!this.forceFallback}static get prefix(){if(d.function(document.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some(r=>!(!d.function(document[`${r}ExitFullscreen`])&&!d.function(document[`${r}CancelFullScreen`]))&&(t=r,!0)),t}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,Ie.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||Ie.nativeSupported||!we.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!Ie.nativeSupported||this.forceFallback)return Wr(this.target,this.player.config.classNames.fullscreen.fallback);const t=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}get target(){return we.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function Or(e,t=1){return new Promise((r,i)=>{const n=new Image,s=()=>{delete n.onload,delete n.onerror,(n.naturalWidth>=t?r:i)(n)};Object.assign(n,{onload:s,onerror:s,src:e})})}const ne={addStyleHook(){re(this.elements.container,this.config.selectors.container.replace(".",""),!0),re(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void ne.toggleNativeControls.call(this,!0);d.element(this.elements.controls)||(L.inject.call(this),this.listeners.controls()),ne.toggleNativeControls.call(this),this.isHTML5&&Q.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,L.updateVolume.call(this),L.timeUpdate.call(this),L.durationUpdate.call(this),ne.checkPlaying.call(this),re(this.elements.container,this.config.classNames.pip.supported,he.pip&&this.isHTML5&&this.isVideo),re(this.elements.container,this.config.classNames.airplay.supported,he.airplay&&this.isHTML5),re(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{j.call(this,this.media,"ready")},0),ne.setTitle.call(this),this.poster&&ne.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&L.durationUpdate.call(this),this.config.mediaMetadata&&L.setMediaMetadata.call(this)},setTitle(){let e=ye.get("play",this.config);if(d.string(this.config.title)&&!d.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(t=>{t.setAttribute("aria-label",e)}),this.isEmbed){const t=pe.call(this,"iframe");if(!d.element(t))return;const r=d.empty(this.config.title)?"video":this.config.title,i=ye.get("frameTitle",this.config);t.setAttribute("title",i.replace("{title}",r))}},togglePoster(e){re(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),Nm.call(this).then(()=>Or(e)).catch(r=>{throw e===this.poster&&ne.togglePoster.call(this,!1),r}).then(()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),ne.togglePoster.call(this,!0),e)))},checkPlaying(e){re(this.elements.container,this.config.classNames.playing,this.playing),re(this.elements.container,this.config.classNames.paused,this.paused),re(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(t=>{Object.assign(t,{pressed:this.playing}),t.setAttribute("aria-label",ye.get(this.playing?"pause":"play",this.config))}),d.event(e)&&e.type==="timeupdate"||ne.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{re(this.elements.container,this.config.classNames.loading,this.loading),ne.toggleControls.call(this)},this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const r=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(e||this.loading||this.paused||t.pressed||t.hover||r))}},migrateStyles(){Object.values({...this.media.style}).filter(e=>!d.empty(e)&&d.string(e)&&e.startsWith("--plyr")).forEach(e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)}),d.empty(this.media.style)&&this.media.removeAttribute("style")}};class Km{constructor(t){M(this,"firstTouch",()=>{const{player:r}=this,{elements:i}=r;r.touch=!0,re(i.container,r.config.classNames.isTouch,!0)}),M(this,"global",(r=!0)=>{const{player:i}=this;i.config.keyboard.global&&ar.call(i,window,"keydown keyup",this.handleKey,r,!1),ar.call(i,document.body,"click",this.toggleMenu,r),Mn.call(i,document.body,"touchstart",this.firstTouch)}),M(this,"container",()=>{const{player:r}=this,{config:i,elements:n,timers:s}=r;!i.keyboard.global&&i.keyboard.focused&&J.call(r,n.container,"keydown keyup",this.handleKey,!1),J.call(r,n.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",f=>{const{controls:v}=n;v&&f.type==="enterfullscreen"&&(v.pressed=!1,v.hover=!1);let w=0;["touchstart","touchmove","mousemove"].includes(f.type)&&(ne.toggleControls.call(r,!0),w=r.touch?3e3:2e3),clearTimeout(s.controls),s.controls=setTimeout(()=>ne.toggleControls.call(r,!1),w)});const l=()=>{if(!r.isVimeo||r.config.vimeo.premium)return;const f=n.wrapper,{active:v}=r.fullscreen,[w,T]=Rn.call(r),_=Oo(`aspect-ratio: ${w} / ${T}`);if(!v)return void(_?(f.style.width=null,f.style.height=null):(f.style.maxWidth=null,f.style.margin=null));const[N,H]=Om(),S=N/H>w/T;_?(f.style.width=S?"auto":"100%",f.style.height=S?"100%":"auto"):(f.style.maxWidth=S?H/T*w+"px":null,f.style.margin=S?"0 auto":null)},u=()=>{clearTimeout(s.resized),s.resized=setTimeout(l,50)};J.call(r,n.container,"enterfullscreen exitfullscreen",f=>{const{target:v}=r.fullscreen;v===n.container&&(!r.isEmbed&&d.empty(r.config.ratio)||(l(),(f.type==="enterfullscreen"?J:Qr).call(r,window,"resize",u)))})}),M(this,"media",()=>{const{player:r}=this,{elements:i}=r;if(J.call(r,r.media,"timeupdate seeking seeked",s=>L.timeUpdate.call(r,s)),J.call(r,r.media,"durationchange loadeddata loadedmetadata",s=>L.durationUpdate.call(r,s)),J.call(r,r.media,"ended",()=>{r.isHTML5&&r.isVideo&&r.config.resetOnEnd&&(r.restart(),r.pause())}),J.call(r,r.media,"progress playing seeking seeked",s=>L.updateProgress.call(r,s)),J.call(r,r.media,"volumechange",s=>L.updateVolume.call(r,s)),J.call(r,r.media,"playing play pause ended emptied timeupdate",s=>ne.checkPlaying.call(r,s)),J.call(r,r.media,"waiting canplay seeked playing",s=>ne.checkLoading.call(r,s)),r.supported.ui&&r.config.clickToPlay&&!r.isAudio){const s=pe.call(r,`.${r.config.classNames.video}`);if(!d.element(s))return;J.call(r,i.container,"click",l=>{([i.container,s].includes(l.target)||s.contains(l.target))&&(r.touch&&r.config.hideControls||(r.ended?(this.proxy(l,r.restart,"restart"),this.proxy(l,()=>{De(r.play())},"play")):this.proxy(l,()=>{De(r.togglePlay())},"play")))})}r.supported.ui&&r.config.disableContextMenu&&J.call(r,i.wrapper,"contextmenu",s=>{s.preventDefault()},!1),J.call(r,r.media,"volumechange",()=>{r.storage.set({volume:r.volume,muted:r.muted})}),J.call(r,r.media,"ratechange",()=>{L.updateSetting.call(r,"speed"),r.storage.set({speed:r.speed})}),J.call(r,r.media,"qualitychange",s=>{L.updateSetting.call(r,"quality",null,s.detail.quality)}),J.call(r,r.media,"ready qualitychange",()=>{L.setDownloadUrl.call(r)});const n=r.config.events.concat(["keyup","keydown"]).join(" ");J.call(r,r.media,n,s=>{let{detail:l={}}=s;s.type==="error"&&(l=r.media.error),j.call(r,i.container,s.type,!0,l)})}),M(this,"proxy",(r,i,n)=>{const{player:s}=this,l=s.config.listeners[n];let u=!0;d.function(l)&&(u=l.call(s,r)),u!==!1&&d.function(i)&&i.call(s,r)}),M(this,"bind",(r,i,n,s,l=!0)=>{const{player:u}=this,f=u.config.listeners[s],v=d.function(f);J.call(u,r,i,w=>this.proxy(w,n,s),l&&!v)}),M(this,"controls",()=>{const{player:r}=this,{elements:i}=r,n=we.isIE?"change":"input";if(i.buttons.play&&Array.from(i.buttons.play).forEach(s=>{this.bind(s,"click",()=>{De(r.togglePlay())},"play")}),this.bind(i.buttons.restart,"click",r.restart,"restart"),this.bind(i.buttons.rewind,"click",()=>{r.lastSeekTime=Date.now(),r.rewind()},"rewind"),this.bind(i.buttons.fastForward,"click",()=>{r.lastSeekTime=Date.now(),r.forward()},"fastForward"),this.bind(i.buttons.mute,"click",()=>{r.muted=!r.muted},"mute"),this.bind(i.buttons.captions,"click",()=>r.toggleCaptions()),this.bind(i.buttons.download,"click",()=>{j.call(r,r.media,"download")},"download"),this.bind(i.buttons.fullscreen,"click",()=>{r.fullscreen.toggle()},"fullscreen"),this.bind(i.buttons.pip,"click",()=>{r.pip="toggle"},"pip"),this.bind(i.buttons.airplay,"click",r.airplay,"airplay"),this.bind(i.buttons.settings,"click",s=>{s.stopPropagation(),s.preventDefault(),L.toggleMenu.call(r,s)},null,!1),this.bind(i.buttons.settings,"keyup",s=>{[" ","Enter"].includes(s.key)&&(s.key!=="Enter"?(s.preventDefault(),s.stopPropagation(),L.toggleMenu.call(r,s)):L.focusFirstMenuItem.call(r,null,!0))},null,!1),this.bind(i.settings.menu,"keydown",s=>{s.key==="Escape"&&L.toggleMenu.call(r,s)}),this.bind(i.inputs.seek,"mousedown mousemove",s=>{const l=i.progress.getBoundingClientRect(),u=100/l.width*(s.pageX-l.left);s.currentTarget.setAttribute("seek-value",u)}),this.bind(i.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",s=>{const l=s.currentTarget,u="play-on-seeked";if(d.keyboardEvent(s)&&!["ArrowLeft","ArrowRight"].includes(s.key))return;r.lastSeekTime=Date.now();const f=l.hasAttribute(u),v=["mouseup","touchend","keyup"].includes(s.type);f&&v?(l.removeAttribute(u),De(r.play())):!v&&r.playing&&(l.setAttribute(u,""),r.pause())}),we.isIos){const s=sr.call(r,'input[type="range"]');Array.from(s).forEach(l=>this.bind(l,n,u=>Ro(u.target)))}this.bind(i.inputs.seek,n,s=>{const l=s.currentTarget;let u=l.getAttribute("seek-value");d.empty(u)&&(u=l.value),l.removeAttribute("seek-value"),r.currentTime=u/l.max*r.duration},"seek"),this.bind(i.progress,"mouseenter mouseleave mousemove",s=>L.updateSeekTooltip.call(r,s)),this.bind(i.progress,"mousemove touchmove",s=>{const{previewThumbnails:l}=r;l&&l.loaded&&l.startMove(s)}),this.bind(i.progress,"mouseleave touchend click",()=>{const{previewThumbnails:s}=r;s&&s.loaded&&s.endMove(!1,!0)}),this.bind(i.progress,"mousedown touchstart",s=>{const{previewThumbnails:l}=r;l&&l.loaded&&l.startScrubbing(s)}),this.bind(i.progress,"mouseup touchend",s=>{const{previewThumbnails:l}=r;l&&l.loaded&&l.endScrubbing(s)}),we.isWebKit&&Array.from(sr.call(r,'input[type="range"]')).forEach(s=>{this.bind(s,"input",l=>L.updateRangeFill.call(r,l.target))}),r.config.toggleInvert&&!d.element(i.display.duration)&&this.bind(i.display.currentTime,"click",()=>{r.currentTime!==0&&(r.config.invertTime=!r.config.invertTime,L.timeUpdate.call(r))}),this.bind(i.inputs.volume,n,s=>{r.volume=s.target.value},"volume"),this.bind(i.controls,"mouseenter mouseleave",s=>{i.controls.hover=!r.touch&&s.type==="mouseenter"}),i.fullscreen&&Array.from(i.fullscreen.children).filter(s=>!s.contains(i.container)).forEach(s=>{this.bind(s,"mouseenter mouseleave",l=>{i.controls&&(i.controls.hover=!r.touch&&l.type==="mouseenter")})}),this.bind(i.controls,"mousedown mouseup touchstart touchend touchcancel",s=>{i.controls.pressed=["mousedown","touchstart"].includes(s.type)}),this.bind(i.controls,"focusin",()=>{const{config:s,timers:l}=r;re(i.controls,s.classNames.noTransition,!0),ne.toggleControls.call(r,!0),setTimeout(()=>{re(i.controls,s.classNames.noTransition,!1)},0);const u=this.touch?3e3:4e3;clearTimeout(l.controls),l.controls=setTimeout(()=>ne.toggleControls.call(r,!1),u)}),this.bind(i.inputs.volume,"wheel",s=>{const l=s.webkitDirectionInvertedFromDevice,[u,f]=[s.deltaX,-s.deltaY].map(T=>l?-T:T),v=Math.sign(Math.abs(u)>Math.abs(f)?u:f);r.increaseVolume(v/50);const{volume:w}=r.media;(v===1&&w<1||v===-1&&w>0)&&s.preventDefault()},"volume",!1)}),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(t){const{player:r}=this,{elements:i}=r,{key:n,type:s,altKey:l,ctrlKey:u,metaKey:f,shiftKey:v}=t,w=s==="keydown",T=w&&n===this.lastKey;if(!(l||u||f||v)&&n){if(w){const N=document.activeElement;if(d.element(N)){const{editable:H}=r.config.selectors,{seek:S}=i.inputs;if(N!==S&&vt(N,H)||t.key===" "&&vt(N,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(n)&&(t.preventDefault(),t.stopPropagation()),n){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":T||(_=parseInt(n,10),r.currentTime=r.duration/10*_);break;case" ":case"k":T||De(r.togglePlay());break;case"ArrowUp":r.increaseVolume(.1);break;case"ArrowDown":r.decreaseVolume(.1);break;case"m":T||(r.muted=!r.muted);break;case"ArrowRight":r.forward();break;case"ArrowLeft":r.rewind();break;case"f":r.fullscreen.toggle();break;case"c":T||r.toggleCaptions();break;case"l":r.loop=!r.loop}n==="Escape"&&!r.fullscreen.usingNative&&r.fullscreen.active&&r.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null;var _}}toggleMenu(t){L.toggleMenu.call(this.player,t)}}function Gm(e,t){return e(t={exports:{}},t.exports),t.exports}var Ym=Gm(function(e,t){e.exports=function(){var r=function(){},i={},n={},s={};function l(_,N){_=_.push?_:[_];var H,S,P,$=[],x=_.length,q=x;for(H=function(V,le){le.length&&$.push(V),--q||N($)};x--;)S=_[x],(P=n[S])?H(S,P):(s[S]=s[S]||[]).push(H)}function u(_,N){if(_){var H=s[_];if(n[_]=N,H)for(;H.length;)H[0](_,N),H.splice(0,1)}}function f(_,N){_.call&&(_={success:_}),N.length?(_.error||r)(N):(_.success||r)(_)}function v(_,N,H,S){var P,$,x=document,q=H.async,V=(H.numRetries||0)+1,le=H.before||r,F=_.replace(/[\?|#].*$/,""),ge=_.replace(/^(css|img)!/,"");S=S||0,/(^css!|\.css$)/.test(F)?(($=x.createElement("link")).rel="stylesheet",$.href=ge,(P="hideFocus"in $)&&$.relList&&(P=0,$.rel="preload",$.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(F)?($=x.createElement("img")).src=ge:(($=x.createElement("script")).src=_,$.async=q===void 0||q),$.onload=$.onerror=$.onbeforeload=function(ae){var Xe=ae.type[0];if(P)try{$.sheet.cssText.length||(Xe="e")}catch(Tt){Tt.code!=18&&(Xe="e")}if(Xe=="e"){if((S+=1)<V)return v(_,N,H,S)}else if($.rel=="preload"&&$.as=="style")return $.rel="stylesheet";N(_,Xe,ae.defaultPrevented)},le(_,$)!==!1&&x.head.appendChild($)}function w(_,N,H){var S,P,$=(_=_.push?_:[_]).length,x=$,q=[];for(S=function(V,le,F){if(le=="e"&&q.push(V),le=="b"){if(!F)return;q.push(V)}--$||N(q)},P=0;P<x;P++)v(_[P],S,H)}function T(_,N,H){var S,P;if(N&&N.trim&&(S=N),P=(S?H:N)||{},S){if(S in i)throw"LoadJS";i[S]=!0}function $(x,q){w(_,function(V){f(P,V),x&&f({success:x,error:q},V),u(S,V)},P)}if(P.returnPromise)return new Promise($);$()}return T.ready=function(_,N){return l(_,function(H){f(N,H)}),T},T.done=function(_){u(_,[])},T.reset=function(){i={},n={},s={}},T.isDefined=function(_){return _ in i},T}()});function $n(e){return new Promise((t,r)=>{Ym(e,{success:t,error:r})})}function Xm(e){return d.empty(e)?null:d.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}function Jm(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&t.length===5?t[4]:null}function Yt(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,j.call(this,this.media,e?"play":"pause"))}const tn={setup(){const e=this;re(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,Dt.call(e),d.object(window.Vimeo)?tn.ready.call(e):$n(e.config.urls.vimeo.sdk).then(()=>{tn.ready.call(e)}).catch(t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)})},ready(){const e=this,t=e.config.vimeo,{premium:r,referrerPolicy:i,...n}=t;let s=e.media.getAttribute("src"),l="";d.empty(s)?(s=e.media.getAttribute(e.config.attributes.embed.id),l=e.media.getAttribute(e.config.attributes.embed.hash)):l=Jm(s);const u=l?{h:l}:{};r&&Object.assign(n,{controls:!1,sidedock:!1});const f=Vo({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...u,...n}),v=Xm(s),w=B("iframe"),T=en(e.config.urls.vimeo.iframe,v,f);if(w.setAttribute("src",T),w.setAttribute("allowfullscreen",""),w.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),d.empty(i)||w.setAttribute("referrerPolicy",i),r||!t.customControls)w.setAttribute("data-poster",e.poster),e.media=Vr(w,e.media);else{const x=B("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});x.appendChild(w),e.media=Vr(x,e.media)}t.customControls||fr(en(e.config.urls.vimeo.api,T)).then(x=>{!d.empty(x)&&x.thumbnail_url&&ne.setPoster.call(e,x.thumbnail_url).catch(()=>{})}),e.embed=new window.Vimeo.Player(w,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(Yt.call(e,!0),e.embed.play()),e.media.pause=()=>(Yt.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:_}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>_,set(x){const{embed:q,media:V,paused:le,volume:F}=e,ge=le&&!q.hasPlayed;V.seeking=!0,j.call(e,V,"seeking"),Promise.resolve(ge&&q.setVolume(0)).then(()=>q.setCurrentTime(x)).then(()=>ge&&q.pause()).then(()=>ge&&q.setVolume(F)).catch(()=>{})}});let N=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>N,set(x){e.embed.setPlaybackRate(x).then(()=>{N=x,j.call(e,e.media,"ratechange")}).catch(()=>{e.options.speed=[1]})}});let{volume:H}=e.config;Object.defineProperty(e.media,"volume",{get:()=>H,set(x){e.embed.setVolume(x).then(()=>{H=x,j.call(e,e.media,"volumechange")})}});let{muted:S}=e.config;Object.defineProperty(e.media,"muted",{get:()=>S,set(x){const q=!!d.boolean(x)&&x;e.embed.setMuted(!!q||e.config.muted).then(()=>{S=q,j.call(e,e.media,"volumechange")})}});let P,{loop:$}=e.config;Object.defineProperty(e.media,"loop",{get:()=>$,set(x){const q=d.boolean(x)?x:e.config.loop.active;e.embed.setLoop(q).then(()=>{$=q})}}),e.embed.getVideoUrl().then(x=>{P=x,L.setDownloadUrl.call(e)}).catch(x=>{this.debug.warn(x)}),Object.defineProperty(e.media,"currentSrc",{get:()=>P}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then(x=>{const[q,V]=x;e.embed.ratio=Ho(q,V),Dt.call(this)}),e.embed.setAutopause(e.config.autopause).then(x=>{e.config.autopause=x}),e.embed.getVideoTitle().then(x=>{e.config.title=x,ne.setTitle.call(this)}),e.embed.getCurrentTime().then(x=>{_=x,j.call(e,e.media,"timeupdate")}),e.embed.getDuration().then(x=>{e.media.duration=x,j.call(e,e.media,"durationchange")}),e.embed.getTextTracks().then(x=>{e.media.textTracks=x,Q.setup.call(e)}),e.embed.on("cuechange",({cues:x=[]})=>{const q=x.map(V=>Bm(V.text));Q.updateCues.call(e,q)}),e.embed.on("loaded",()=>{e.embed.getPaused().then(x=>{Yt.call(e,!x),x||j.call(e,e.media,"playing")}),d.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)}),e.embed.on("bufferstart",()=>{j.call(e,e.media,"waiting")}),e.embed.on("bufferend",()=>{j.call(e,e.media,"playing")}),e.embed.on("play",()=>{Yt.call(e,!0),j.call(e,e.media,"playing")}),e.embed.on("pause",()=>{Yt.call(e,!1)}),e.embed.on("timeupdate",x=>{e.media.seeking=!1,_=x.seconds,j.call(e,e.media,"timeupdate")}),e.embed.on("progress",x=>{e.media.buffered=x.percent,j.call(e,e.media,"progress"),parseInt(x.percent,10)===1&&j.call(e,e.media,"canplaythrough"),e.embed.getDuration().then(q=>{q!==e.media.duration&&(e.media.duration=q,j.call(e,e.media,"durationchange"))})}),e.embed.on("seeked",()=>{e.media.seeking=!1,j.call(e,e.media,"seeked")}),e.embed.on("ended",()=>{e.media.paused=!0,j.call(e,e.media,"ended")}),e.embed.on("error",x=>{e.media.error=x,j.call(e,e.media,"error")}),t.customControls&&setTimeout(()=>ne.build.call(e),0)}};function Qm(e){return d.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}function Xt(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,j.call(this,this.media,e?"play":"pause"))}function Zm(e){return e.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const Fr={setup(){if(re(this.elements.wrapper,this.config.classNames.embed,!0),d.object(window.YT)&&d.function(window.YT.Player))Fr.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{d.function(e)&&e(),Fr.ready.call(this)},$n(this.config.urls.youtube.sdk).catch(t=>{this.debug.warn("YouTube API failed to load",t)})}},getTitle(e){fr(en(this.config.urls.youtube.api,e)).then(t=>{if(d.object(t)){const{title:r,height:i,width:n}=t;this.config.title=r,ne.setTitle.call(this),this.embed.ratio=Ho(n,i)}Dt.call(this)}).catch(()=>{Dt.call(this)})},ready(){const e=this,t=e.config.youtube,r=e.media&&e.media.getAttribute("id");if(!d.empty(r)&&r.startsWith("youtube-"))return;let i=e.media.getAttribute("src");d.empty(i)&&(i=e.media.getAttribute(this.config.attributes.embed.id));const n=Qm(i),s=B("div",{id:Fm(e.provider),"data-poster":t.customControls?e.poster:void 0});if(e.media=Vr(s,e.media),t.customControls){const l=u=>`https://i.ytimg.com/vi/${n}/${u}default.jpg`;Or(l("maxres"),121).catch(()=>Or(l("sd"),121)).catch(()=>Or(l("hq"))).then(u=>ne.setPoster.call(e,u.src)).then(u=>{u.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}e.embed=new window.YT.Player(e.media,{videoId:n,host:Zm(t),playerVars:ue({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(l){if(!e.media.error){const u=l.data,f={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[u]||"An unknown error occurred";e.media.error={code:u,message:f},j.call(e,e.media,"error")}},onPlaybackRateChange(l){const u=l.target;e.media.playbackRate=u.getPlaybackRate(),j.call(e,e.media,"ratechange")},onReady(l){if(d.function(e.media.play))return;const u=l.target;Fr.getTitle.call(e,n),e.media.play=()=>{Xt.call(e,!0),u.playVideo()},e.media.pause=()=>{Xt.call(e,!1),u.pauseVideo()},e.media.stop=()=>{u.stopVideo()},e.media.duration=u.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(u.getCurrentTime()),set(T){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,j.call(e,e.media,"seeking"),u.seekTo(T)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>u.getPlaybackRate(),set(T){u.setPlaybackRate(T)}});let{volume:f}=e.config;Object.defineProperty(e.media,"volume",{get:()=>f,set(T){f=T,u.setVolume(100*f),j.call(e,e.media,"volumechange")}});let{muted:v}=e.config;Object.defineProperty(e.media,"muted",{get:()=>v,set(T){const _=d.boolean(T)?T:v;v=_,u[_?"mute":"unMute"](),u.setVolume(100*f),j.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>u.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const w=u.getAvailablePlaybackRates();e.options.speed=w.filter(T=>e.config.speed.options.includes(T)),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),j.call(e,e.media,"timeupdate"),j.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval(()=>{e.media.buffered=u.getVideoLoadedFraction(),(e.media.lastBuffered===null||e.media.lastBuffered<e.media.buffered)&&j.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,e.media.buffered===1&&(clearInterval(e.timers.buffering),j.call(e,e.media,"canplaythrough"))},200),t.customControls&&setTimeout(()=>ne.build.call(e),50)},onStateChange(l){const u=l.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(l.data)&&(e.media.seeking=!1,j.call(e,e.media,"seeked")),l.data){case-1:j.call(e,e.media,"timeupdate"),e.media.buffered=u.getVideoLoadedFraction(),j.call(e,e.media,"progress");break;case 0:Xt.call(e,!1),e.media.loop?(u.stopVideo(),u.playVideo()):j.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(Xt.call(e,!0),j.call(e,e.media,"playing"),e.timers.playing=setInterval(()=>{j.call(e,e.media,"timeupdate")},50),e.media.duration!==u.getDuration()&&(e.media.duration=u.getDuration(),j.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),Xt.call(e,!1);break;case 3:j.call(e,e.media,"waiting")}j.call(e,e.elements.container,"statechange",!1,{code:l.data})}}})}},Uo={setup(){this.media?(re(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),re(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&re(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=B("div",{class:this.config.classNames.video}),Io(this.media,this.elements.wrapper),this.elements.poster=B("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?ot.setup.call(this):this.isYouTube?Fr.setup.call(this):this.isVimeo&&tn.setup.call(this)):this.debug.warn("No media element found!")}};class eg{constructor(t){M(this,"load",()=>{this.enabled&&(d.object(window.google)&&d.object(window.google.ima)?this.ready():$n(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),M(this,"ready",()=>{var r;this.enabled||((r=this).manager&&r.manager.destroy(),r.elements.displayContainer&&r.elements.displayContainer.destroy(),r.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),M(this,"setupIMA",()=>{this.elements.container=B("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,r=>this.onAdsManagerLoaded(r),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r=>this.onAdError(r),!1),this.requestAds()}),M(this,"requestAds",()=>{const{container:r}=this.player.elements;try{const i=new google.ima.AdsRequest;i.adTagUrl=this.tagUrl,i.linearAdSlotWidth=r.offsetWidth,i.linearAdSlotHeight=r.offsetHeight,i.nonLinearAdSlotWidth=r.offsetWidth,i.nonLinearAdSlotHeight=r.offsetHeight,i.forceNonLinearFullSlot=!1,i.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(i)}catch(i){this.onAdError(i)}}),M(this,"pollCountdown",(r=!1)=>{if(!r)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const i=Zr(Math.max(this.manager.getRemainingTime(),0)),n=`${ye.get("advertisement",this.player.config)} - ${i}`;this.elements.container.setAttribute("data-badge-text",n)},100)}),M(this,"onAdsManagerLoaded",r=>{if(!this.enabled)return;const i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,this.manager=r.getAdsManager(this.player,i),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,n=>this.onAdError(n)),Object.keys(google.ima.AdEvent.Type).forEach(n=>{this.manager.addEventListener(google.ima.AdEvent.Type[n],s=>this.onAdEvent(s))}),this.trigger("loaded")}),M(this,"addCuePoints",()=>{d.empty(this.cuePoints)||this.cuePoints.forEach(r=>{if(r!==0&&r!==-1&&r<this.player.duration){const i=this.player.elements.progress;if(d.element(i)){const n=100/this.player.duration*r,s=B("span",{class:this.player.config.classNames.cues});s.style.left=`${n.toString()}%`,i.appendChild(s)}}})}),M(this,"onAdEvent",r=>{const{container:i}=this.player.elements,n=r.getAd(),s=r.getAdData();switch((l=>{j.call(this.player,this.player.media,`ads${l.replace(/_/g,"").toLowerCase()}`)})(r.type),r.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),n.isLinear()||(n.width=i.offsetWidth,n.height=i.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:s.adError&&this.player.debug.warn(`Non-fatal ad error: ${s.adError.getMessage()}`)}}),M(this,"onAdError",r=>{this.cancel(),this.player.debug.warn("Ads error",r)}),M(this,"listeners",()=>{const{container:r}=this.player.elements;let i;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{i=this.player.currentTime}),this.player.on("seeked",()=>{const n=this.player.currentTime;d.empty(this.cuePoints)||this.cuePoints.forEach((s,l)=>{i<s&&s<n&&(this.manager.discardAdBreak(),this.cuePoints.splice(l,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(r.offsetWidth,r.offsetHeight,google.ima.ViewMode.NORMAL)})}),M(this,"play",()=>{const{container:r}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(r.offsetWidth,r.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(i){this.onAdError(i)}}).catch(()=>{})}),M(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,De(this.player.media.play())}),M(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),M(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),M(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(r=>{this.on("loaded",r),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),M(this,"trigger",(r,...i)=>{const n=this.events[r];d.array(n)&&n.forEach(s=>{d.function(s)&&s.apply(this,i)})}),M(this,"on",(r,i)=>(d.array(this.events[r])||(this.events[r]=[]),this.events[r].push(i),this)),M(this,"startSafetyTimer",(r,i)=>{this.player.debug.log(`Safety timer invoked from: ${i}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},r)}),M(this,"clearSafetyTimer",r=>{d.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${r}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((r,i)=>{this.on("loaded",r),this.on("error",i)}),this.load()}get enabled(){const{config:t}=this;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!d.empty(t.publisherId)||d.url(t.tagUrl))}get tagUrl(){const{config:t}=this;return d.url(t.tagUrl)?t.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${Vo({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId})}`}}function zo(e=0,t=0,r=255){return Math.min(Math.max(e,t),r)}const tg=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach(r=>{const i={};r.split(/\r\n|\n|\r/).forEach(n=>{if(d.number(i.startTime)){if(!d.empty(n.trim())&&d.empty(i.text)){const s=n.trim().split("#xywh=");[i.text]=s,s[1]&&([i.x,i.y,i.w,i.h]=s[1].split(","))}}else{const s=n.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);s&&(i.startTime=60*Number(s[1]||0)*60+60*Number(s[2])+Number(s[3])+ +`0.${s[4]}`,i.endTime=60*Number(s[6]||0)*60+60*Number(s[7])+Number(s[8])+ +`0.${s[9]}`)}}),i.text&&t.push(i)}),t},Wa=(e,t)=>{const r={};return e>t.width/t.height?(r.width=t.width,r.height=1/e*t.width):(r.height=t.height,r.width=e*t.height),r};class rn{constructor(t){M(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),M(this,"getThumbnails",()=>new Promise(r=>{const{src:i}=this.player.config.previewThumbnails;if(d.empty(i))throw new Error("Missing previewThumbnails.src config attribute");const n=()=>{this.thumbnails.sort((s,l)=>s.height-l.height),this.player.debug.log("Preview thumbnails",this.thumbnails),r()};if(d.function(i))i(s=>{this.thumbnails=s,n()});else{const s=(d.string(i)?[i]:i).map(l=>this.getThumbnail(l));Promise.all(s).then(n)}})),M(this,"getThumbnail",r=>new Promise(i=>{fr(r).then(n=>{const s={frames:tg(n),height:null,urlPrefix:""};s.frames[0].text.startsWith("/")||s.frames[0].text.startsWith("http://")||s.frames[0].text.startsWith("https://")||(s.urlPrefix=r.substring(0,r.lastIndexOf("/")+1));const l=new Image;l.onload=()=>{s.height=l.naturalHeight,s.width=l.naturalWidth,this.thumbnails.push(s),i()},l.src=s.urlPrefix+s.frames[0].text})})),M(this,"startMove",r=>{if(this.loaded&&d.event(r)&&["touchmove","mousemove"].includes(r.type)&&this.player.media.duration){if(r.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var i,n;const s=this.player.elements.progress.getBoundingClientRect(),l=100/s.width*(r.pageX-s.left);this.seekTime=this.player.media.duration*(l/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=r.pageX,this.elements.thumb.time.innerText=Zr(this.seekTime);const u=(i=this.player.config.markers)===null||i===void 0||(n=i.points)===null||n===void 0?void 0:n.find(({time:f})=>f===Math.round(this.seekTime));u&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${u.label}<br>`)}this.showImageAtCurrentTime()}}),M(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),M(this,"startScrubbing",r=>{(d.nullOrUndefined(r.button)||r.button===!1||r.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),M(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):Mn.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),M(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),M(this,"render",()=>{this.elements.thumb.container=B("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=B("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const r=B("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=B("span",{},"00:00"),r.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(r),d.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=B("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),M(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),M(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const r=this.thumbnails[0].frames.findIndex(s=>this.seekTime>=s.startTime&&this.seekTime<=s.endTime),i=r>=0;let n=0;this.mouseDown||this.toggleThumbContainer(i),i&&(this.thumbnails.forEach((s,l)=>{this.loadedImages.includes(s.frames[r].text)&&(n=l)}),r!==this.showingThumb&&(this.showingThumb=r,this.loadImage(n)))}),M(this,"loadImage",(r=0)=>{const i=this.showingThumb,n=this.thumbnails[r],{urlPrefix:s}=n,l=n.frames[i],u=n.frames[i].text,f=s+u;if(this.currentImageElement&&this.currentImageElement.dataset.filename===u)this.showImage(this.currentImageElement,l,r,i,u,!1),this.currentImageElement.dataset.index=i,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const v=new Image;v.src=f,v.dataset.index=i,v.dataset.filename=u,this.showingThumbFilename=u,this.player.debug.log(`Loading image: ${f}`),v.onload=()=>this.showImage(v,l,r,i,u,!0),this.loadingImage=v,this.removeOldImages(v)}}),M(this,"showImage",(r,i,n,s,l,u=!0)=>{this.player.debug.log(`Showing thumb: ${l}. num: ${s}. qual: ${n}. newimg: ${u}`),this.setImageSizeAndOffset(r,i),u&&(this.currentImageContainer.appendChild(r),this.currentImageElement=r,this.loadedImages.includes(l)||this.loadedImages.push(l)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(n,r,i,l))}),M(this,"removeOldImages",r=>{Array.from(this.currentImageContainer.children).forEach(i=>{if(i.tagName.toLowerCase()!=="img")return;const n=this.usingSprites?500:1e3;if(i.dataset.index!==r.dataset.index&&!i.dataset.deleting){i.dataset.deleting=!0;const{currentImageContainer:s}=this;setTimeout(()=>{s.removeChild(i),this.player.debug.log(`Removing thumb: ${i.dataset.filename}`)},n)}})}),M(this,"preloadNearby",(r,i=!0)=>new Promise(n=>{setTimeout(()=>{const s=this.thumbnails[0].frames[r].text;if(this.showingThumbFilename===s){let l;l=i?this.thumbnails[0].frames.slice(r):this.thumbnails[0].frames.slice(0,r).reverse();let u=!1;l.forEach(f=>{const v=f.text;if(v!==s&&!this.loadedImages.includes(v)){u=!0,this.player.debug.log(`Preloading thumb filename: ${v}`);const{urlPrefix:w}=this.thumbnails[0],T=w+v,_=new Image;_.src=T,_.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${v}`),this.loadedImages.includes(v)||this.loadedImages.push(v),n()}}}),u||n()}},300)})),M(this,"getHigherQuality",(r,i,n,s)=>{if(r<this.thumbnails.length-1){let l=i.naturalHeight;this.usingSprites&&(l=n.h),l<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===s&&(this.player.debug.log(`Showing higher quality thumb for: ${s}`),this.loadImage(r+1))},300)}}),M(this,"toggleThumbContainer",(r=!1,i=!1)=>{const n=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(n,r),!r&&i&&(this.showingThumb=null,this.showingThumbFilename=null)}),M(this,"toggleScrubbingContainer",(r=!1)=>{const i=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(i,r),r||(this.showingThumb=null,this.showingThumbFilename=null)}),M(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),M(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:r}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(r.clientHeight>20&&r.clientWidth<20){const i=Math.floor(r.clientHeight*this.thumbAspectRatio);r.style.width=`${i}px`}else if(r.clientHeight<20&&r.clientWidth>20){const i=Math.floor(r.clientWidth/this.thumbAspectRatio);r.style.height=`${i}px`}}else{const i=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);r.style.height=`${this.thumbContainerHeight}px`,r.style.width=`${i}px`}this.setThumbContainerPos()}),M(this,"setThumbContainerPos",()=>{const r=this.player.elements.progress.getBoundingClientRect(),i=this.player.elements.container.getBoundingClientRect(),{container:n}=this.elements.thumb,s=i.left-r.left+10,l=i.right-r.left-n.clientWidth-10,u=this.mousePosX-r.left-n.clientWidth/2,f=zo(u,s,l);n.style.left=`${f}px`,n.style.setProperty("--preview-arrow-offset",u-f+"px")}),M(this,"setScrubbingContainerSize",()=>{const{width:r,height:i}=Wa(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${r}px`,this.elements.scrubbing.container.style.height=`${i}px`}),M(this,"setImageSizeAndOffset",(r,i)=>{if(!this.usingSprites)return;const n=this.thumbContainerHeight/i.h;r.style.height=r.naturalHeight*n+"px",r.style.width=r.naturalWidth*n+"px",r.style.left=`-${i.x*n}px`,r.style.top=`-${i.y*n}px`}),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:t}=Wa(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return t}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}const nn={insertElements(e,t){d.string(t)?Da(e,this.media,{src:t}):d.array(t)&&t.forEach(r=>{Da(e,this.media,r)})},change(e){$o(e,"sources.length")?(ot.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],Ue(this.media),this.media=null,d.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:r}=e,[{provider:i=nt.html5,src:n}]=t,s=i==="html5"?r:"div",l=i==="html5"?{}:{src:n};Object.assign(this,{provider:i,type:r,supported:he.check(r,i,this.config.playsinline),media:B(s,l)}),this.elements.container.appendChild(this.media),d.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),d.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),ne.addStyleHook.call(this),this.isHTML5&&nn.insertElements.call(this,"source",t),this.config.title=e.title,Uo.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&nn.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ne.build.call(this),this.isHTML5&&this.media.load(),d.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new rn(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class lr{constructor(t,r){if(M(this,"play",()=>d.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>De(this.media.play())),this.media.play()):null),M(this,"pause",()=>this.playing&&d.function(this.media.pause)?this.media.pause():null),M(this,"togglePlay",u=>(d.boolean(u)?u:!this.playing)?this.play():this.pause()),M(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):d.function(this.media.stop)&&this.media.stop()}),M(this,"restart",()=>{this.currentTime=0}),M(this,"rewind",u=>{this.currentTime-=d.number(u)?u:this.config.seekTime}),M(this,"forward",u=>{this.currentTime+=d.number(u)?u:this.config.seekTime}),M(this,"increaseVolume",u=>{const f=this.media.muted?0:this.volume;this.volume=f+(d.number(u)?u:0)}),M(this,"decreaseVolume",u=>{this.increaseVolume(-u)}),M(this,"airplay",()=>{he.airplay&&this.media.webkitShowPlaybackTargetPicker()}),M(this,"toggleControls",u=>{if(this.supported.ui&&!this.isAudio){const f=Wr(this.elements.container,this.config.classNames.hideControls),v=u===void 0?void 0:!u,w=re(this.elements.container,this.config.classNames.hideControls,v);if(w&&d.array(this.config.controls)&&this.config.controls.includes("settings")&&!d.empty(this.config.settings)&&L.toggleMenu.call(this,!1),w!==f){const T=w?"controlshidden":"controlsshown";j.call(this,this.media,T)}return!w}return!1}),M(this,"on",(u,f)=>{J.call(this,this.elements.container,u,f)}),M(this,"once",(u,f)=>{Mn.call(this,this.elements.container,u,f)}),M(this,"off",(u,f)=>{Qr(this.elements.container,u,f)}),M(this,"destroy",(u,f=!1)=>{if(!this.ready)return;const v=()=>{document.body.style.overflow="",this.embed=null,f?(Object.keys(this.elements).length&&(Ue(this.elements.buttons.play),Ue(this.elements.captions),Ue(this.elements.controls),Ue(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),d.function(u)&&u()):(Im.call(this),ot.cancelRequests.call(this),Vr(this.elements.original,this.elements.container),j.call(this,this.elements.original,"destroyed",!0),d.function(u)&&u.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(ne.toggleNativeControls.call(this,!0),v()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&d.function(this.embed.destroy)&&this.embed.destroy(),v()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(v),setTimeout(v,200))}),M(this,"supports",u=>he.mime.call(this,u)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=he.touch,this.media=t,d.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||d.nodeList(this.media)||d.array(this.media))&&(this.media=this.media[0]),this.config=ue({},Wo,lr.defaults,r||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new zm(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",he),d.nullOrUndefined(this.media)||!d.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!he.check().api)return void this.debug.error("Setup failed: no support");const i=this.media.cloneNode(!0);i.autoplay=!1,this.elements.original=i;const n=this.media.tagName.toLowerCase();let s=null,l=null;switch(n){case"div":if(s=this.media.querySelector("iframe"),d.element(s)){if(l=jo(s.getAttribute("src")),this.provider=Um(l.toString()),this.elements.container=this.media,this.media=s,this.elements.container.className="",l.search.length){const u=["1","true"];u.includes(l.searchParams.get("autoplay"))&&(this.config.autoplay=!0),u.includes(l.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=u.includes(l.searchParams.get("playsinline")),this.config.youtube.hl=l.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(d.empty(this.provider)||!Object.values(nt).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=qi.video;break;case"video":case"audio":this.type=n,this.provider=nt.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=he.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new Km(this),this.storage=new or(this),this.media.plyr=this,d.element(this.elements.container)||(this.elements.container=B("div"),Io(this.media,this.elements.container)),ne.migrateStyles.call(this),ne.addStyleHook.call(this),Uo.setup.call(this),this.config.debug&&J.call(this,this.elements.container,this.config.events.join(" "),u=>{this.debug.log(`event: ${u.type}`)}),this.fullscreen=new Ie(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ne.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new eg(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>De(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new rn(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===nt.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===nt.youtube}get isVimeo(){return this.provider===nt.vimeo}get isVideo(){return this.type===qi.video}get isAudio(){return this.type===qi.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(t){if(!this.duration)return;const r=d.number(t)&&t>0;this.media.currentTime=r?Math.min(t,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:t}=this.media;return d.number(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const t=parseFloat(this.config.duration),r=(this.media||{}).duration,i=d.number(r)&&r!==1/0?r:0;return t||i}set volume(t){let r=t;d.string(r)&&(r=Number(r)),d.number(r)||(r=this.storage.get("volume")),d.number(r)||({volume:r}=this.config),r>1&&(r=1),r<0&&(r=0),this.config.volume=r,this.media.volume=r,!d.empty(t)&&this.muted&&r>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(t){let r=t;d.boolean(r)||(r=this.storage.get("muted")),d.boolean(r)||(r=this.config.muted),this.config.muted=r,this.media.muted=r}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(t){let r=null;d.number(t)&&(r=t),d.number(r)||(r=this.storage.get("speed")),d.number(r)||(r=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:n}=this;r=zo(r,i,n),this.config.speed.selected=r,setTimeout(()=>{this.media&&(this.media.playbackRate=r)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(t){const r=this.config.quality,i=this.options.quality;if(!i.length)return;let n=[!d.empty(t)&&Number(t),this.storage.get("quality"),r.selected,r.default].find(d.number),s=!0;if(!i.includes(n)){const l=No(i,n);this.debug.warn(`Unsupported quality option: ${n}, using ${l} instead`),n=l,s=!1}r.selected=n,this.media.quality=n,s&&this.storage.set({quality:n})}get quality(){return this.media.quality}set loop(t){const r=d.boolean(t)?t:this.config.loop.active;this.config.loop.active=r,this.media.loop=r}get loop(){return!!this.media.loop}set source(t){nn.change.call(this,t)}get source(){return this.media.currentSrc}get download(){const{download:t}=this.config.urls;return d.url(t)?t:this.source}set download(t){d.url(t)&&(this.config.urls.download=t,L.setDownloadUrl.call(this))}set poster(t){this.isVideo?ne.setPoster.call(this,t,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const t=Ur(Rn.call(this));return d.array(t)?t.join(":"):t}set ratio(t){this.isVideo?d.string(t)&&Fo(t)?(this.config.ratio=Ur(t),Dt.call(this)):this.debug.error(`Invalid aspect ratio specified (${t})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(t){this.config.autoplay=d.boolean(t)?t:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(t){Q.toggle.call(this,t,!1)}set currentTrack(t){Q.set.call(this,t,!1),Q.setup.call(this)}get currentTrack(){const{toggled:t,currentTrack:r}=this.captions;return t?r:-1}set language(t){Q.setLanguage.call(this,t,!1)}get language(){return(Q.getCurrentTrack.call(this)||{}).language}set pip(t){if(!he.pip)return;const r=d.boolean(t)?t:!this.pip;d.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(r?Hi.active:Hi.inactive),d.function(this.media.requestPictureInPicture)&&(!this.pip&&r?this.media.requestPictureInPicture():this.pip&&!r&&document.exitPictureInPicture())}get pip(){return he.pip?d.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Hi.active:null}setPreviewThumbnails(t){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,t),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new rn(this))}static supported(t,r){return he.check(t,r)}static loadSprite(t,r){return Do(t,r)}static setup(t,r={}){let i=null;return d.string(t)?i=Array.from(document.querySelectorAll(t)):d.nodeList(t)?i=Array.from(t):d.array(t)&&(i=t.filter(d.element)),d.empty(i)?null:i.map(n=>new lr(n,r))}}lr.defaults=Lm(Wo);var sn=!1,an=!1,wt=[],on=-1;function rg(e){ig(e)}function ig(e){wt.includes(e)||wt.push(e),ng()}function Ko(e){let t=wt.indexOf(e);t!==-1&&t>on&&wt.splice(t,1)}function ng(){!an&&!sn&&(sn=!0,queueMicrotask(sg))}function sg(){sn=!1,an=!0;for(let e=0;e<wt.length;e++)wt[e](),on=e;wt.length=0,on=-1,an=!1}var Vt,Wt,pr,Go,ln=!0;function ag(e){ln=!1,e(),ln=!0}function og(e){Vt=e.reactive,pr=e.release,Wt=t=>e.effect(t,{scheduler:r=>{ln?rg(r):r()}}),Go=e.raw}function Ua(e){Wt=e}function lg(e){let t=()=>{};return[i=>{let n=Wt(i);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(s=>s())}),e._x_effects.add(n),t=()=>{n!==void 0&&(e._x_effects.delete(n),pr(n))},n},()=>{t()}]}function tr(e,t,r={}){e.dispatchEvent(new CustomEvent(t,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function ct(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(n=>ct(n,t));return}let r=!1;if(t(e,()=>r=!0),r)return;let i=e.firstElementChild;for(;i;)ct(i,t),i=i.nextElementSibling}function Ke(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var za=!1;function cg(){za&&Ke("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),za=!0,document.body||Ke("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),tr(document,"alpine:init"),tr(document,"alpine:initializing"),qn(),dg(t=>Ge(t,ct)),On(t=>Nn(t)),nl((t,r)=>{Vn(t,r).forEach(i=>i())});let e=t=>!ei(t.parentElement,!0);Array.from(document.querySelectorAll(Jo().join(","))).filter(e).forEach(t=>{Ge(t)}),tr(document,"alpine:initialized")}var In=[],Yo=[];function Xo(){return In.map(e=>e())}function Jo(){return In.concat(Yo).map(e=>e())}function Qo(e){In.push(e)}function Zo(e){Yo.push(e)}function ei(e,t=!1){return ti(e,r=>{if((t?Jo():Xo()).some(n=>r.matches(n)))return!0})}function ti(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return ti(e.parentElement,t)}}function ug(e){return Xo().some(t=>e.matches(t))}var el=[];function hg(e){el.push(e)}function Ge(e,t=ct,r=()=>{}){Ag(()=>{t(e,(i,n)=>{r(i,n),el.forEach(s=>s(i,n)),Vn(i,i.attributes).forEach(s=>s()),i._x_ignore&&n()})})}function Nn(e){ct(e,t=>{al(t),fg(t)})}var tl=[],rl=[],il=[];function dg(e){il.push(e)}function On(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,rl.push(t))}function nl(e){tl.push(e)}function sl(e,t,r){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(r)}function al(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([r,i])=>{(t===void 0||t.includes(r))&&(i.forEach(n=>n()),delete e._x_attributeCleanups[r])})}function fg(e){if(e._x_cleanups)for(;e._x_cleanups.length;)e._x_cleanups.pop()()}var Fn=new MutationObserver(Bn),Hn=!1;function qn(){Fn.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Hn=!0}function ol(){pg(),Fn.disconnect(),Hn=!1}var rr=[],Bi=!1;function pg(){rr=rr.concat(Fn.takeRecords()),rr.length&&!Bi&&(Bi=!0,queueMicrotask(()=>{mg(),Bi=!1}))}function mg(){Bn(rr),rr.length=0}function me(e){if(!Hn)return e();ol();let t=e();return qn(),t}var Dn=!1,zr=[];function gg(){Dn=!0}function vg(){Dn=!1,Bn(zr),zr=[]}function Bn(e){if(Dn){zr=zr.concat(e);return}let t=[],r=[],i=new Map,n=new Map;for(let s=0;s<e.length;s++)if(!e[s].target._x_ignoreMutationObserver&&(e[s].type==="childList"&&(e[s].addedNodes.forEach(l=>l.nodeType===1&&t.push(l)),e[s].removedNodes.forEach(l=>l.nodeType===1&&r.push(l))),e[s].type==="attributes")){let l=e[s].target,u=e[s].attributeName,f=e[s].oldValue,v=()=>{i.has(l)||i.set(l,[]),i.get(l).push({name:u,value:l.getAttribute(u)})},w=()=>{n.has(l)||n.set(l,[]),n.get(l).push(u)};l.hasAttribute(u)&&f===null?v():l.hasAttribute(u)?(w(),v()):w()}n.forEach((s,l)=>{al(l,s)}),i.forEach((s,l)=>{tl.forEach(u=>u(l,s))});for(let s of r)t.includes(s)||(rl.forEach(l=>l(s)),Nn(s));t.forEach(s=>{s._x_ignoreSelf=!0,s._x_ignore=!0});for(let s of t)r.includes(s)||s.isConnected&&(delete s._x_ignoreSelf,delete s._x_ignore,il.forEach(l=>l(s)),s._x_ignore=!0,s._x_ignoreSelf=!0);t.forEach(s=>{delete s._x_ignoreSelf,delete s._x_ignore}),t=null,r=null,i=null,n=null}function ll(e){return gr(Bt(e))}function mr(e,t,r){return e._x_dataStack=[t,...Bt(r||e)],()=>{e._x_dataStack=e._x_dataStack.filter(i=>i!==t)}}function Bt(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?Bt(e.host):e.parentNode?Bt(e.parentNode):[]}function gr(e){return new Proxy({objects:e},bg)}var bg={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(t=>Object.keys(t))))},has({objects:e},t){return t==Symbol.unscopables?!1:e.some(r=>Object.prototype.hasOwnProperty.call(r,t))},get({objects:e},t,r){return t=="toJSON"?yg:Reflect.get(e.find(i=>Object.prototype.hasOwnProperty.call(i,t))||{},t,r)},set({objects:e},t,r,i){const n=e.find(l=>Object.prototype.hasOwnProperty.call(l,t))||e[e.length-1],s=Object.getOwnPropertyDescriptor(n,t);return s!=null&&s.set&&(s!=null&&s.get)?Reflect.set(n,t,r,i):Reflect.set(n,t,r)}};function yg(){return Reflect.ownKeys(this).reduce((t,r)=>(t[r]=Reflect.get(this,r),t),{})}function cl(e){let t=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,r=(i,n="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([s,{value:l,enumerable:u}])=>{if(u===!1||l===void 0)return;let f=n===""?s:`${n}.${s}`;typeof l=="object"&&l!==null&&l._x_interceptor?i[s]=l.initialize(e,f,s):t(l)&&l!==i&&!(l instanceof Element)&&r(l,f)})};return r(e)}function ul(e,t=()=>{}){let r={initialValue:void 0,_x_interceptor:!0,initialize(i,n,s){return e(this.initialValue,()=>wg(i,n),l=>cn(i,n,l),n,s)}};return t(r),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let n=r.initialize.bind(r);r.initialize=(s,l,u)=>{let f=i.initialize(s,l,u);return r.initialValue=f,n(s,l,u)}}else r.initialValue=i;return r}}function wg(e,t){return t.split(".").reduce((r,i)=>r[i],e)}function cn(e,t,r){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=r;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),cn(e[t[0]],t.slice(1),r)}}var hl={};function Fe(e,t){hl[e]=t}function un(e,t){return Object.entries(hl).forEach(([r,i])=>{let n=null;function s(){if(n)return n;{let[l,u]=vl(t);return n={interceptor:ul,...l},On(t,u),n}}Object.defineProperty(e,`$${r}`,{get(){return i(t,s())},enumerable:!1})}),e}function Eg(e,t,r,...i){try{return r(...i)}catch(n){cr(n,e,t)}}function cr(e,t,r=void 0){Object.assign(e,{el:t,expression:r}),console.warn(`Alpine Expression Error: ${e.message}

${r?'Expression: "'+r+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var Hr=!0;function dl(e){let t=Hr;Hr=!1;let r=e();return Hr=t,r}function Et(e,t,r={}){let i;return Ce(e,t)(n=>i=n,r),i}function Ce(...e){return fl(...e)}var fl=pl;function _g(e){fl=e}function pl(e,t){let r={};un(r,e);let i=[r,...Bt(e)],n=typeof t=="function"?Sg(i,t):Tg(i,t,e);return Eg.bind(null,e,t,n)}function Sg(e,t){return(r=()=>{},{scope:i={},params:n=[]}={})=>{let s=t.apply(gr([i,...e]),n);Kr(r,s)}}var ji={};function kg(e,t){if(ji[e])return ji[e];let r=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,s=(()=>{try{let l=new r(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`);return Object.defineProperty(l,"name",{value:`[Alpine] ${e}`}),l}catch(l){return cr(l,t,e),Promise.resolve()}})();return ji[e]=s,s}function Tg(e,t,r){let i=kg(t,r);return(n=()=>{},{scope:s={},params:l=[]}={})=>{i.result=void 0,i.finished=!1;let u=gr([s,...e]);if(typeof i=="function"){let f=i(i,u).catch(v=>cr(v,r,t));i.finished?(Kr(n,i.result,u,l,r),i.result=void 0):f.then(v=>{Kr(n,v,u,l,r)}).catch(v=>cr(v,r,t)).finally(()=>i.result=void 0)}}}function Kr(e,t,r,i,n){if(Hr&&typeof t=="function"){let s=t.apply(r,i);s instanceof Promise?s.then(l=>Kr(e,l,r,i)).catch(l=>cr(l,n,t)):e(s)}else typeof t=="object"&&t instanceof Promise?t.then(s=>e(s)):e(t)}var jn="x-";function Ut(e=""){return jn+e}function Cg(e){jn=e}var hn={};function fe(e,t){return hn[e]=t,{before(r){if(!hn[r]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const i=bt.indexOf(r);bt.splice(i>=0?i:bt.indexOf("DEFAULT"),0,e)}}}function Vn(e,t,r){if(t=Array.from(t),e._x_virtualDirectives){let s=Object.entries(e._x_virtualDirectives).map(([u,f])=>({name:u,value:f})),l=ml(s);s=s.map(u=>l.find(f=>f.name===u.name)?{name:`x-bind:${u.name}`,value:`"${u.value}"`}:u),t=t.concat(s)}let i={};return t.map(wl((s,l)=>i[s]=l)).filter(_l).map(Pg(i,r)).sort(Lg).map(s=>xg(e,s))}function ml(e){return Array.from(e).map(wl()).filter(t=>!_l(t))}var dn=!1,Zt=new Map,gl=Symbol();function Ag(e){dn=!0;let t=Symbol();gl=t,Zt.set(t,[]);let r=()=>{for(;Zt.get(t).length;)Zt.get(t).shift()();Zt.delete(t)},i=()=>{dn=!1,r()};e(r),i()}function vl(e){let t=[],r=u=>t.push(u),[i,n]=lg(e);return t.push(n),[{Alpine:br,effect:i,cleanup:r,evaluateLater:Ce.bind(Ce,e),evaluate:Et.bind(Et,e)},()=>t.forEach(u=>u())]}function xg(e,t){let r=()=>{},i=hn[t.type]||r,[n,s]=vl(e);sl(e,t.original,s);let l=()=>{e._x_ignore||e._x_ignoreSelf||(i.inline&&i.inline(e,t,n),i=i.bind(i,e,t,n),dn?Zt.get(gl).push(i):i())};return l.runCleanups=s,l}var bl=(e,t)=>({name:r,value:i})=>(r.startsWith(e)&&(r=r.replace(e,t)),{name:r,value:i}),yl=e=>e;function wl(e=()=>{}){return({name:t,value:r})=>{let{name:i,value:n}=El.reduce((s,l)=>l(s),{name:t,value:r});return i!==t&&e(i,t),{name:i,value:n}}}var El=[];function Wn(e){El.push(e)}function _l({name:e}){return Sl().test(e)}var Sl=()=>new RegExp(`^${jn}([^:^.]+)\\b`);function Pg(e,t){return({name:r,value:i})=>{let n=r.match(Sl()),s=r.match(/:([a-zA-Z0-9\-_:]+)/),l=r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],u=t||e[r]||r;return{type:n?n[1]:null,value:s?s[1]:null,modifiers:l.map(f=>f.replace(".","")),expression:i,original:u}}}var fn="DEFAULT",bt=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",fn,"teleport"];function Lg(e,t){let r=bt.indexOf(e.type)===-1?fn:e.type,i=bt.indexOf(t.type)===-1?fn:t.type;return bt.indexOf(r)-bt.indexOf(i)}var pn=[],Un=!1;function zn(e=()=>{}){return queueMicrotask(()=>{Un||setTimeout(()=>{mn()})}),new Promise(t=>{pn.push(()=>{e(),t()})})}function mn(){for(Un=!1;pn.length;)pn.shift()()}function Mg(){Un=!0}function Kn(e,t){return Array.isArray(t)?Ka(e,t.join(" ")):typeof t=="object"&&t!==null?Rg(e,t):typeof t=="function"?Kn(e,t()):Ka(e,t)}function Ka(e,t){let r=n=>n.split(" ").filter(s=>!e.classList.contains(s)).filter(Boolean),i=n=>(e.classList.add(...n),()=>{e.classList.remove(...n)});return t=t===!0?t="":t||"",i(r(t))}function Rg(e,t){let r=u=>u.split(" ").filter(Boolean),i=Object.entries(t).flatMap(([u,f])=>f?r(u):!1).filter(Boolean),n=Object.entries(t).flatMap(([u,f])=>f?!1:r(u)).filter(Boolean),s=[],l=[];return n.forEach(u=>{e.classList.contains(u)&&(e.classList.remove(u),l.push(u))}),i.forEach(u=>{e.classList.contains(u)||(e.classList.add(u),s.push(u))}),()=>{l.forEach(u=>e.classList.add(u)),s.forEach(u=>e.classList.remove(u))}}function ri(e,t){return typeof t=="object"&&t!==null?$g(e,t):Ig(e,t)}function $g(e,t){let r={};return Object.entries(t).forEach(([i,n])=>{r[i]=e.style[i],i.startsWith("--")||(i=Ng(i)),e.style.setProperty(i,n)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{ri(e,r)}}function Ig(e,t){let r=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",r||"")}}function Ng(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function gn(e,t=()=>{}){let r=!1;return function(){r?t.apply(this,arguments):(r=!0,e.apply(this,arguments))}}fe("transition",(e,{value:t,modifiers:r,expression:i},{evaluate:n})=>{typeof i=="function"&&(i=n(i)),i!==!1&&(!i||typeof i=="boolean"?Fg(e,r,t):Og(e,i,t))});function Og(e,t,r){kl(e,Kn,""),{enter:n=>{e._x_transition.enter.during=n},"enter-start":n=>{e._x_transition.enter.start=n},"enter-end":n=>{e._x_transition.enter.end=n},leave:n=>{e._x_transition.leave.during=n},"leave-start":n=>{e._x_transition.leave.start=n},"leave-end":n=>{e._x_transition.leave.end=n}}[r](t)}function Fg(e,t,r){kl(e,ri);let i=!t.includes("in")&&!t.includes("out")&&!r,n=i||t.includes("in")||["enter"].includes(r),s=i||t.includes("out")||["leave"].includes(r);t.includes("in")&&!i&&(t=t.filter(($,x)=>x<t.indexOf("out"))),t.includes("out")&&!i&&(t=t.filter(($,x)=>x>t.indexOf("out")));let l=!t.includes("opacity")&&!t.includes("scale"),u=l||t.includes("opacity"),f=l||t.includes("scale"),v=u?0:1,w=f?Jt(t,"scale",95)/100:1,T=Jt(t,"delay",0)/1e3,_=Jt(t,"origin","center"),N="opacity, transform",H=Jt(t,"duration",150)/1e3,S=Jt(t,"duration",75)/1e3,P="cubic-bezier(0.4, 0.0, 0.2, 1)";n&&(e._x_transition.enter.during={transformOrigin:_,transitionDelay:`${T}s`,transitionProperty:N,transitionDuration:`${H}s`,transitionTimingFunction:P},e._x_transition.enter.start={opacity:v,transform:`scale(${w})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(e._x_transition.leave.during={transformOrigin:_,transitionDelay:`${T}s`,transitionProperty:N,transitionDuration:`${S}s`,transitionTimingFunction:P},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:v,transform:`scale(${w})`})}function kl(e,t,r={}){e._x_transition||(e._x_transition={enter:{during:r,start:r,end:r},leave:{during:r,start:r,end:r},in(i=()=>{},n=()=>{}){vn(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,n)},out(i=()=>{},n=()=>{}){vn(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,n)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,r,i){const n=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let s=()=>n(r);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(r):s():e._x_transition?e._x_transition.in(r):s();return}e._x_hidePromise=e._x_transition?new Promise((l,u)=>{e._x_transition.out(()=>{},()=>l(i)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>u({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let l=Tl(e);l?(l._x_hideChildren||(l._x_hideChildren=[]),l._x_hideChildren.push(e)):n(()=>{let u=f=>{let v=Promise.all([f._x_hidePromise,...(f._x_hideChildren||[]).map(u)]).then(([w])=>w());return delete f._x_hidePromise,delete f._x_hideChildren,v};u(e).catch(f=>{if(!f.isFromCancelledTransition)throw f})})})};function Tl(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Tl(t)}function vn(e,t,{during:r,start:i,end:n}={},s=()=>{},l=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(r).length===0&&Object.keys(i).length===0&&Object.keys(n).length===0){s(),l();return}let u,f,v;Hg(e,{start(){u=t(e,i)},during(){f=t(e,r)},before:s,end(){u(),v=t(e,n)},after:l,cleanup(){f(),v()}})}function Hg(e,t){let r,i,n,s=gn(()=>{me(()=>{r=!0,i||t.before(),n||(t.end(),mn()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(l){this.beforeCancels.push(l)},cancel:gn(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},me(()=>{t.start(),t.during()}),Mg(),requestAnimationFrame(()=>{if(r)return;let l=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,u=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;l===0&&(l=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),me(()=>{t.before()}),i=!0,requestAnimationFrame(()=>{r||(me(()=>{t.end()}),mn(),setTimeout(e._x_transitioning.finish,l+u),n=!0)})})}function Jt(e,t,r){if(e.indexOf(t)===-1)return r;const i=e[e.indexOf(t)+1];if(!i||t==="scale"&&isNaN(i))return r;if(t==="duration"||t==="delay"){let n=i.match(/([0-9]+)ms/);if(n)return n[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[i,e[e.indexOf(t)+2]].join(" "):i}var ut=!1;function vr(e,t=()=>{}){return(...r)=>ut?t(...r):e(...r)}function qg(e){return(...t)=>ut&&e(...t)}var Cl=[];function Al(e){Cl.push(e)}function Dg(e,t){Cl.forEach(r=>r(e,t)),ut=!0,xl(()=>{Ge(t,(r,i)=>{i(r,()=>{})})}),ut=!1}var bn=!1;function Bg(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),ut=!0,bn=!0,xl(()=>{jg(t)}),ut=!1,bn=!1}function jg(e){let t=!1;Ge(e,(i,n)=>{ct(i,(s,l)=>{if(t&&ug(s))return l();t=!0,n(s,l)})})}function xl(e){let t=Wt;Ua((r,i)=>{let n=t(r);return pr(n),()=>{}}),e(),Ua(t)}function Pl(e,t,r,i=[]){switch(e._x_bindings||(e._x_bindings=Vt({})),e._x_bindings[t]=r,t=i.includes("camel")?Xg(t):t,t){case"value":Vg(e,r);break;case"style":Ug(e,r);break;case"class":Wg(e,r);break;case"selected":case"checked":zg(e,t,r);break;default:Ll(e,t,r);break}}function Vg(e,t){if(e.type==="radio")e.attributes.value===void 0&&(e.value=t),window.fromModel&&(typeof t=="boolean"?e.checked=qr(e.value)===t:e.checked=Ga(e.value,t));else if(e.type==="checkbox")Number.isInteger(t)?e.value=t:!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(r=>Ga(r,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")Yg(e,t);else{if(e.value===t)return;e.value=t===void 0?"":t}}function Wg(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=Kn(e,t)}function Ug(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=ri(e,t)}function zg(e,t,r){Ll(e,t,r),Gg(e,t,r)}function Ll(e,t,r){[null,void 0,!1].includes(r)&&Jg(t)?e.removeAttribute(t):(Ml(t)&&(r=t),Kg(e,t,r))}function Kg(e,t,r){e.getAttribute(t)!=r&&e.setAttribute(t,r)}function Gg(e,t,r){e[t]!==r&&(e[t]=r)}function Yg(e,t){const r=[].concat(t).map(i=>i+"");Array.from(e.options).forEach(i=>{i.selected=r.includes(i.value)})}function Xg(e){return e.toLowerCase().replace(/-(\w)/g,(t,r)=>r.toUpperCase())}function Ga(e,t){return e==t}function qr(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}function Ml(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function Jg(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function Qg(e,t,r){return e._x_bindings&&e._x_bindings[t]!==void 0?e._x_bindings[t]:Rl(e,t,r)}function Zg(e,t,r,i=!0){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];if(e._x_inlineBindings&&e._x_inlineBindings[t]!==void 0){let n=e._x_inlineBindings[t];return n.extract=i,dl(()=>Et(e,n.expression))}return Rl(e,t,r)}function Rl(e,t,r){let i=e.getAttribute(t);return i===null?typeof r=="function"?r():r:i===""?!0:Ml(t)?!![t,"true"].includes(i):i}function $l(e,t){var r;return function(){var i=this,n=arguments,s=function(){r=null,e.apply(i,n)};clearTimeout(r),r=setTimeout(s,t)}}function Il(e,t){let r;return function(){let i=this,n=arguments;r||(e.apply(i,n),r=!0,setTimeout(()=>r=!1,t))}}function Nl({get:e,set:t},{get:r,set:i}){let n=!0,s,l=Wt(()=>{const u=e(),f=r();if(n)i(Vi(u)),n=!1,s=JSON.stringify(u);else{const v=JSON.stringify(u);v!==s?(i(Vi(u)),s=v):(t(Vi(f)),s=JSON.stringify(f))}JSON.stringify(r()),JSON.stringify(e())});return()=>{pr(l)}}function Vi(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function ev(e){(Array.isArray(e)?e:[e]).forEach(r=>r(br))}var gt={},Ya=!1;function tv(e,t){if(Ya||(gt=Vt(gt),Ya=!0),t===void 0)return gt[e];gt[e]=t,typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&gt[e].init(),cl(gt[e])}function rv(){return gt}var Ol={};function iv(e,t){let r=typeof t!="function"?()=>t:t;return e instanceof Element?Fl(e,r()):(Ol[e]=r,()=>{})}function nv(e){return Object.entries(Ol).forEach(([t,r])=>{Object.defineProperty(e,t,{get(){return(...i)=>r(...i)}})}),e}function Fl(e,t,r){let i=[];for(;i.length;)i.pop()();let n=Object.entries(t).map(([l,u])=>({name:l,value:u})),s=ml(n);return n=n.map(l=>s.find(u=>u.name===l.name)?{name:`x-bind:${l.name}`,value:`"${l.value}"`}:l),Vn(e,n,r).map(l=>{i.push(l.runCleanups),l()}),()=>{for(;i.length;)i.pop()()}}var Hl={};function sv(e,t){Hl[e]=t}function av(e,t){return Object.entries(Hl).forEach(([r,i])=>{Object.defineProperty(e,r,{get(){return(...n)=>i.bind(t)(...n)},enumerable:!1})}),e}var ov={get reactive(){return Vt},get release(){return pr},get effect(){return Wt},get raw(){return Go},version:"3.13.3",flushAndStopDeferringMutations:vg,dontAutoEvaluateFunctions:dl,disableEffectScheduling:ag,startObservingMutations:qn,stopObservingMutations:ol,setReactivityEngine:og,onAttributeRemoved:sl,onAttributesAdded:nl,closestDataStack:Bt,skipDuringClone:vr,onlyDuringClone:qg,addRootSelector:Qo,addInitSelector:Zo,interceptClone:Al,addScopeToNode:mr,deferMutations:gg,mapAttributes:Wn,evaluateLater:Ce,interceptInit:hg,setEvaluator:_g,mergeProxies:gr,extractProp:Zg,findClosest:ti,onElRemoved:On,closestRoot:ei,destroyTree:Nn,interceptor:ul,transition:vn,setStyles:ri,mutateDom:me,directive:fe,entangle:Nl,throttle:Il,debounce:$l,evaluate:Et,initTree:Ge,nextTick:zn,prefixed:Ut,prefix:Cg,plugin:ev,magic:Fe,store:tv,start:cg,clone:Bg,cloneNode:Dg,bound:Qg,$data:ll,walk:ct,data:sv,bind:iv},br=ov;function lv(e,t){const r=Object.create(null),i=e.split(",");for(let n=0;n<i.length;n++)r[i[n]]=!0;return t?n=>!!r[n.toLowerCase()]:n=>!!r[n]}var cv=Object.freeze({}),uv=Object.prototype.hasOwnProperty,ii=(e,t)=>uv.call(e,t),_t=Array.isArray,ir=e=>ql(e)==="[object Map]",hv=e=>typeof e=="string",Gn=e=>typeof e=="symbol",ni=e=>e!==null&&typeof e=="object",dv=Object.prototype.toString,ql=e=>dv.call(e),Dl=e=>ql(e).slice(8,-1),Yn=e=>hv(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fv=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},pv=fv(e=>e.charAt(0).toUpperCase()+e.slice(1)),Bl=(e,t)=>e!==t&&(e===e||t===t),yn=new WeakMap,Qt=[],qe,St=Symbol("iterate"),wn=Symbol("Map key iterate");function mv(e){return e&&e._isEffect===!0}function gv(e,t=cv){mv(e)&&(e=e.raw);const r=yv(e,t);return t.lazy||r(),r}function vv(e){e.active&&(jl(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var bv=0;function yv(e,t){const r=function(){if(!r.active)return e();if(!Qt.includes(r)){jl(r);try{return Ev(),Qt.push(r),qe=r,e()}finally{Qt.pop(),Vl(),qe=Qt[Qt.length-1]}}};return r.id=bv++,r.allowRecurse=!!t.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=e,r.deps=[],r.options=t,r}function jl(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}var jt=!0,Xn=[];function wv(){Xn.push(jt),jt=!1}function Ev(){Xn.push(jt),jt=!0}function Vl(){const e=Xn.pop();jt=e===void 0?!0:e}function Oe(e,t,r){if(!jt||qe===void 0)return;let i=yn.get(e);i||yn.set(e,i=new Map);let n=i.get(r);n||i.set(r,n=new Set),n.has(qe)||(n.add(qe),qe.deps.push(n),qe.options.onTrack&&qe.options.onTrack({effect:qe,target:e,type:t,key:r}))}function ht(e,t,r,i,n,s){const l=yn.get(e);if(!l)return;const u=new Set,f=w=>{w&&w.forEach(T=>{(T!==qe||T.allowRecurse)&&u.add(T)})};if(t==="clear")l.forEach(f);else if(r==="length"&&_t(e))l.forEach((w,T)=>{(T==="length"||T>=i)&&f(w)});else switch(r!==void 0&&f(l.get(r)),t){case"add":_t(e)?Yn(r)&&f(l.get("length")):(f(l.get(St)),ir(e)&&f(l.get(wn)));break;case"delete":_t(e)||(f(l.get(St)),ir(e)&&f(l.get(wn)));break;case"set":ir(e)&&f(l.get(St));break}const v=w=>{w.options.onTrigger&&w.options.onTrigger({effect:w,target:e,key:r,type:t,newValue:i,oldValue:n,oldTarget:s}),w.options.scheduler?w.options.scheduler(w):w()};u.forEach(v)}var _v=lv("__proto__,__v_isRef,__isVue"),Wl=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Gn)),Sv=Ul(),kv=Ul(!0),Xa=Tv();function Tv(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const i=oe(this);for(let s=0,l=this.length;s<l;s++)Oe(i,"get",s+"");const n=i[t](...r);return n===-1||n===!1?i[t](...r.map(oe)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){wv();const i=oe(this)[t].apply(this,r);return Vl(),i}}),e}function Ul(e=!1,t=!1){return function(i,n,s){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_raw"&&s===(e?t?Bv:Yl:t?Dv:Gl).get(i))return i;const l=_t(i);if(!e&&l&&ii(Xa,n))return Reflect.get(Xa,n,s);const u=Reflect.get(i,n,s);return(Gn(n)?Wl.has(n):_v(n))||(e||Oe(i,"get",n),t)?u:En(u)?!l||!Yn(n)?u.value:u:ni(u)?e?Xl(u):es(u):u}}var Cv=Av();function Av(e=!1){return function(r,i,n,s){let l=r[i];if(!e&&(n=oe(n),l=oe(l),!_t(r)&&En(l)&&!En(n)))return l.value=n,!0;const u=_t(r)&&Yn(i)?Number(i)<r.length:ii(r,i),f=Reflect.set(r,i,n,s);return r===oe(s)&&(u?Bl(n,l)&&ht(r,"set",i,n,l):ht(r,"add",i,n)),f}}function xv(e,t){const r=ii(e,t),i=e[t],n=Reflect.deleteProperty(e,t);return n&&r&&ht(e,"delete",t,void 0,i),n}function Pv(e,t){const r=Reflect.has(e,t);return(!Gn(t)||!Wl.has(t))&&Oe(e,"has",t),r}function Lv(e){return Oe(e,"iterate",_t(e)?"length":St),Reflect.ownKeys(e)}var Mv={get:Sv,set:Cv,deleteProperty:xv,has:Pv,ownKeys:Lv},Rv={get:kv,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},Jn=e=>ni(e)?es(e):e,Qn=e=>ni(e)?Xl(e):e,Zn=e=>e,si=e=>Reflect.getPrototypeOf(e);function Pr(e,t,r=!1,i=!1){e=e.__v_raw;const n=oe(e),s=oe(t);t!==s&&!r&&Oe(n,"get",t),!r&&Oe(n,"get",s);const{has:l}=si(n),u=i?Zn:r?Qn:Jn;if(l.call(n,t))return u(e.get(t));if(l.call(n,s))return u(e.get(s));e!==n&&e.get(t)}function Lr(e,t=!1){const r=this.__v_raw,i=oe(r),n=oe(e);return e!==n&&!t&&Oe(i,"has",e),!t&&Oe(i,"has",n),e===n?r.has(e):r.has(e)||r.has(n)}function Mr(e,t=!1){return e=e.__v_raw,!t&&Oe(oe(e),"iterate",St),Reflect.get(e,"size",e)}function Ja(e){e=oe(e);const t=oe(this);return si(t).has.call(t,e)||(t.add(e),ht(t,"add",e,e)),this}function Qa(e,t){t=oe(t);const r=oe(this),{has:i,get:n}=si(r);let s=i.call(r,e);s?Kl(r,i,e):(e=oe(e),s=i.call(r,e));const l=n.call(r,e);return r.set(e,t),s?Bl(t,l)&&ht(r,"set",e,t,l):ht(r,"add",e,t),this}function Za(e){const t=oe(this),{has:r,get:i}=si(t);let n=r.call(t,e);n?Kl(t,r,e):(e=oe(e),n=r.call(t,e));const s=i?i.call(t,e):void 0,l=t.delete(e);return n&&ht(t,"delete",e,void 0,s),l}function eo(){const e=oe(this),t=e.size!==0,r=ir(e)?new Map(e):new Set(e),i=e.clear();return t&&ht(e,"clear",void 0,void 0,r),i}function Rr(e,t){return function(i,n){const s=this,l=s.__v_raw,u=oe(l),f=t?Zn:e?Qn:Jn;return!e&&Oe(u,"iterate",St),l.forEach((v,w)=>i.call(n,f(v),f(w),s))}}function $r(e,t,r){return function(...i){const n=this.__v_raw,s=oe(n),l=ir(s),u=e==="entries"||e===Symbol.iterator&&l,f=e==="keys"&&l,v=n[e](...i),w=r?Zn:t?Qn:Jn;return!t&&Oe(s,"iterate",f?wn:St),{next(){const{value:T,done:_}=v.next();return _?{value:T,done:_}:{value:u?[w(T[0]),w(T[1])]:w(T),done:_}},[Symbol.iterator](){return this}}}}function tt(e){return function(...t){{const r=t[0]?`on key "${t[0]}" `:"";console.warn(`${pv(e)} operation ${r}failed: target is readonly.`,oe(this))}return e==="delete"?!1:this}}function $v(){const e={get(s){return Pr(this,s)},get size(){return Mr(this)},has:Lr,add:Ja,set:Qa,delete:Za,clear:eo,forEach:Rr(!1,!1)},t={get(s){return Pr(this,s,!1,!0)},get size(){return Mr(this)},has:Lr,add:Ja,set:Qa,delete:Za,clear:eo,forEach:Rr(!1,!0)},r={get(s){return Pr(this,s,!0)},get size(){return Mr(this,!0)},has(s){return Lr.call(this,s,!0)},add:tt("add"),set:tt("set"),delete:tt("delete"),clear:tt("clear"),forEach:Rr(!0,!1)},i={get(s){return Pr(this,s,!0,!0)},get size(){return Mr(this,!0)},has(s){return Lr.call(this,s,!0)},add:tt("add"),set:tt("set"),delete:tt("delete"),clear:tt("clear"),forEach:Rr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=$r(s,!1,!1),r[s]=$r(s,!0,!1),t[s]=$r(s,!1,!0),i[s]=$r(s,!0,!0)}),[e,r,t,i]}var[Iv,Nv,Ov,Fv]=$v();function zl(e,t){const r=t?e?Fv:Ov:e?Nv:Iv;return(i,n,s)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(ii(r,n)&&n in i?r:i,n,s)}var Hv={get:zl(!1,!1)},qv={get:zl(!0,!1)};function Kl(e,t,r){const i=oe(r);if(i!==r&&t.call(e,i)){const n=Dl(e);console.warn(`Reactive ${n} contains both the raw and reactive versions of the same object${n==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Gl=new WeakMap,Dv=new WeakMap,Yl=new WeakMap,Bv=new WeakMap;function jv(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Vv(e){return e.__v_skip||!Object.isExtensible(e)?0:jv(Dl(e))}function es(e){return e&&e.__v_isReadonly?e:Jl(e,!1,Mv,Hv,Gl)}function Xl(e){return Jl(e,!0,Rv,qv,Yl)}function Jl(e,t,r,i,n){if(!ni(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=n.get(e);if(s)return s;const l=Vv(e);if(l===0)return e;const u=new Proxy(e,l===2?i:r);return n.set(e,u),u}function oe(e){return e&&oe(e.__v_raw)||e}function En(e){return!!(e&&e.__v_isRef===!0)}Fe("nextTick",()=>zn);Fe("dispatch",e=>tr.bind(tr,e));Fe("watch",(e,{evaluateLater:t,effect:r})=>(i,n)=>{let s=t(i),l=!0,u,f=r(()=>s(v=>{JSON.stringify(v),l?u=v:queueMicrotask(()=>{n(v,u),u=v}),l=!1}));e._x_effects.delete(f)});Fe("store",rv);Fe("data",e=>ll(e));Fe("root",e=>ei(e));Fe("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=gr(Wv(e))),e._x_refs_proxy));function Wv(e){let t=[],r=e;for(;r;)r._x_refs&&t.push(r._x_refs),r=r.parentNode;return t}var Wi={};function Ql(e){return Wi[e]||(Wi[e]=0),++Wi[e]}function Uv(e,t){return ti(e,r=>{if(r._x_ids&&r._x_ids[t])return!0})}function zv(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=Ql(t))}Fe("id",e=>(t,r=null)=>{let i=Uv(e,t),n=i?i._x_ids[t]:Ql(t);return r?`${t}-${n}-${r}`:`${t}-${n}`});Fe("el",e=>e);Zl("Focus","focus","focus");Zl("Persist","persist","persist");function Zl(e,t,r){Fe(t,i=>Ke(`You can't use [$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${r}`,i))}fe("modelable",(e,{expression:t},{effect:r,evaluateLater:i,cleanup:n})=>{let s=i(t),l=()=>{let w;return s(T=>w=T),w},u=i(`${t} = __placeholder`),f=w=>u(()=>{},{scope:{__placeholder:w}}),v=l();f(v),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let w=e._x_model.get,T=e._x_model.set,_=Nl({get(){return w()},set(N){T(N)}},{get(){return l()},set(N){f(N)}});n(_)})});fe("teleport",(e,{modifiers:t,expression:r},{cleanup:i})=>{e.tagName.toLowerCase()!=="template"&&Ke("x-teleport can only be used on a <template> tag",e);let n=to(r),s=e.content.cloneNode(!0).firstElementChild;e._x_teleport=s,s._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),s.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(u=>{s.addEventListener(u,f=>{f.stopPropagation(),e.dispatchEvent(new f.constructor(f.type,f))})}),mr(s,{},e);let l=(u,f,v)=>{v.includes("prepend")?f.parentNode.insertBefore(u,f):v.includes("append")?f.parentNode.insertBefore(u,f.nextSibling):f.appendChild(u)};me(()=>{l(s,n,t),Ge(s),s._x_ignore=!0}),e._x_teleportPutBack=()=>{let u=to(r);me(()=>{l(e._x_teleport,u,t)})},i(()=>s.remove())});var Kv=document.createElement("div");function to(e){let t=vr(()=>document.querySelector(e),()=>Kv)();return t||Ke(`Cannot find x-teleport element for selector: "${e}"`),t}var ec=()=>{};ec.inline=(e,{modifiers:t},{cleanup:r})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,r(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};fe("ignore",ec);fe("effect",vr((e,{expression:t},{effect:r})=>{r(Ce(e,t))}));function _n(e,t,r,i){let n=e,s=f=>i(f),l={},u=(f,v)=>w=>v(f,w);if(r.includes("dot")&&(t=Gv(t)),r.includes("camel")&&(t=Yv(t)),r.includes("passive")&&(l.passive=!0),r.includes("capture")&&(l.capture=!0),r.includes("window")&&(n=window),r.includes("document")&&(n=document),r.includes("debounce")){let f=r[r.indexOf("debounce")+1]||"invalid-wait",v=Gr(f.split("ms")[0])?Number(f.split("ms")[0]):250;s=$l(s,v)}if(r.includes("throttle")){let f=r[r.indexOf("throttle")+1]||"invalid-wait",v=Gr(f.split("ms")[0])?Number(f.split("ms")[0]):250;s=Il(s,v)}return r.includes("prevent")&&(s=u(s,(f,v)=>{v.preventDefault(),f(v)})),r.includes("stop")&&(s=u(s,(f,v)=>{v.stopPropagation(),f(v)})),r.includes("self")&&(s=u(s,(f,v)=>{v.target===e&&f(v)})),(r.includes("away")||r.includes("outside"))&&(n=document,s=u(s,(f,v)=>{e.contains(v.target)||v.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&f(v))})),r.includes("once")&&(s=u(s,(f,v)=>{f(v),n.removeEventListener(t,s,l)})),s=u(s,(f,v)=>{Jv(t)&&Qv(v,r)||f(v)}),n.addEventListener(t,s,l),()=>{n.removeEventListener(t,s,l)}}function Gv(e){return e.replace(/-/g,".")}function Yv(e){return e.toLowerCase().replace(/-(\w)/g,(t,r)=>r.toUpperCase())}function Gr(e){return!Array.isArray(e)&&!isNaN(e)}function Xv(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Jv(e){return["keydown","keyup"].includes(e)}function Qv(e,t){let r=t.filter(s=>!["window","document","prevent","stop","once","capture"].includes(s));if(r.includes("debounce")){let s=r.indexOf("debounce");r.splice(s,Gr((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.includes("throttle")){let s=r.indexOf("throttle");r.splice(s,Gr((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.length===0||r.length===1&&ro(e.key).includes(r[0]))return!1;const n=["ctrl","shift","alt","meta","cmd","super"].filter(s=>r.includes(s));return r=r.filter(s=>!n.includes(s)),!(n.length>0&&n.filter(l=>((l==="cmd"||l==="super")&&(l="meta"),e[`${l}Key`])).length===n.length&&ro(e.key).includes(r[0]))}function ro(e){if(!e)return[];e=Xv(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map(r=>{if(t[r]===e)return r}).filter(r=>r)}fe("model",(e,{modifiers:t,expression:r},{effect:i,cleanup:n})=>{let s=e;t.includes("parent")&&(s=e.parentNode);let l=Ce(s,r),u;typeof r=="string"?u=Ce(s,`${r} = __placeholder`):typeof r=="function"&&typeof r()=="string"?u=Ce(s,`${r()} = __placeholder`):u=()=>{};let f=()=>{let _;return l(N=>_=N),io(_)?_.get():_},v=_=>{let N;l(H=>N=H),io(N)?N.set(_):u(()=>{},{scope:{__placeholder:_}})};typeof r=="string"&&e.type==="radio"&&me(()=>{e.hasAttribute("name")||e.setAttribute("name",r)});var w=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let T=ut?()=>{}:_n(e,w,t,_=>{v(Zv(e,t,_,f()))});if(t.includes("fill")&&([null,""].includes(f())||e.type==="checkbox"&&Array.isArray(f()))&&e.dispatchEvent(new Event(w,{})),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=T,n(()=>e._x_removeModelListeners.default()),e.form){let _=_n(e.form,"reset",[],N=>{zn(()=>e._x_model&&e._x_model.set(e.value))});n(()=>_())}e._x_model={get(){return f()},set(_){v(_)}},e._x_forceModelUpdate=_=>{_===void 0&&typeof r=="string"&&r.match(/\./)&&(_=""),window.fromModel=!0,me(()=>Pl(e,"value",_)),delete window.fromModel},i(()=>{let _=f();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(_)})});function Zv(e,t,r,i){return me(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return r.detail!==null&&r.detail!==void 0?r.detail:r.target.value;if(e.type==="checkbox")if(Array.isArray(i)){let n=null;return t.includes("number")?n=Ui(r.target.value):t.includes("boolean")?n=qr(r.target.value):n=r.target.value,r.target.checked?i.concat([n]):i.filter(s=>!eb(s,n))}else return r.target.checked;else return e.tagName.toLowerCase()==="select"&&e.multiple?t.includes("number")?Array.from(r.target.selectedOptions).map(n=>{let s=n.value||n.text;return Ui(s)}):t.includes("boolean")?Array.from(r.target.selectedOptions).map(n=>{let s=n.value||n.text;return qr(s)}):Array.from(r.target.selectedOptions).map(n=>n.value||n.text):t.includes("number")?Ui(r.target.value):t.includes("boolean")?qr(r.target.value):t.includes("trim")?r.target.value.trim():r.target.value})}function Ui(e){let t=e?parseFloat(e):null;return tb(t)?t:e}function eb(e,t){return e==t}function tb(e){return!Array.isArray(e)&&!isNaN(e)}function io(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}fe("cloak",e=>queueMicrotask(()=>me(()=>e.removeAttribute(Ut("cloak")))));Zo(()=>`[${Ut("init")}]`);fe("init",vr((e,{expression:t},{evaluate:r})=>typeof t=="string"?!!t.trim()&&r(t,{},!1):r(t,{},!1)));fe("text",(e,{expression:t},{effect:r,evaluateLater:i})=>{let n=i(t);r(()=>{n(s=>{me(()=>{e.textContent=s})})})});fe("html",(e,{expression:t},{effect:r,evaluateLater:i})=>{let n=i(t);r(()=>{n(s=>{me(()=>{e.innerHTML=s,e._x_ignoreSelf=!0,Ge(e),delete e._x_ignoreSelf})})})});Wn(bl(":",yl(Ut("bind:"))));var tc=(e,{value:t,modifiers:r,expression:i,original:n},{effect:s})=>{if(!t){let u={};nv(u),Ce(e,i)(v=>{Fl(e,v,n)},{scope:u});return}if(t==="key")return rb(e,i);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let l=Ce(e,i);s(()=>l(u=>{u===void 0&&typeof i=="string"&&i.match(/\./)&&(u=""),me(()=>Pl(e,t,u,r))}))};tc.inline=(e,{value:t,modifiers:r,expression:i})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:i,extract:!1})};fe("bind",tc);function rb(e,t){e._x_keyExpression=t}Qo(()=>`[${Ut("data")}]`);fe("data",(e,{expression:t},{cleanup:r})=>{if(ib(e))return;t=t===""?"{}":t;let i={};un(i,e);let n={};av(n,i);let s=Et(e,t,{scope:n});(s===void 0||s===!0)&&(s={}),un(s,e);let l=Vt(s);cl(l);let u=mr(e,l);l.init&&Et(e,l.init),r(()=>{l.destroy&&Et(e,l.destroy),u()})});Al((e,t)=>{e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0))});function ib(e){return ut?bn?!0:e.hasAttribute("data-has-alpine-state"):!1}fe("show",(e,{modifiers:t,expression:r},{effect:i})=>{let n=Ce(e,r);e._x_doHide||(e._x_doHide=()=>{me(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{me(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let s=()=>{e._x_doHide(),e._x_isShown=!1},l=()=>{e._x_doShow(),e._x_isShown=!0},u=()=>setTimeout(l),f=gn(T=>T?l():s(),T=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,T,l,s):T?u():s()}),v,w=!0;i(()=>n(T=>{!w&&T===v||(t.includes("immediate")&&(T?u():s()),f(T),v=T,w=!1)}))});fe("for",(e,{expression:t},{effect:r,cleanup:i})=>{let n=sb(t),s=Ce(e,n.items),l=Ce(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},r(()=>nb(e,n,s,l)),i(()=>{Object.values(e._x_lookup).forEach(u=>u.remove()),delete e._x_prevKeys,delete e._x_lookup})});function nb(e,t,r,i){let n=l=>typeof l=="object"&&!Array.isArray(l),s=e;r(l=>{ab(l)&&l>=0&&(l=Array.from(Array(l).keys(),P=>P+1)),l===void 0&&(l=[]);let u=e._x_lookup,f=e._x_prevKeys,v=[],w=[];if(n(l))l=Object.entries(l).map(([P,$])=>{let x=no(t,$,P,l);i(q=>w.push(q),{scope:{index:P,...x}}),v.push(x)});else for(let P=0;P<l.length;P++){let $=no(t,l[P],P,l);i(x=>w.push(x),{scope:{index:P,...$}}),v.push($)}let T=[],_=[],N=[],H=[];for(let P=0;P<f.length;P++){let $=f[P];w.indexOf($)===-1&&N.push($)}f=f.filter(P=>!N.includes(P));let S="template";for(let P=0;P<w.length;P++){let $=w[P],x=f.indexOf($);if(x===-1)f.splice(P,0,$),T.push([S,P]);else if(x!==P){let q=f.splice(P,1)[0],V=f.splice(x-1,1)[0];f.splice(P,0,V),f.splice(x,0,q),_.push([q,V])}else H.push($);S=$}for(let P=0;P<N.length;P++){let $=N[P];u[$]._x_effects&&u[$]._x_effects.forEach(Ko),u[$].remove(),u[$]=null,delete u[$]}for(let P=0;P<_.length;P++){let[$,x]=_[P],q=u[$],V=u[x],le=document.createElement("div");me(()=>{V||Ke('x-for ":key" is undefined or invalid',s),V.after(le),q.after(V),V._x_currentIfEl&&V.after(V._x_currentIfEl),le.before(q),q._x_currentIfEl&&q.after(q._x_currentIfEl),le.remove()}),V._x_refreshXForScope(v[w.indexOf(x)])}for(let P=0;P<T.length;P++){let[$,x]=T[P],q=$==="template"?s:u[$];q._x_currentIfEl&&(q=q._x_currentIfEl);let V=v[x],le=w[x],F=document.importNode(s.content,!0).firstElementChild,ge=Vt(V);mr(F,ge,s),F._x_refreshXForScope=ae=>{Object.entries(ae).forEach(([Xe,Tt])=>{ge[Xe]=Tt})},me(()=>{q.after(F),Ge(F)}),typeof le=="object"&&Ke("x-for key cannot be an object, it must be a string or an integer",s),u[le]=F}for(let P=0;P<H.length;P++)u[H[P]]._x_refreshXForScope(v[w.indexOf(H[P])]);s._x_prevKeys=w})}function sb(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,n=e.match(i);if(!n)return;let s={};s.items=n[2].trim();let l=n[1].replace(r,"").trim(),u=l.match(t);return u?(s.item=l.replace(t,"").trim(),s.index=u[1].trim(),u[2]&&(s.collection=u[2].trim())):s.item=l,s}function no(e,t,r,i){let n={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(l=>l.trim()).forEach((l,u)=>{n[l]=t[u]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(l=>l.trim()).forEach(l=>{n[l]=t[l]}):n[e.item]=t,e.index&&(n[e.index]=r),e.collection&&(n[e.collection]=i),n}function ab(e){return!Array.isArray(e)&&!isNaN(e)}function rc(){}rc.inline=(e,{expression:t},{cleanup:r})=>{let i=ei(e);i._x_refs||(i._x_refs={}),i._x_refs[t]=e,r(()=>delete i._x_refs[t])};fe("ref",rc);fe("if",(e,{expression:t},{effect:r,cleanup:i})=>{e.tagName.toLowerCase()!=="template"&&Ke("x-if can only be used on a <template> tag",e);let n=Ce(e,t),s=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let u=e.content.cloneNode(!0).firstElementChild;return mr(u,{},e),me(()=>{e.after(u),Ge(u)}),e._x_currentIfEl=u,e._x_undoIf=()=>{ct(u,f=>{f._x_effects&&f._x_effects.forEach(Ko)}),u.remove(),delete e._x_currentIfEl},u},l=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};r(()=>n(u=>{u?s():l()})),i(()=>e._x_undoIf&&e._x_undoIf())});fe("id",(e,{expression:t},{evaluate:r})=>{r(t).forEach(n=>zv(e,n))});Wn(bl("@",yl(Ut("on:"))));fe("on",vr((e,{value:t,modifiers:r,expression:i},{cleanup:n})=>{let s=i?Ce(e,i):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let l=_n(e,t,r,u=>{s(()=>{},{scope:{$event:u},params:[u]})});n(()=>l())}));ai("Collapse","collapse","collapse");ai("Intersect","intersect","intersect");ai("Focus","trap","focus");ai("Mask","mask","mask");function ai(e,t,r){fe(t,i=>Ke(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${r}`,i))}br.setEvaluator(pl);br.setReactivityEngine({reactive:es,effect:gv,release:vv,raw:oe});var ob=br,st=ob,lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ic={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(e,t){(function(r,i){e.exports=i()})(lb,function(){for(var r=function(a,o,c){return o===void 0&&(o=0),c===void 0&&(c=1),a<o?o:a>c?c:a},i=r,n=function(a){a._clipped=!1,a._unclipped=a.slice(0);for(var o=0;o<=3;o++)o<3?((a[o]<0||a[o]>255)&&(a._clipped=!0),a[o]=i(a[o],0,255)):o===3&&(a[o]=i(a[o],0,1));return a},s={},l=0,u=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];l<u.length;l+=1){var f=u[l];s["[object "+f+"]"]=f.toLowerCase()}var v=function(a){return s[Object.prototype.toString.call(a)]||"object"},w=v,T=function(a,o){return o===void 0&&(o=null),a.length>=3?Array.prototype.slice.call(a):w(a[0])=="object"&&o?o.split("").filter(function(c){return a[0][c]!==void 0}).map(function(c){return a[0][c]}):a[0]},_=v,N=function(a){if(a.length<2)return null;var o=a.length-1;return _(a[o])=="string"?a[o].toLowerCase():null},H=Math.PI,S={clip_rgb:n,limit:r,type:v,unpack:T,last:N,PI:H,TWOPI:H*2,PITHIRD:H/3,DEG2RAD:H/180,RAD2DEG:180/H},P={format:{},autodetect:[]},$=S.last,x=S.clip_rgb,q=S.type,V=P,le=function(){for(var o=[],c=arguments.length;c--;)o[c]=arguments[c];var h=this;if(q(o[0])==="object"&&o[0].constructor&&o[0].constructor===this.constructor)return o[0];var m=$(o),g=!1;if(!m){g=!0,V.sorted||(V.autodetect=V.autodetect.sort(function(k,R){return R.p-k.p}),V.sorted=!0);for(var p=0,b=V.autodetect;p<b.length;p+=1){var y=b[p];if(m=y.test.apply(y,o),m)break}}if(V.format[m]){var E=V.format[m].apply(null,g?o:o.slice(0,-1));h._rgb=x(E)}else throw new Error("unknown format: "+o);h._rgb.length===3&&h._rgb.push(1)};le.prototype.toString=function(){return q(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var F=le,ge=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(ge.Color,[null].concat(a)))};ge.Color=F,ge.version="2.4.2";var ae=ge,Xe=S.unpack,Tt=Math.max,nc=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=Xe(a,"rgb"),h=c[0],m=c[1],g=c[2];h=h/255,m=m/255,g=g/255;var p=1-Tt(h,Tt(m,g)),b=p<1?1/(1-p):0,y=(1-h-p)*b,E=(1-m-p)*b,k=(1-g-p)*b;return[y,E,k,p]},sc=nc,ac=S.unpack,oc=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];a=ac(a,"cmyk");var c=a[0],h=a[1],m=a[2],g=a[3],p=a.length>4?a[4]:1;return g===1?[0,0,0,p]:[c>=1?0:255*(1-c)*(1-g),h>=1?0:255*(1-h)*(1-g),m>=1?0:255*(1-m)*(1-g),p]},lc=oc,cc=ae,ts=F,rs=P,uc=S.unpack,hc=S.type,dc=sc;ts.prototype.cmyk=function(){return dc(this._rgb)},cc.cmyk=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(ts,[null].concat(a,["cmyk"])))},rs.format.cmyk=lc,rs.autodetect.push({p:2,test:function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];if(a=uc(a,"cmyk"),hc(a)==="array"&&a.length===4)return"cmyk"}});var fc=S.unpack,pc=S.last,oi=function(a){return Math.round(a*100)/100},mc=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=fc(a,"hsla"),h=pc(a)||"lsa";return c[0]=oi(c[0]||0),c[1]=oi(c[1]*100)+"%",c[2]=oi(c[2]*100)+"%",h==="hsla"||c.length>3&&c[3]<1?(c[3]=c.length>3?c[3]:1,h="hsla"):c.length=3,h+"("+c.join(",")+")"},gc=mc,vc=S.unpack,bc=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];a=vc(a,"rgba");var c=a[0],h=a[1],m=a[2];c/=255,h/=255,m/=255;var g=Math.min(c,h,m),p=Math.max(c,h,m),b=(p+g)/2,y,E;return p===g?(y=0,E=Number.NaN):y=b<.5?(p-g)/(p+g):(p-g)/(2-p-g),c==p?E=(h-m)/(p-g):h==p?E=2+(m-c)/(p-g):m==p&&(E=4+(c-h)/(p-g)),E*=60,E<0&&(E+=360),a.length>3&&a[3]!==void 0?[E,y,b,a[3]]:[E,y,b]},is=bc,yc=S.unpack,wc=S.last,Ec=gc,_c=is,li=Math.round,Sc=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=yc(a,"rgba"),h=wc(a)||"rgb";return h.substr(0,3)=="hsl"?Ec(_c(c),h):(c[0]=li(c[0]),c[1]=li(c[1]),c[2]=li(c[2]),(h==="rgba"||c.length>3&&c[3]<1)&&(c[3]=c.length>3?c[3]:1,h="rgba"),h+"("+c.slice(0,h==="rgb"?3:4).join(",")+")")},kc=Sc,Tc=S.unpack,ci=Math.round,Cc=function(){for(var a,o=[],c=arguments.length;c--;)o[c]=arguments[c];o=Tc(o,"hsl");var h=o[0],m=o[1],g=o[2],p,b,y;if(m===0)p=b=y=g*255;else{var E=[0,0,0],k=[0,0,0],R=g<.5?g*(1+m):g+m-g*m,C=2*g-R,O=h/360;E[0]=O+1/3,E[1]=O,E[2]=O-1/3;for(var I=0;I<3;I++)E[I]<0&&(E[I]+=1),E[I]>1&&(E[I]-=1),6*E[I]<1?k[I]=C+(R-C)*6*E[I]:2*E[I]<1?k[I]=R:3*E[I]<2?k[I]=C+(R-C)*(2/3-E[I])*6:k[I]=C;a=[ci(k[0]*255),ci(k[1]*255),ci(k[2]*255)],p=a[0],b=a[1],y=a[2]}return o.length>3?[p,b,y,o[3]]:[p,b,y,1]},ns=Cc,ss=ns,as=P,os=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ls=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,cs=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,us=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,hs=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ds=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,fs=Math.round,ps=function(a){a=a.toLowerCase().trim();var o;if(as.format.named)try{return as.format.named(a)}catch{}if(o=a.match(os)){for(var c=o.slice(1,4),h=0;h<3;h++)c[h]=+c[h];return c[3]=1,c}if(o=a.match(ls)){for(var m=o.slice(1,5),g=0;g<4;g++)m[g]=+m[g];return m}if(o=a.match(cs)){for(var p=o.slice(1,4),b=0;b<3;b++)p[b]=fs(p[b]*2.55);return p[3]=1,p}if(o=a.match(us)){for(var y=o.slice(1,5),E=0;E<3;E++)y[E]=fs(y[E]*2.55);return y[3]=+y[3],y}if(o=a.match(hs)){var k=o.slice(1,4);k[1]*=.01,k[2]*=.01;var R=ss(k);return R[3]=1,R}if(o=a.match(ds)){var C=o.slice(1,4);C[1]*=.01,C[2]*=.01;var O=ss(C);return O[3]=+o[4],O}};ps.test=function(a){return os.test(a)||ls.test(a)||cs.test(a)||us.test(a)||hs.test(a)||ds.test(a)};var Ac=ps,xc=ae,ms=F,gs=P,Pc=S.type,Lc=kc,vs=Ac;ms.prototype.css=function(a){return Lc(this._rgb,a)},xc.css=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(ms,[null].concat(a,["css"])))},gs.format.css=vs,gs.autodetect.push({p:5,test:function(a){for(var o=[],c=arguments.length-1;c-- >0;)o[c]=arguments[c+1];if(!o.length&&Pc(a)==="string"&&vs.test(a))return"css"}});var bs=F,Mc=ae,Rc=P,$c=S.unpack;Rc.format.gl=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=$c(a,"rgba");return c[0]*=255,c[1]*=255,c[2]*=255,c},Mc.gl=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(bs,[null].concat(a,["gl"])))},bs.prototype.gl=function(){var a=this._rgb;return[a[0]/255,a[1]/255,a[2]/255,a[3]]};var Ic=S.unpack,Nc=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=Ic(a,"rgb"),h=c[0],m=c[1],g=c[2],p=Math.min(h,m,g),b=Math.max(h,m,g),y=b-p,E=y*100/255,k=p/(255-y)*100,R;return y===0?R=Number.NaN:(h===b&&(R=(m-g)/y),m===b&&(R=2+(g-h)/y),g===b&&(R=4+(h-m)/y),R*=60,R<0&&(R+=360)),[R,E,k]},Oc=Nc,Fc=S.unpack,Hc=Math.floor,qc=function(){for(var a,o,c,h,m,g,p=[],b=arguments.length;b--;)p[b]=arguments[b];p=Fc(p,"hcg");var y=p[0],E=p[1],k=p[2],R,C,O;k=k*255;var I=E*255;if(E===0)R=C=O=k;else{y===360&&(y=0),y>360&&(y-=360),y<0&&(y+=360),y/=60;var W=Hc(y),K=y-W,Y=k*(1-E),Z=Y+I*(1-K),Ee=Y+I*K,be=Y+I;switch(W){case 0:a=[be,Ee,Y],R=a[0],C=a[1],O=a[2];break;case 1:o=[Z,be,Y],R=o[0],C=o[1],O=o[2];break;case 2:c=[Y,be,Ee],R=c[0],C=c[1],O=c[2];break;case 3:h=[Y,Z,be],R=h[0],C=h[1],O=h[2];break;case 4:m=[Ee,Y,be],R=m[0],C=m[1],O=m[2];break;case 5:g=[be,Y,Z],R=g[0],C=g[1],O=g[2];break}}return[R,C,O,p.length>3?p[3]:1]},Dc=qc,Bc=S.unpack,jc=S.type,Vc=ae,ys=F,ws=P,Wc=Oc;ys.prototype.hcg=function(){return Wc(this._rgb)},Vc.hcg=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(ys,[null].concat(a,["hcg"])))},ws.format.hcg=Dc,ws.autodetect.push({p:1,test:function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];if(a=Bc(a,"hcg"),jc(a)==="array"&&a.length===3)return"hcg"}});var Uc=S.unpack,zc=S.last,yr=Math.round,Kc=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=Uc(a,"rgba"),h=c[0],m=c[1],g=c[2],p=c[3],b=zc(a)||"auto";p===void 0&&(p=1),b==="auto"&&(b=p<1?"rgba":"rgb"),h=yr(h),m=yr(m),g=yr(g);var y=h<<16|m<<8|g,E="000000"+y.toString(16);E=E.substr(E.length-6);var k="0"+yr(p*255).toString(16);switch(k=k.substr(k.length-2),b.toLowerCase()){case"rgba":return"#"+E+k;case"argb":return"#"+k+E;default:return"#"+E}},Es=Kc,Gc=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Yc=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Xc=function(a){if(a.match(Gc)){(a.length===4||a.length===7)&&(a=a.substr(1)),a.length===3&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);var o=parseInt(a,16),c=o>>16,h=o>>8&255,m=o&255;return[c,h,m,1]}if(a.match(Yc)){(a.length===5||a.length===9)&&(a=a.substr(1)),a.length===4&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]);var g=parseInt(a,16),p=g>>24&255,b=g>>16&255,y=g>>8&255,E=Math.round((g&255)/255*100)/100;return[p,b,y,E]}throw new Error("unknown hex color: "+a)},_s=Xc,Jc=ae,Ss=F,Qc=S.type,ks=P,Zc=Es;Ss.prototype.hex=function(a){return Zc(this._rgb,a)},Jc.hex=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(Ss,[null].concat(a,["hex"])))},ks.format.hex=_s,ks.autodetect.push({p:4,test:function(a){for(var o=[],c=arguments.length-1;c-- >0;)o[c]=arguments[c+1];if(!o.length&&Qc(a)==="string"&&[3,4,5,6,7,8,9].indexOf(a.length)>=0)return"hex"}});var eu=S.unpack,Ts=S.TWOPI,tu=Math.min,ru=Math.sqrt,iu=Math.acos,nu=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=eu(a,"rgb"),h=c[0],m=c[1],g=c[2];h/=255,m/=255,g/=255;var p,b=tu(h,m,g),y=(h+m+g)/3,E=y>0?1-b/y:0;return E===0?p=NaN:(p=(h-m+(h-g))/2,p/=ru((h-m)*(h-m)+(h-g)*(m-g)),p=iu(p),g>m&&(p=Ts-p),p/=Ts),[p*360,E,y]},su=nu,au=S.unpack,ui=S.limit,Ct=S.TWOPI,hi=S.PITHIRD,At=Math.cos,ou=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];a=au(a,"hsi");var c=a[0],h=a[1],m=a[2],g,p,b;return isNaN(c)&&(c=0),isNaN(h)&&(h=0),c>360&&(c-=360),c<0&&(c+=360),c/=360,c<1/3?(b=(1-h)/3,g=(1+h*At(Ct*c)/At(hi-Ct*c))/3,p=1-(b+g)):c<2/3?(c-=1/3,g=(1-h)/3,p=(1+h*At(Ct*c)/At(hi-Ct*c))/3,b=1-(g+p)):(c-=2/3,p=(1-h)/3,b=(1+h*At(Ct*c)/At(hi-Ct*c))/3,g=1-(p+b)),g=ui(m*g*3),p=ui(m*p*3),b=ui(m*b*3),[g*255,p*255,b*255,a.length>3?a[3]:1]},lu=ou,cu=S.unpack,uu=S.type,hu=ae,Cs=F,As=P,du=su;Cs.prototype.hsi=function(){return du(this._rgb)},hu.hsi=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(Cs,[null].concat(a,["hsi"])))},As.format.hsi=lu,As.autodetect.push({p:2,test:function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];if(a=cu(a,"hsi"),uu(a)==="array"&&a.length===3)return"hsi"}});var fu=S.unpack,pu=S.type,mu=ae,xs=F,Ps=P,gu=is;xs.prototype.hsl=function(){return gu(this._rgb)},mu.hsl=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(xs,[null].concat(a,["hsl"])))},Ps.format.hsl=ns,Ps.autodetect.push({p:2,test:function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];if(a=fu(a,"hsl"),pu(a)==="array"&&a.length===3)return"hsl"}});var vu=S.unpack,bu=Math.min,yu=Math.max,wu=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];a=vu(a,"rgb");var c=a[0],h=a[1],m=a[2],g=bu(c,h,m),p=yu(c,h,m),b=p-g,y,E,k;return k=p/255,p===0?(y=Number.NaN,E=0):(E=b/p,c===p&&(y=(h-m)/b),h===p&&(y=2+(m-c)/b),m===p&&(y=4+(c-h)/b),y*=60,y<0&&(y+=360)),[y,E,k]},Eu=wu,_u=S.unpack,Su=Math.floor,ku=function(){for(var a,o,c,h,m,g,p=[],b=arguments.length;b--;)p[b]=arguments[b];p=_u(p,"hsv");var y=p[0],E=p[1],k=p[2],R,C,O;if(k*=255,E===0)R=C=O=k;else{y===360&&(y=0),y>360&&(y-=360),y<0&&(y+=360),y/=60;var I=Su(y),W=y-I,K=k*(1-E),Y=k*(1-E*W),Z=k*(1-E*(1-W));switch(I){case 0:a=[k,Z,K],R=a[0],C=a[1],O=a[2];break;case 1:o=[Y,k,K],R=o[0],C=o[1],O=o[2];break;case 2:c=[K,k,Z],R=c[0],C=c[1],O=c[2];break;case 3:h=[K,Y,k],R=h[0],C=h[1],O=h[2];break;case 4:m=[Z,K,k],R=m[0],C=m[1],O=m[2];break;case 5:g=[k,K,Y],R=g[0],C=g[1],O=g[2];break}}return[R,C,O,p.length>3?p[3]:1]},Tu=ku,Cu=S.unpack,Au=S.type,xu=ae,Ls=F,Ms=P,Pu=Eu;Ls.prototype.hsv=function(){return Pu(this._rgb)},xu.hsv=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(Ls,[null].concat(a,["hsv"])))},Ms.format.hsv=Tu,Ms.autodetect.push({p:2,test:function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];if(a=Cu(a,"hsv"),Au(a)==="array"&&a.length===3)return"hsv"}});var wr={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},xt=wr,Lu=S.unpack,Rs=Math.pow,Mu=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=Lu(a,"rgb"),h=c[0],m=c[1],g=c[2],p=Ru(h,m,g),b=p[0],y=p[1],E=p[2],k=116*y-16;return[k<0?0:k,500*(b-y),200*(y-E)]},di=function(a){return(a/=255)<=.04045?a/12.92:Rs((a+.055)/1.055,2.4)},fi=function(a){return a>xt.t3?Rs(a,1/3):a/xt.t2+xt.t0},Ru=function(a,o,c){a=di(a),o=di(o),c=di(c);var h=fi((.4124564*a+.3575761*o+.1804375*c)/xt.Xn),m=fi((.2126729*a+.7151522*o+.072175*c)/xt.Yn),g=fi((.0193339*a+.119192*o+.9503041*c)/xt.Zn);return[h,m,g]},$s=Mu,Pt=wr,$u=S.unpack,Iu=Math.pow,Nu=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];a=$u(a,"lab");var c=a[0],h=a[1],m=a[2],g,p,b,y,E,k;return p=(c+16)/116,g=isNaN(h)?p:p+h/500,b=isNaN(m)?p:p-m/200,p=Pt.Yn*mi(p),g=Pt.Xn*mi(g),b=Pt.Zn*mi(b),y=pi(3.2404542*g-1.5371385*p-.4985314*b),E=pi(-.969266*g+1.8760108*p+.041556*b),k=pi(.0556434*g-.2040259*p+1.0572252*b),[y,E,k,a.length>3?a[3]:1]},pi=function(a){return 255*(a<=.00304?12.92*a:1.055*Iu(a,1/2.4)-.055)},mi=function(a){return a>Pt.t1?a*a*a:Pt.t2*(a-Pt.t0)},Is=Nu,Ou=S.unpack,Fu=S.type,Hu=ae,Ns=F,Os=P,qu=$s;Ns.prototype.lab=function(){return qu(this._rgb)},Hu.lab=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(Ns,[null].concat(a,["lab"])))},Os.format.lab=Is,Os.autodetect.push({p:2,test:function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];if(a=Ou(a,"lab"),Fu(a)==="array"&&a.length===3)return"lab"}});var Du=S.unpack,Bu=S.RAD2DEG,ju=Math.sqrt,Vu=Math.atan2,Wu=Math.round,Uu=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=Du(a,"lab"),h=c[0],m=c[1],g=c[2],p=ju(m*m+g*g),b=(Vu(g,m)*Bu+360)%360;return Wu(p*1e4)===0&&(b=Number.NaN),[h,p,b]},Fs=Uu,zu=S.unpack,Ku=$s,Gu=Fs,Yu=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=zu(a,"rgb"),h=c[0],m=c[1],g=c[2],p=Ku(h,m,g),b=p[0],y=p[1],E=p[2];return Gu(b,y,E)},Xu=Yu,Ju=S.unpack,Qu=S.DEG2RAD,Zu=Math.sin,eh=Math.cos,th=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=Ju(a,"lch"),h=c[0],m=c[1],g=c[2];return isNaN(g)&&(g=0),g=g*Qu,[h,eh(g)*m,Zu(g)*m]},Hs=th,rh=S.unpack,ih=Hs,nh=Is,sh=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];a=rh(a,"lch");var c=a[0],h=a[1],m=a[2],g=ih(c,h,m),p=g[0],b=g[1],y=g[2],E=nh(p,b,y),k=E[0],R=E[1],C=E[2];return[k,R,C,a.length>3?a[3]:1]},qs=sh,ah=S.unpack,oh=qs,lh=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=ah(a,"hcl").reverse();return oh.apply(void 0,c)},ch=lh,uh=S.unpack,hh=S.type,Ds=ae,Er=F,gi=P,Bs=Xu;Er.prototype.lch=function(){return Bs(this._rgb)},Er.prototype.hcl=function(){return Bs(this._rgb).reverse()},Ds.lch=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(Er,[null].concat(a,["lch"])))},Ds.hcl=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(Er,[null].concat(a,["hcl"])))},gi.format.lch=qs,gi.format.hcl=ch,["lch","hcl"].forEach(function(a){return gi.autodetect.push({p:2,test:function(){for(var o=[],c=arguments.length;c--;)o[c]=arguments[c];if(o=uh(o,a),hh(o)==="array"&&o.length===3)return a}})});var dh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},js=dh,fh=F,Vs=P,ph=S.type,zt=js,mh=_s,gh=Es;fh.prototype.name=function(){for(var a=gh(this._rgb,"rgb"),o=0,c=Object.keys(zt);o<c.length;o+=1){var h=c[o];if(zt[h]===a)return h.toLowerCase()}return a},Vs.format.named=function(a){if(a=a.toLowerCase(),zt[a])return mh(zt[a]);throw new Error("unknown color name: "+a)},Vs.autodetect.push({p:5,test:function(a){for(var o=[],c=arguments.length-1;c-- >0;)o[c]=arguments[c+1];if(!o.length&&ph(a)==="string"&&zt[a.toLowerCase()])return"named"}});var vh=S.unpack,bh=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=vh(a,"rgb"),h=c[0],m=c[1],g=c[2];return(h<<16)+(m<<8)+g},yh=bh,wh=S.type,Eh=function(a){if(wh(a)=="number"&&a>=0&&a<=16777215){var o=a>>16,c=a>>8&255,h=a&255;return[o,c,h,1]}throw new Error("unknown num color: "+a)},_h=Eh,Sh=ae,Ws=F,Us=P,kh=S.type,Th=yh;Ws.prototype.num=function(){return Th(this._rgb)},Sh.num=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(Ws,[null].concat(a,["num"])))},Us.format.num=_h,Us.autodetect.push({p:5,test:function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];if(a.length===1&&kh(a[0])==="number"&&a[0]>=0&&a[0]<=16777215)return"num"}});var Ch=ae,vi=F,zs=P,Ks=S.unpack,Gs=S.type,Ys=Math.round;vi.prototype.rgb=function(a){return a===void 0&&(a=!0),a===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ys)},vi.prototype.rgba=function(a){return a===void 0&&(a=!0),this._rgb.slice(0,4).map(function(o,c){return c<3?a===!1?o:Ys(o):o})},Ch.rgb=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(vi,[null].concat(a,["rgb"])))},zs.format.rgb=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=Ks(a,"rgba");return c[3]===void 0&&(c[3]=1),c},zs.autodetect.push({p:3,test:function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];if(a=Ks(a,"rgba"),Gs(a)==="array"&&(a.length===3||a.length===4&&Gs(a[3])=="number"&&a[3]>=0&&a[3]<=1))return"rgb"}});var _r=Math.log,Ah=function(a){var o=a/100,c,h,m;return o<66?(c=255,h=o<6?0:-155.25485562709179-.44596950469579133*(h=o-2)+104.49216199393888*_r(h),m=o<20?0:-254.76935184120902+.8274096064007395*(m=o-10)+115.67994401066147*_r(m)):(c=351.97690566805693+.114206453784165*(c=o-55)-40.25366309332127*_r(c),h=325.4494125711974+.07943456536662342*(h=o-50)-28.0852963507957*_r(h),m=255),[c,h,m,1]},Xs=Ah,xh=Xs,Ph=S.unpack,Lh=Math.round,Mh=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];for(var c=Ph(a,"rgb"),h=c[0],m=c[2],g=1e3,p=4e4,b=.4,y;p-g>b;){y=(p+g)*.5;var E=xh(y);E[2]/E[0]>=m/h?p=y:g=y}return Lh(y)},Rh=Mh,bi=ae,Sr=F,yi=P,$h=Rh;Sr.prototype.temp=Sr.prototype.kelvin=Sr.prototype.temperature=function(){return $h(this._rgb)},bi.temp=bi.kelvin=bi.temperature=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(Sr,[null].concat(a,["temp"])))},yi.format.temp=yi.format.kelvin=yi.format.temperature=Xs;var Ih=S.unpack,wi=Math.cbrt,Nh=Math.pow,Oh=Math.sign,Fh=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=Ih(a,"rgb"),h=c[0],m=c[1],g=c[2],p=[Ei(h/255),Ei(m/255),Ei(g/255)],b=p[0],y=p[1],E=p[2],k=wi(.4122214708*b+.5363325363*y+.0514459929*E),R=wi(.2119034982*b+.6806995451*y+.1073969566*E),C=wi(.0883024619*b+.2817188376*y+.6299787005*E);return[.2104542553*k+.793617785*R-.0040720468*C,1.9779984951*k-2.428592205*R+.4505937099*C,.0259040371*k+.7827717662*R-.808675766*C]},Js=Fh;function Ei(a){var o=Math.abs(a);return o<.04045?a/12.92:(Oh(a)||1)*Nh((o+.055)/1.055,2.4)}var Hh=S.unpack,kr=Math.pow,qh=Math.sign,Dh=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];a=Hh(a,"lab");var c=a[0],h=a[1],m=a[2],g=kr(c+.3963377774*h+.2158037573*m,3),p=kr(c-.1055613458*h-.0638541728*m,3),b=kr(c-.0894841775*h-1.291485548*m,3);return[255*_i(4.0767416621*g-3.3077115913*p+.2309699292*b),255*_i(-1.2684380046*g+2.6097574011*p-.3413193965*b),255*_i(-.0041960863*g-.7034186147*p+1.707614701*b),a.length>3?a[3]:1]},Qs=Dh;function _i(a){var o=Math.abs(a);return o>.0031308?(qh(a)||1)*(1.055*kr(o,1/2.4)-.055):a*12.92}var Bh=S.unpack,jh=S.type,Vh=ae,Zs=F,ea=P,Wh=Js;Zs.prototype.oklab=function(){return Wh(this._rgb)},Vh.oklab=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(Zs,[null].concat(a,["oklab"])))},ea.format.oklab=Qs,ea.autodetect.push({p:3,test:function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];if(a=Bh(a,"oklab"),jh(a)==="array"&&a.length===3)return"oklab"}});var Uh=S.unpack,zh=Js,Kh=Fs,Gh=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var c=Uh(a,"rgb"),h=c[0],m=c[1],g=c[2],p=zh(h,m,g),b=p[0],y=p[1],E=p[2];return Kh(b,y,E)},Yh=Gh,Xh=S.unpack,Jh=Hs,Qh=Qs,Zh=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];a=Xh(a,"lch");var c=a[0],h=a[1],m=a[2],g=Jh(c,h,m),p=g[0],b=g[1],y=g[2],E=Qh(p,b,y),k=E[0],R=E[1],C=E[2];return[k,R,C,a.length>3?a[3]:1]},ed=Zh,td=S.unpack,rd=S.type,id=ae,ta=F,ra=P,nd=Yh;ta.prototype.oklch=function(){return nd(this._rgb)},id.oklch=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return new(Function.prototype.bind.apply(ta,[null].concat(a,["oklch"])))},ra.format.oklch=ed,ra.autodetect.push({p:3,test:function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];if(a=td(a,"oklch"),rd(a)==="array"&&a.length===3)return"oklch"}});var ia=F,sd=S.type;ia.prototype.alpha=function(a,o){return o===void 0&&(o=!1),a!==void 0&&sd(a)==="number"?o?(this._rgb[3]=a,this):new ia([this._rgb[0],this._rgb[1],this._rgb[2],a],"rgb"):this._rgb[3]};var ad=F;ad.prototype.clipped=function(){return this._rgb._clipped||!1};var dt=F,od=wr;dt.prototype.darken=function(a){a===void 0&&(a=1);var o=this,c=o.lab();return c[0]-=od.Kn*a,new dt(c,"lab").alpha(o.alpha(),!0)},dt.prototype.brighten=function(a){return a===void 0&&(a=1),this.darken(-a)},dt.prototype.darker=dt.prototype.darken,dt.prototype.brighter=dt.prototype.brighten;var ld=F;ld.prototype.get=function(a){var o=a.split("."),c=o[0],h=o[1],m=this[c]();if(h){var g=c.indexOf(h)-(c.substr(0,2)==="ok"?2:0);if(g>-1)return m[g];throw new Error("unknown channel "+h+" in mode "+c)}else return m};var Lt=F,cd=S.type,ud=Math.pow,hd=1e-7,dd=20;Lt.prototype.luminance=function(a){if(a!==void 0&&cd(a)==="number"){if(a===0)return new Lt([0,0,0,this._rgb[3]],"rgb");if(a===1)return new Lt([255,255,255,this._rgb[3]],"rgb");var o=this.luminance(),c="rgb",h=dd,m=function(p,b){var y=p.interpolate(b,.5,c),E=y.luminance();return Math.abs(a-E)<hd||!h--?y:E>a?m(p,y):m(y,b)},g=(o>a?m(new Lt([0,0,0]),this):m(this,new Lt([255,255,255]))).rgb();return new Lt(g.concat([this._rgb[3]]))}return fd.apply(void 0,this._rgb.slice(0,3))};var fd=function(a,o,c){return a=Si(a),o=Si(o),c=Si(c),.2126*a+.7152*o+.0722*c},Si=function(a){return a/=255,a<=.03928?a/12.92:ud((a+.055)/1.055,2.4)},Pe={},na=F,sa=S.type,Tr=Pe,aa=function(a,o,c){c===void 0&&(c=.5);for(var h=[],m=arguments.length-3;m-- >0;)h[m]=arguments[m+3];var g=h[0]||"lrgb";if(!Tr[g]&&!h.length&&(g=Object.keys(Tr)[0]),!Tr[g])throw new Error("interpolation mode "+g+" is not defined");return sa(a)!=="object"&&(a=new na(a)),sa(o)!=="object"&&(o=new na(o)),Tr[g](a,o,c).alpha(a.alpha()+c*(o.alpha()-a.alpha()))},oa=F,pd=aa;oa.prototype.mix=oa.prototype.interpolate=function(a,o){o===void 0&&(o=.5);for(var c=[],h=arguments.length-2;h-- >0;)c[h]=arguments[h+2];return pd.apply(void 0,[this,a,o].concat(c))};var la=F;la.prototype.premultiply=function(a){a===void 0&&(a=!1);var o=this._rgb,c=o[3];return a?(this._rgb=[o[0]*c,o[1]*c,o[2]*c,c],this):new la([o[0]*c,o[1]*c,o[2]*c,c],"rgb")};var ki=F,md=wr;ki.prototype.saturate=function(a){a===void 0&&(a=1);var o=this,c=o.lch();return c[1]+=md.Kn*a,c[1]<0&&(c[1]=0),new ki(c,"lch").alpha(o.alpha(),!0)},ki.prototype.desaturate=function(a){return a===void 0&&(a=1),this.saturate(-a)};var ca=F,ua=S.type;ca.prototype.set=function(a,o,c){c===void 0&&(c=!1);var h=a.split("."),m=h[0],g=h[1],p=this[m]();if(g){var b=m.indexOf(g)-(m.substr(0,2)==="ok"?2:0);if(b>-1){if(ua(o)=="string")switch(o.charAt(0)){case"+":p[b]+=+o;break;case"-":p[b]+=+o;break;case"*":p[b]*=+o.substr(1);break;case"/":p[b]/=+o.substr(1);break;default:p[b]=+o}else if(ua(o)==="number")p[b]=o;else throw new Error("unsupported value for Color.set");var y=new ca(p,m);return c?(this._rgb=y._rgb,this):y}throw new Error("unknown channel "+g+" in mode "+m)}else return p};var gd=F,vd=function(a,o,c){var h=a._rgb,m=o._rgb;return new gd(h[0]+c*(m[0]-h[0]),h[1]+c*(m[1]-h[1]),h[2]+c*(m[2]-h[2]),"rgb")};Pe.rgb=vd;var bd=F,Ti=Math.sqrt,Mt=Math.pow,yd=function(a,o,c){var h=a._rgb,m=h[0],g=h[1],p=h[2],b=o._rgb,y=b[0],E=b[1],k=b[2];return new bd(Ti(Mt(m,2)*(1-c)+Mt(y,2)*c),Ti(Mt(g,2)*(1-c)+Mt(E,2)*c),Ti(Mt(p,2)*(1-c)+Mt(k,2)*c),"rgb")};Pe.lrgb=yd;var wd=F,Ed=function(a,o,c){var h=a.lab(),m=o.lab();return new wd(h[0]+c*(m[0]-h[0]),h[1]+c*(m[1]-h[1]),h[2]+c*(m[2]-h[2]),"lab")};Pe.lab=Ed;var ha=F,Rt=function(a,o,c,h){var m,g,p,b;h==="hsl"?(p=a.hsl(),b=o.hsl()):h==="hsv"?(p=a.hsv(),b=o.hsv()):h==="hcg"?(p=a.hcg(),b=o.hcg()):h==="hsi"?(p=a.hsi(),b=o.hsi()):h==="lch"||h==="hcl"?(h="hcl",p=a.hcl(),b=o.hcl()):h==="oklch"&&(p=a.oklch().reverse(),b=o.oklch().reverse());var y,E,k,R,C,O;(h.substr(0,1)==="h"||h==="oklch")&&(m=p,y=m[0],k=m[1],C=m[2],g=b,E=g[0],R=g[1],O=g[2]);var I,W,K,Y;return!isNaN(y)&&!isNaN(E)?(E>y&&E-y>180?Y=E-(y+360):E<y&&y-E>180?Y=E+360-y:Y=E-y,W=y+c*Y):isNaN(y)?isNaN(E)?W=Number.NaN:(W=E,(C==1||C==0)&&h!="hsv"&&(I=R)):(W=y,(O==1||O==0)&&h!="hsv"&&(I=k)),I===void 0&&(I=k+c*(R-k)),K=C+c*(O-C),h==="oklch"?new ha([K,I,W],h):new ha([W,I,K],h)},_d=Rt,da=function(a,o,c){return _d(a,o,c,"lch")};Pe.lch=da,Pe.hcl=da;var Sd=F,kd=function(a,o,c){var h=a.num(),m=o.num();return new Sd(h+c*(m-h),"num")};Pe.num=kd;var Td=Rt,Cd=function(a,o,c){return Td(a,o,c,"hcg")};Pe.hcg=Cd;var Ad=Rt,xd=function(a,o,c){return Ad(a,o,c,"hsi")};Pe.hsi=xd;var Pd=Rt,Ld=function(a,o,c){return Pd(a,o,c,"hsl")};Pe.hsl=Ld;var Md=Rt,Rd=function(a,o,c){return Md(a,o,c,"hsv")};Pe.hsv=Rd;var $d=F,Id=function(a,o,c){var h=a.oklab(),m=o.oklab();return new $d(h[0]+c*(m[0]-h[0]),h[1]+c*(m[1]-h[1]),h[2]+c*(m[2]-h[2]),"oklab")};Pe.oklab=Id;var Nd=Rt,Od=function(a,o,c){return Nd(a,o,c,"oklch")};Pe.oklch=Od;var Ci=F,Fd=S.clip_rgb,Ai=Math.pow,xi=Math.sqrt,Pi=Math.PI,fa=Math.cos,pa=Math.sin,Hd=Math.atan2,qd=function(a,o,c){o===void 0&&(o="lrgb"),c===void 0&&(c=null);var h=a.length;c||(c=Array.from(new Array(h)).map(function(){return 1}));var m=h/c.reduce(function(W,K){return W+K});if(c.forEach(function(W,K){c[K]*=m}),a=a.map(function(W){return new Ci(W)}),o==="lrgb")return Dd(a,c);for(var g=a.shift(),p=g.get(o),b=[],y=0,E=0,k=0;k<p.length;k++)if(p[k]=(p[k]||0)*c[0],b.push(isNaN(p[k])?0:c[0]),o.charAt(k)==="h"&&!isNaN(p[k])){var R=p[k]/180*Pi;y+=fa(R)*c[0],E+=pa(R)*c[0]}var C=g.alpha()*c[0];a.forEach(function(W,K){var Y=W.get(o);C+=W.alpha()*c[K+1];for(var Z=0;Z<p.length;Z++)if(!isNaN(Y[Z]))if(b[Z]+=c[K+1],o.charAt(Z)==="h"){var Ee=Y[Z]/180*Pi;y+=fa(Ee)*c[K+1],E+=pa(Ee)*c[K+1]}else p[Z]+=Y[Z]*c[K+1]});for(var O=0;O<p.length;O++)if(o.charAt(O)==="h"){for(var I=Hd(E/b[O],y/b[O])/Pi*180;I<0;)I+=360;for(;I>=360;)I-=360;p[O]=I}else p[O]=p[O]/b[O];return C/=h,new Ci(p,o).alpha(C>.99999?1:C,!0)},Dd=function(a,o){for(var c=a.length,h=[0,0,0,0],m=0;m<a.length;m++){var g=a[m],p=o[m]/c,b=g._rgb;h[0]+=Ai(b[0],2)*p,h[1]+=Ai(b[1],2)*p,h[2]+=Ai(b[2],2)*p,h[3]+=b[3]*p}return h[0]=xi(h[0]),h[1]=xi(h[1]),h[2]=xi(h[2]),h[3]>.9999999&&(h[3]=1),new Ci(Fd(h))},Le=ae,$t=S.type,Bd=Math.pow,Li=function(a){var o="rgb",c=Le("#ccc"),h=0,m=[0,1],g=[],p=[0,0],b=!1,y=[],E=!1,k=0,R=1,C=!1,O={},I=!0,W=1,K=function(A){if(A=A||["#fff","#000"],A&&$t(A)==="string"&&Le.brewer&&Le.brewer[A.toLowerCase()]&&(A=Le.brewer[A.toLowerCase()]),$t(A)==="array"){A.length===1&&(A=[A[0],A[0]]),A=A.slice(0);for(var D=0;D<A.length;D++)A[D]=Le(A[D]);g.length=0;for(var z=0;z<A.length;z++)g.push(z/(A.length-1))}return Ae(),y=A},Y=function(A){if(b!=null){for(var D=b.length-1,z=0;z<D&&A>=b[z];)z++;return z-1}return 0},Z=function(A){return A},Ee=function(A){return A},be=function(A,D){var z,U;if(D==null&&(D=!1),isNaN(A)||A===null)return c;if(D)U=A;else if(b&&b.length>2){var _e=Y(A);U=_e/(b.length-2)}else R!==k?U=(A-k)/(R-k):U=1;U=Ee(U),D||(U=Z(U)),W!==1&&(U=Bd(U,W)),U=p[0]+U*(1-p[0]-p[1]),U=Math.min(1,Math.max(0,U));var se=Math.floor(U*1e4);if(I&&O[se])z=O[se];else{if($t(y)==="array")for(var X=0;X<g.length;X++){var ee=g[X];if(U<=ee){z=y[X];break}if(U>=ee&&X===g.length-1){z=y[X];break}if(U>ee&&U<g[X+1]){U=(U-ee)/(g[X+1]-ee),z=Le.interpolate(y[X],y[X+1],U,o);break}}else $t(y)==="function"&&(z=y(U));I&&(O[se]=z)}return z},Ae=function(){return O={}};K(a);var G=function(A){var D=Le(be(A));return E&&D[E]?D[E]():D};return G.classes=function(A){if(A!=null){if($t(A)==="array")b=A,m=[A[0],A[A.length-1]];else{var D=Le.analyze(m);A===0?b=[D.min,D.max]:b=Le.limits(D,"e",A)}return G}return b},G.domain=function(A){if(!arguments.length)return m;k=A[0],R=A[A.length-1],g=[];var D=y.length;if(A.length===D&&k!==R)for(var z=0,U=Array.from(A);z<U.length;z+=1){var _e=U[z];g.push((_e-k)/(R-k))}else{for(var se=0;se<D;se++)g.push(se/(D-1));if(A.length>2){var X=A.map(function(te,ie){return ie/(A.length-1)}),ee=A.map(function(te){return(te-k)/(R-k)});ee.every(function(te,ie){return X[ie]===te})||(Ee=function(te){if(te<=0||te>=1)return te;for(var ie=0;te>=ee[ie+1];)ie++;var Re=(te-ee[ie])/(ee[ie+1]-ee[ie]),Ze=X[ie]+Re*(X[ie+1]-X[ie]);return Ze})}}return m=[k,R],G},G.mode=function(A){return arguments.length?(o=A,Ae(),G):o},G.range=function(A,D){return K(A),G},G.out=function(A){return E=A,G},G.spread=function(A){return arguments.length?(h=A,G):h},G.correctLightness=function(A){return A==null&&(A=!0),C=A,Ae(),C?Z=function(D){for(var z=be(0,!0).lab()[0],U=be(1,!0).lab()[0],_e=z>U,se=be(D,!0).lab()[0],X=z+(U-z)*D,ee=se-X,te=0,ie=1,Re=20;Math.abs(ee)>.01&&Re-- >0;)(function(){return _e&&(ee*=-1),ee<0?(te=D,D+=(ie-D)*.5):(ie=D,D+=(te-D)*.5),se=be(D,!0).lab()[0],ee=se-X})();return D}:Z=function(D){return D},G},G.padding=function(A){return A!=null?($t(A)==="number"&&(A=[A,A]),p=A,G):p},G.colors=function(A,D){arguments.length<2&&(D="hex");var z=[];if(arguments.length===0)z=y.slice(0);else if(A===1)z=[G(.5)];else if(A>1){var U=m[0],_e=m[1]-U;z=jd(0,A,!1).map(function(ie){return G(U+ie/(A-1)*_e)})}else{a=[];var se=[];if(b&&b.length>2)for(var X=1,ee=b.length,te=1<=ee;te?X<ee:X>ee;te?X++:X--)se.push((b[X-1]+b[X])*.5);else se=m;z=se.map(function(ie){return G(ie)})}return Le[D]&&(z=z.map(function(ie){return ie[D]()})),z},G.cache=function(A){return A!=null?(I=A,G):I},G.gamma=function(A){return A!=null?(W=A,G):W},G.nodata=function(A){return A!=null?(c=Le(A),G):c},G};function jd(a,o,c){for(var h=[],m=a<o,g=c?m?o+1:o-1:o,p=a;m?p<g:p>g;m?p++:p--)h.push(p);return h}var Kt=F,Vd=Li,Wd=function(a){for(var o=[1,1],c=1;c<a;c++){for(var h=[1],m=1;m<=o.length;m++)h[m]=(o[m]||0)+o[m-1];o=h}return o},Ud=function(a){var o,c,h,m,g,p,b;if(a=a.map(function(C){return new Kt(C)}),a.length===2)o=a.map(function(C){return C.lab()}),g=o[0],p=o[1],m=function(C){var O=[0,1,2].map(function(I){return g[I]+C*(p[I]-g[I])});return new Kt(O,"lab")};else if(a.length===3)c=a.map(function(C){return C.lab()}),g=c[0],p=c[1],b=c[2],m=function(C){var O=[0,1,2].map(function(I){return(1-C)*(1-C)*g[I]+2*(1-C)*C*p[I]+C*C*b[I]});return new Kt(O,"lab")};else if(a.length===4){var y;h=a.map(function(C){return C.lab()}),g=h[0],p=h[1],b=h[2],y=h[3],m=function(C){var O=[0,1,2].map(function(I){return(1-C)*(1-C)*(1-C)*g[I]+3*(1-C)*(1-C)*C*p[I]+3*(1-C)*C*C*b[I]+C*C*C*y[I]});return new Kt(O,"lab")}}else if(a.length>=5){var E,k,R;E=a.map(function(C){return C.lab()}),R=a.length-1,k=Wd(R),m=function(C){var O=1-C,I=[0,1,2].map(function(W){return E.reduce(function(K,Y,Z){return K+k[Z]*Math.pow(O,R-Z)*Math.pow(C,Z)*Y[W]},0)});return new Kt(I,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return m},zd=function(a){var o=Ud(a);return o.scale=function(){return Vd(o)},o},Mi=ae,Me=function(a,o,c){if(!Me[c])throw new Error("unknown blend mode "+c);return Me[c](a,o)},Je=function(a){return function(o,c){var h=Mi(c).rgb(),m=Mi(o).rgb();return Mi.rgb(a(h,m))}},Qe=function(a){return function(o,c){var h=[];return h[0]=a(o[0],c[0]),h[1]=a(o[1],c[1]),h[2]=a(o[2],c[2]),h}},Kd=function(a){return a},Gd=function(a,o){return a*o/255},Yd=function(a,o){return a>o?o:a},Xd=function(a,o){return a>o?a:o},Jd=function(a,o){return 255*(1-(1-a/255)*(1-o/255))},Qd=function(a,o){return o<128?2*a*o/255:255*(1-2*(1-a/255)*(1-o/255))},Zd=function(a,o){return 255*(1-(1-o/255)/(a/255))},ef=function(a,o){return a===255?255:(a=255*(o/255)/(1-a/255),a>255?255:a)};Me.normal=Je(Qe(Kd)),Me.multiply=Je(Qe(Gd)),Me.screen=Je(Qe(Jd)),Me.overlay=Je(Qe(Qd)),Me.darken=Je(Qe(Yd)),Me.lighten=Je(Qe(Xd)),Me.dodge=Je(Qe(ef)),Me.burn=Je(Qe(Zd));for(var tf=Me,Ri=S.type,rf=S.clip_rgb,nf=S.TWOPI,sf=Math.pow,af=Math.sin,of=Math.cos,ma=ae,lf=function(a,o,c,h,m){a===void 0&&(a=300),o===void 0&&(o=-1.5),c===void 0&&(c=1),h===void 0&&(h=1),m===void 0&&(m=[0,1]);var g=0,p;Ri(m)==="array"?p=m[1]-m[0]:(p=0,m=[m,m]);var b=function(y){var E=nf*((a+120)/360+o*y),k=sf(m[0]+p*y,h),R=g!==0?c[0]+y*g:c,C=R*k*(1-k)/2,O=of(E),I=af(E),W=k+C*(-.14861*O+1.78277*I),K=k+C*(-.29227*O-.90649*I),Y=k+C*(1.97294*O);return ma(rf([W*255,K*255,Y*255,1]))};return b.start=function(y){return y==null?a:(a=y,b)},b.rotations=function(y){return y==null?o:(o=y,b)},b.gamma=function(y){return y==null?h:(h=y,b)},b.hue=function(y){return y==null?c:(c=y,Ri(c)==="array"?(g=c[1]-c[0],g===0&&(c=c[1])):g=0,b)},b.lightness=function(y){return y==null?m:(Ri(y)==="array"?(m=y,p=y[1]-y[0]):(m=[y,y],p=0),b)},b.scale=function(){return ma.scale(b)},b.hue(c),b},cf=F,uf="0123456789abcdef",hf=Math.floor,df=Math.random,ff=function(){for(var a="#",o=0;o<6;o++)a+=uf.charAt(hf(df()*16));return new cf(a,"hex")},$i=v,ga=Math.log,pf=Math.pow,mf=Math.floor,gf=Math.abs,va=function(a,o){o===void 0&&(o=null);var c={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return $i(a)==="object"&&(a=Object.values(a)),a.forEach(function(h){o&&$i(h)==="object"&&(h=h[o]),h!=null&&!isNaN(h)&&(c.values.push(h),c.sum+=h,h<c.min&&(c.min=h),h>c.max&&(c.max=h),c.count+=1)}),c.domain=[c.min,c.max],c.limits=function(h,m){return ba(c,h,m)},c},ba=function(a,o,c){o===void 0&&(o="equal"),c===void 0&&(c=7),$i(a)=="array"&&(a=va(a));var h=a.min,m=a.max,g=a.values.sort(function(Ni,Oi){return Ni-Oi});if(c===1)return[h,m];var p=[];if(o.substr(0,1)==="c"&&(p.push(h),p.push(m)),o.substr(0,1)==="e"){p.push(h);for(var b=1;b<c;b++)p.push(h+b/c*(m-h));p.push(m)}else if(o.substr(0,1)==="l"){if(h<=0)throw new Error("Logarithmic scales are only possible for values > 0");var y=Math.LOG10E*ga(h),E=Math.LOG10E*ga(m);p.push(h);for(var k=1;k<c;k++)p.push(pf(10,y+k/c*(E-y)));p.push(m)}else if(o.substr(0,1)==="q"){p.push(h);for(var R=1;R<c;R++){var C=(g.length-1)*R/c,O=mf(C);if(O===C)p.push(g[O]);else{var I=C-O;p.push(g[O]*(1-I)+g[O+1]*I)}}p.push(m)}else if(o.substr(0,1)==="k"){var W,K=g.length,Y=new Array(K),Z=new Array(c),Ee=!0,be=0,Ae=null;Ae=[],Ae.push(h);for(var G=1;G<c;G++)Ae.push(h+G/c*(m-h));for(Ae.push(m);Ee;){for(var A=0;A<c;A++)Z[A]=0;for(var D=0;D<K;D++)for(var z=g[D],U=Number.MAX_VALUE,_e=void 0,se=0;se<c;se++){var X=gf(Ae[se]-z);X<U&&(U=X,_e=se),Z[_e]++,Y[D]=_e}for(var ee=new Array(c),te=0;te<c;te++)ee[te]=null;for(var ie=0;ie<K;ie++)W=Y[ie],ee[W]===null?ee[W]=g[ie]:ee[W]+=g[ie];for(var Re=0;Re<c;Re++)ee[Re]*=1/Z[Re];Ee=!1;for(var Ze=0;Ze<c;Ze++)if(ee[Ze]!==Ae[Ze]){Ee=!0;break}Ae=ee,be++,be>200&&(Ee=!1)}for(var et={},It=0;It<c;It++)et[It]=[];for(var Nt=0;Nt<K;Nt++)W=Y[Nt],et[W].push(g[Nt]);for(var je=[],ft=0;ft<c;ft++)je.push(et[ft][0]),je.push(et[ft][et[ft].length-1]);je=je.sort(function(Ni,Oi){return Ni-Oi}),p.push(je[0]);for(var Gt=1;Gt<je.length;Gt+=2){var pt=je[Gt];!isNaN(pt)&&p.indexOf(pt)===-1&&p.push(pt)}}return p},ya={analyze:va,limits:ba},wa=F,vf=function(a,o){a=new wa(a),o=new wa(o);var c=a.luminance(),h=o.luminance();return c>h?(c+.05)/(h+.05):(h+.05)/(c+.05)},Ea=F,Be=Math.sqrt,de=Math.pow,bf=Math.min,yf=Math.max,_a=Math.atan2,Sa=Math.abs,Cr=Math.cos,ka=Math.sin,wf=Math.exp,Ta=Math.PI,Ef=function(a,o,c,h,m){c===void 0&&(c=1),h===void 0&&(h=1),m===void 0&&(m=1);var g=function(pt){return 360*pt/(2*Ta)},p=function(pt){return 2*Ta*pt/360};a=new Ea(a),o=new Ea(o);var b=Array.from(a.lab()),y=b[0],E=b[1],k=b[2],R=Array.from(o.lab()),C=R[0],O=R[1],I=R[2],W=(y+C)/2,K=Be(de(E,2)+de(k,2)),Y=Be(de(O,2)+de(I,2)),Z=(K+Y)/2,Ee=.5*(1-Be(de(Z,7)/(de(Z,7)+de(25,7)))),be=E*(1+Ee),Ae=O*(1+Ee),G=Be(de(be,2)+de(k,2)),A=Be(de(Ae,2)+de(I,2)),D=(G+A)/2,z=g(_a(k,be)),U=g(_a(I,Ae)),_e=z>=0?z:z+360,se=U>=0?U:U+360,X=Sa(_e-se)>180?(_e+se+360)/2:(_e+se)/2,ee=1-.17*Cr(p(X-30))+.24*Cr(p(2*X))+.32*Cr(p(3*X+6))-.2*Cr(p(4*X-63)),te=se-_e;te=Sa(te)<=180?te:se<=_e?te+360:te-360,te=2*Be(G*A)*ka(p(te)/2);var ie=C-y,Re=A-G,Ze=1+.015*de(W-50,2)/Be(20+de(W-50,2)),et=1+.045*D,It=1+.015*D*ee,Nt=30*wf(-de((X-275)/25,2)),je=2*Be(de(D,7)/(de(D,7)+de(25,7))),ft=-je*ka(2*p(Nt)),Gt=Be(de(ie/(c*Ze),2)+de(Re/(h*et),2)+de(te/(m*It),2)+ft*(Re/(h*et))*(te/(m*It)));return yf(0,bf(100,Gt))},Ca=F,_f=function(a,o,c){c===void 0&&(c="lab"),a=new Ca(a),o=new Ca(o);var h=a.get(c),m=o.get(c),g=0;for(var p in h){var b=(h[p]||0)-(m[p]||0);g+=b*b}return Math.sqrt(g)},Sf=F,kf=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];try{return new(Function.prototype.bind.apply(Sf,[null].concat(a))),!0}catch{return!1}},Aa=ae,xa=Li,Tf={cool:function(){return xa([Aa.hsl(180,1,.9),Aa.hsl(250,.7,.4)])},hot:function(){return xa(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Ar={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Ii=0,Pa=Object.keys(Ar);Ii<Pa.length;Ii+=1){var La=Pa[Ii];Ar[La.toLowerCase()]=Ar[La]}var Cf=Ar,ve=ae;ve.average=qd,ve.bezier=zd,ve.blend=tf,ve.cubehelix=lf,ve.mix=ve.interpolate=aa,ve.random=ff,ve.scale=Li,ve.analyze=ya.analyze,ve.contrast=vf,ve.deltaE=Ef,ve.distance=_f,ve.limits=ya.limits,ve.valid=kf,ve.scales=Tf,ve.colors=js,ve.brewer=Cf;var Af=ve;return Af})})(ic);var ub=ic.exports;const hb=cb(ub);st.store("ui",{colors:hb.scale([window.primaryColor,window.secondaryColor]).colors(5)});let Ot=new lr("audio",{controls:["play","rewind","progress","fast-forward","current-time","settings"],iconUrl:"/img/plyr-sprite.svg",seekTime:15});st.store("player",{plyr:null,playing:!1,audio_file:null,episode_url:null,title:null,show:!1,init(){Ot.on("playing",e=>{st.store("player").playing=!0}),Ot.on("pause",e=>{st.store("player").playing=!1}),Ot.on("ended",e=>{st.store("player").playing=!1})},playEpisode(e,t,r,i){this.audio_file!==t&&(Ot.source={type:"audio",title:e,audio_file:t,sources:[{src:t,type:r}]}),this.toggle(t),this.title=e,this.audio_file=t,this.episode_url=i,this.show=!0},toggle(e){if(this.playing&&e===this.audio_file){Ot.pause(),st.store("player").playing=!1;return}Ot.togglePlay()}});st.start();window.Alpine=st;document.addEventListener("turbo:before-render",()=>{let e=document.querySelectorAll("[data-turbo-permanent]"),t=Array.from(e).map(r=>(r._x_ignore=!0,()=>{delete r._x_ignore}));document.addEventListener("turbo:render",function r(){for(;t.length;)t.shift()();document.removeEventListener("turbo:render",r)})});
